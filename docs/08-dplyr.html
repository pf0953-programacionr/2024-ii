<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PF-0953 Programación en R 2024-II - 8&nbsp; dplyr - gramática para manipulación de datos</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./09-ggplot2-plotly.html" rel="next">
<link href="./07-tidyverse.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./parte-iv-graficacion-estadistica-r.html">IV - Graficación estadística en R</a></li><li class="breadcrumb-item"><a href="./08-dplyr.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">PF-0953 Programación en R 2024-II</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenida</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programa_curso.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programa del curso</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-i-introduccion-programacion-computadoras-ciencia-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">I - Introducción a la programación de computadoras y a la ciencia de datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-introduccion-programacion-computadoras.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción a la programación de computadoras</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-introduccion-ciencia-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introducción a la ciencia de datos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-ii-lenguaje-programacion-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">II - El lenguaje de programación R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R - lenguaje de programación para análisis estadístico</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-iii-herramientas-investigacion-reproducible-desarrollo-colaborativo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">III - Herramientas para investigación reproducible y desarrollo colaborativo</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Markdown - lenguaje de marcado</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Git - sistema de control de versiones</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Quarto - sistema de publicación técnica y científica</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-iv-graficacion-estadistica-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IV - Graficación estadística en R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Tidyverse - colección de paquetes para ciencia de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-dplyr.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-ggplot2-plotly.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="5">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#trabajo-previo" id="toc-trabajo-previo" class="nav-link active" data-scroll-target="#trabajo-previo">Trabajo previo</a>
  <ul class="collapse">
  <li><a href="#lecturas" id="toc-lecturas" class="nav-link" data-scroll-target="#lecturas">Lecturas</a></li>
  </ul></li>
  <li><a href="#introducción" id="toc-introducción" class="nav-link" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#instalación-y-carga" id="toc-instalación-y-carga" class="nav-link" data-scroll-target="#instalación-y-carga"><span class="header-section-number">8.1</span> Instalación y carga</a></li>
  <li><a href="#conjuntos-de-datos-para-ejemplos" id="toc-conjuntos-de-datos-para-ejemplos" class="nav-link" data-scroll-target="#conjuntos-de-datos-para-ejemplos"><span class="header-section-number">8.2</span> Conjuntos de datos para ejemplos</a>
  <ul class="collapse">
  <li><a href="#pingüinos-del-archipiélago-palmer" id="toc-pingüinos-del-archipiélago-palmer" class="nav-link" data-scroll-target="#pingüinos-del-archipiélago-palmer"><span class="header-section-number">8.2.1</span> Pingüinos del archipiélago Palmer</a></li>
  <li><a href="#países" id="toc-países" class="nav-link" data-scroll-target="#países"><span class="header-section-number">8.2.2</span> Países</a></li>
  <li><a href="#esperanza-de-vida-al-nacer" id="toc-esperanza-de-vida-al-nacer" class="nav-link" data-scroll-target="#esperanza-de-vida-al-nacer"><span class="header-section-number">8.2.3</span> Esperanza de vida al nacer</a></li>
  </ul></li>
  <li><a href="#funciones" id="toc-funciones" class="nav-link" data-scroll-target="#funciones"><span class="header-section-number">8.3</span> Funciones</a>
  <ul class="collapse">
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select"><span class="header-section-number">8.3.1</span> select()</a></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter"><span class="header-section-number">8.3.2</span> filter()</a></li>
  <li><a href="#arrange" id="toc-arrange" class="nav-link" data-scroll-target="#arrange"><span class="header-section-number">8.3.3</span> arrange()</a></li>
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate"><span class="header-section-number">8.3.4</span> mutate()</a></li>
  <li><a href="#group_by-y-summarize" id="toc-group_by-y-summarize" class="nav-link" data-scroll-target="#group_by-y-summarize"><span class="header-section-number">8.3.5</span> group_by() y summarize()</a></li>
  <li><a href="#otras" id="toc-otras" class="nav-link" data-scroll-target="#otras"><span class="header-section-number">8.3.6</span> Otras</a></li>
  </ul></li>
  <li><a href="#ejercicios" id="toc-ejercicios" class="nav-link" data-scroll-target="#ejercicios"><span class="header-section-number">8.4</span> Ejercicios</a></li>
  <li><a href="#recursos-de-interés" id="toc-recursos-de-interés" class="nav-link" data-scroll-target="#recursos-de-interés"><span class="header-section-number">8.5</span> Recursos de interés</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./parte-iv-graficacion-estadistica-r.html">IV - Graficación estadística en R</a></li><li class="breadcrumb-item"><a href="./08-dplyr.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="trabajo-previo" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="trabajo-previo">Trabajo previo</h2>
<section id="lecturas" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="lecturas">Lecturas</h3>
<p>Wickham, H., Çetinkaya-Rundel, M., &amp; Grolemund, G. (s. f.). <em>R for Data Science (2nd ed.) Chapter 4 - Data transformation</em>. Recuperado 5 de mayo de 2024, de <a href="https://r4ds.hadley.nz/data-transform.html" class="uri">https://r4ds.hadley.nz/data-transform.html</a></p>
</section>
</section>
<section id="introducción" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="introducción">Introducción</h2>
<p>El paquete <a href="https://dplyr.tidyverse.org/">dplyr</a> de <a href="https://www.tidyverse.org/">Tidyverse</a> es descrito como una <em>gramática para la manipulación de datos</em>, la cual proporciona un conjunto consistente de “verbos” que ayuda a solucionar los retos de procesamiento de datos más comunes. Los principales verbos (i.e.&nbsp;funciones) de esta gramática son:</p>
<p><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a>: selecciona columnas con base en sus nombres.</p>
<p><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a>: selecciona filas con base en sus valores.</p>
<p><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a>: cambia el orden de las filas.</p>
<p><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a>: crea nuevas columnas, las cuales se expresan como funciones de columnas existentes.</p>
<p><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a>: agrupa y resume valores.</p>
<p>Todas estas operaciones pueden combinarse con la función <a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a>, la cual ejecuta cualquiera de las operaciones anteriores “en grupo”. Además, dplyr proporciona <a href="https://dplyr.tidyverse.org/reference/index.html">funciones adicionales</a> para tareas más específicas.</p>
<p>Las funciones de dplyr pueden encadenarse a través del operador <em>pipe</em> (tubo), ya sea el del paquete magrittr <a href="https://magrittr.tidyverse.org/reference/pipe.html">(%&gt;%)</a> o el del paquete base de R <a href="https://michaelbarrowman.co.uk/post/the-new-base-pipe/">(|&gt;)</a>. En el material de este curso, se prefiere la segunda opción. Los <em>pipes</em> se utilizan para comunicar procesos y así formar <em>pipelines</em> (tuberías).</p>
<p>Todas las funciones de dplyr trabajan de manera similar:</p>
<ol type="1">
<li>El primer argumento siempre es un data frame. Puede omitirse si la función recibe el data frame a través del operador <em>pipe</em>.</li>
<li>Los argumentos siguientes describen que hacer con el data frame, utilizando los nombres de las columnas (sin comillas).<br>
</li>
<li>El resultado siempre es un nuevo data frame.</li>
</ol>
<p>Ya que cada función de dplyr se especializa en una sola tarea, usualmente es necesario encadenar funciones mediante <em>pipes</em> para lograr un objetivo de procesamiento de datos. Por ejemplo, el siguiente bloque de código usa tres verbos, o funciones, de dplyr para obtener la masa promedio de cada especie de pingüinos que habita en la isla Biscoe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cálculo de la masa promedio para cada especie de pingüinos</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># que habita en la isla Biscoe</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(island <span class="sc">==</span> <span class="st">"Biscoe"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">body_mass_g_mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>A tibble: 2 × 2
species body_mass_g_mean
&lt;fct&gt;              &lt;dbl&gt;
Adelie          3710.659
Gentoo          5076.016</code></pre>
</section>
<section id="instalación-y-carga" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="instalación-y-carga"><span class="header-section-number">8.1</span> Instalación y carga</h2>
<p>El paquete dplyr puede instalarse junto con todos los demás paquete de Tidyverse o de manera individual:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación conjunta de Tidyverse</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación individual</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"dplyr"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Una vez instalado, dplyr puede cargarse con la función <code>library()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga conjunta de Tidyverse</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga individual</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Seguidamente, se cargan algunos paquetes adicionales que se utilizan en este capítulo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de readr, paquete para lectura de datos</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de tidyr, paquete para creación de datos "tidy"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de knitr, paquete para integrar salidas en R en documentos dinámicos</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># (ej. Quarto). En este capítulo se usa para generar tablas.</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conjuntos-de-datos-para-ejemplos" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="conjuntos-de-datos-para-ejemplos"><span class="header-section-number">8.2</span> Conjuntos de datos para ejemplos</h2>
<p>En los ejemplos de este capítulo, se utilizan dos conjunto de datos:</p>
<ul>
<li><a href="https://allisonhorst.github.io/palmerpenguins/#about-the-data">Pingüinos del archipiélago Palmer</a> de <a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a>.</li>
<li><a href="https://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_admin_0_sovereignty.zip">Países (<em>Admin 0 – Details</em>)</a> de <a href="https://www.naturalearthdata.com/">Natural Earth</a>.</li>
<li><a href="https://raw.githubusercontent.com/pf0953-programacionr/2024-ii/refs/heads/main/datos/world-bank/paises-esperanza-vida.csv">Esperanza de vida al nacer)</a> de <a href="https://datos.bancomundial.org/indicador/SP.DYN.LE00.IN">Banco Mundial - Indicadores</a>.</li>
</ul>
<section id="pingüinos-del-archipiélago-palmer" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="pingüinos-del-archipiélago-palmer"><span class="header-section-number">8.2.1</span> Pingüinos del archipiélago Palmer</h3>
<p>Para cargar el conjunto de datos <code>penguins</code>, basta con cargar el paquete <code>palmerpenguins</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga del paquete de datos palmerpenguins</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La función <a href="https://dplyr.tidyverse.org/reference/glimpse.html">glimpse()</a> despliega la estructura de un conjunto de datos, incluyendo los nombres de las columnas, sus tipos de datos y una muestra de estos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estructura del conjunto de datos penguins</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(penguins)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 344
Columns: 8
$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…
$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…
$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …
$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …
$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…
$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …
$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male…
$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…</code></pre>
</div>
</div>
<p>La función también puede llamarse mediante un <em>pipe</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estructura del conjunto de datos penguins</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 344
Columns: 8
$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…
$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…
$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …
$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …
$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…
$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …
$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male…
$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…</code></pre>
</div>
</div>
<p>Un conjunto de datos puede visualizarse al escribir su nombre en la consola de R o en un programa:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Despliegue de los datos de penguins</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>penguins</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 8
   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
 1 Adelie  Torgersen           39.1          18.7               181        3750
 2 Adelie  Torgersen           39.5          17.4               186        3800
 3 Adelie  Torgersen           40.3          18                 195        3250
 4 Adelie  Torgersen           NA            NA                  NA          NA
 5 Adelie  Torgersen           36.7          19.3               193        3450
 6 Adelie  Torgersen           39.3          20.6               190        3650
 7 Adelie  Torgersen           38.9          17.8               181        3625
 8 Adelie  Torgersen           39.2          19.6               195        4675
 9 Adelie  Torgersen           34.1          18.1               193        3475
10 Adelie  Torgersen           42            20.2               190        4250
# ℹ 334 more rows
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
<p><code>penguins</code> es un <a href="https://tibble.tidyverse.org/">tibble</a>, un tipo especial de data frame que se utiliza en Tidyverse. La diferencia más importante entre un tibble y un data frame es la manera en la que se imprimen: los tibbles están diseñados para conjuntos de datos grandes, por lo que solo muestran los primeros registros y las columnas que caben en la pantalla. Un data frame regular muestra todas sus columnas y muchos más registros, lo que dificulta su visualización. Note la diferencia, por ejemplo, con la forma en la que se despliega el conjunto de datos <code>iris</code> (observe también la diferencia entre las salidas de <code>class(iris)</code> y <code>class(penguins)</code>). A pesar de estas diferencias en el despliegue, en general, un data frame regular y un tibble pueden tratarse indistintamente.</p>
<p>Para generar una salida más estilizada, puede usarse la función <a href="https://rdrr.io/cran/knitr/man/kable.html">knitr::kable()</a>, la cual genera tablas para documentos web. En el siguiente ejemplo, se obtienen los primeros registros de penguins con la función <a href="https://rdrr.io/r/utils/head.html">head()</a> y se despliegan en una tabla mediante <code>kable()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Despliegue de los primeros registros de penguins en una tabla kable</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">species</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">island</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">bill_length_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">bill_depth_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">flipper_length_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">body_mass_g</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">sex</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">39.1</td>
<td style="text-align: right;">18.7</td>
<td style="text-align: right;">181</td>
<td style="text-align: right;">3750</td>
<td style="text-align: left;">male</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="even">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">39.5</td>
<td style="text-align: right;">17.4</td>
<td style="text-align: right;">186</td>
<td style="text-align: right;">3800</td>
<td style="text-align: left;">female</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">40.3</td>
<td style="text-align: right;">18.0</td>
<td style="text-align: right;">195</td>
<td style="text-align: right;">3250</td>
<td style="text-align: left;">female</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="even">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">36.7</td>
<td style="text-align: right;">19.3</td>
<td style="text-align: right;">193</td>
<td style="text-align: right;">3450</td>
<td style="text-align: left;">female</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="even">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">39.3</td>
<td style="text-align: right;">20.6</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">3650</td>
<td style="text-align: left;">male</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">38.9</td>
<td style="text-align: right;">17.8</td>
<td style="text-align: right;">181</td>
<td style="text-align: right;">3625</td>
<td style="text-align: left;">female</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="even">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">39.2</td>
<td style="text-align: right;">19.6</td>
<td style="text-align: right;">195</td>
<td style="text-align: right;">4675</td>
<td style="text-align: left;">male</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">34.1</td>
<td style="text-align: right;">18.1</td>
<td style="text-align: right;">193</td>
<td style="text-align: right;">3475</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2007</td>
</tr>
<tr class="even">
<td style="text-align: left;">Adelie</td>
<td style="text-align: left;">Torgersen</td>
<td style="text-align: right;">42.0</td>
<td style="text-align: right;">20.2</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">4250</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2007</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="países" class="level3" data-number="8.2.2">
<h3 data-number="8.2.2" class="anchored" data-anchor-id="países"><span class="header-section-number">8.2.2</span> Países</h3>
<p>Se utiliza la función <a href="https://readr.tidyverse.org/reference/read_delim.html">readr::read_csv()</a> para leer un archivo CSV almacenado en el repositorio GitHub de este curso, con los datos de las estadísticas policiales proporcionados por el OIJ en formato Excel. <code>readr::read_csv()</code> es más eficiente que <code>read.csv()</code> (del paquete base de R) y tiene otras ventajas como detección automática de tipos de datos y mejor integración con otros paquetes de Tidyverse (ej. dplyr, tidyr, ggplot2).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de los datos de países</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>paises <span class="ot">&lt;-</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/pf0953-programacionr/2024-ii/refs/heads/main/datos/natural-earth/paises.csv"</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Estructura del conjunto de datos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estructura de los datos de países</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(paises)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 201
Columns: 10
$ ADM0_ISO   &lt;chr&gt; "IDN", "MYS", "CHL", "BOL", "PER", "ARG", "GBR", "CYP", "IN…
$ NAME       &lt;chr&gt; "Indonesia", "Malaysia", "Chile", "Bolivia", "Peru", "Argen…
$ CONTINENT  &lt;chr&gt; "Asia", "Asia", "South America", "South America", "South Am…
$ REGION_UN  &lt;chr&gt; "Asia", "Asia", "Americas", "Americas", "Americas", "Americ…
$ SUBREGION  &lt;chr&gt; "South-Eastern Asia", "South-Eastern Asia", "South America"…
$ REGION_WB  &lt;chr&gt; "East Asia &amp; Pacific", "East Asia &amp; Pacific", "Latin Americ…
$ ECONOMY    &lt;chr&gt; "4. Emerging region: MIKT", "6. Developing region", "5. Eme…
$ INCOME_GRP &lt;chr&gt; "4. Lower middle income", "3. Upper middle income", "3. Upp…
$ POP_EST    &lt;dbl&gt; 270625568, 31949777, 18952038, 11513100, 32510453, 44938712…
$ GDP_MD     &lt;dbl&gt; 1119190, 364681, 282318, 40895, 226848, 445445, 2863166, 24…</code></pre>
</div>
</div>
<p>Despliegue de los datos (debido a que <code>paises</code> es un data frame, pero no un tibble, se limitan manualmente las filas y columnas que se muestran):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Despliegue de los primeros registros de paises en una tabla kable</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">ADM0_ISO</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">NAME</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">CONTINENT</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">REGION_UN</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">SUBREGION</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">REGION_WB</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ECONOMY</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">INCOME_GRP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">POP_EST</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">GDP_MD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">IDN</td>
<td style="text-align: left;">Indonesia</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">South-Eastern Asia</td>
<td style="text-align: left;">East Asia &amp; Pacific</td>
<td style="text-align: left;">4. Emerging region: MIKT</td>
<td style="text-align: left;">4. Lower middle income</td>
<td style="text-align: right;">270625568</td>
<td style="text-align: right;">1119190</td>
</tr>
<tr class="even">
<td style="text-align: left;">MYS</td>
<td style="text-align: left;">Malaysia</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">South-Eastern Asia</td>
<td style="text-align: left;">East Asia &amp; Pacific</td>
<td style="text-align: left;">6. Developing region</td>
<td style="text-align: left;">3. Upper middle income</td>
<td style="text-align: right;">31949777</td>
<td style="text-align: right;">364681</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CHL</td>
<td style="text-align: left;">Chile</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Latin America &amp; Caribbean</td>
<td style="text-align: left;">5. Emerging region: G20</td>
<td style="text-align: left;">3. Upper middle income</td>
<td style="text-align: right;">18952038</td>
<td style="text-align: right;">282318</td>
</tr>
<tr class="even">
<td style="text-align: left;">BOL</td>
<td style="text-align: left;">Bolivia</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Latin America &amp; Caribbean</td>
<td style="text-align: left;">5. Emerging region: G20</td>
<td style="text-align: left;">4. Lower middle income</td>
<td style="text-align: right;">11513100</td>
<td style="text-align: right;">40895</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PER</td>
<td style="text-align: left;">Peru</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Latin America &amp; Caribbean</td>
<td style="text-align: left;">5. Emerging region: G20</td>
<td style="text-align: left;">3. Upper middle income</td>
<td style="text-align: right;">32510453</td>
<td style="text-align: right;">226848</td>
</tr>
<tr class="even">
<td style="text-align: left;">ARG</td>
<td style="text-align: left;">Argentina</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">South America</td>
<td style="text-align: left;">Latin America &amp; Caribbean</td>
<td style="text-align: left;">5. Emerging region: G20</td>
<td style="text-align: left;">3. Upper middle income</td>
<td style="text-align: right;">44938712</td>
<td style="text-align: right;">445445</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GBR</td>
<td style="text-align: left;">United Kingdom</td>
<td style="text-align: left;">Europe</td>
<td style="text-align: left;">Europe</td>
<td style="text-align: left;">Northern Europe</td>
<td style="text-align: left;">Europe &amp; Central Asia</td>
<td style="text-align: left;">1. Developed region: G7</td>
<td style="text-align: left;">1. High income: OECD</td>
<td style="text-align: right;">67366465</td>
<td style="text-align: right;">2863166</td>
</tr>
<tr class="even">
<td style="text-align: left;">CYP</td>
<td style="text-align: left;">Cyprus</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Western Asia</td>
<td style="text-align: left;">Europe &amp; Central Asia</td>
<td style="text-align: left;">6. Developing region</td>
<td style="text-align: left;">2. High income: nonOECD</td>
<td style="text-align: right;">1198575</td>
<td style="text-align: right;">24948</td>
</tr>
<tr class="odd">
<td style="text-align: left;">IND</td>
<td style="text-align: left;">India</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Southern Asia</td>
<td style="text-align: left;">South Asia</td>
<td style="text-align: left;">3. Emerging region: BRIC</td>
<td style="text-align: left;">4. Lower middle income</td>
<td style="text-align: right;">1366417754</td>
<td style="text-align: right;">2868929</td>
</tr>
<tr class="even">
<td style="text-align: left;">CHN</td>
<td style="text-align: left;">China</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Eastern Asia</td>
<td style="text-align: left;">East Asia &amp; Pacific</td>
<td style="text-align: left;">3. Emerging region: BRIC</td>
<td style="text-align: left;">3. Upper middle income</td>
<td style="text-align: right;">1405862845</td>
<td style="text-align: right;">14762473</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="esperanza-de-vida-al-nacer" class="level3" data-number="8.2.3">
<h3 data-number="8.2.3" class="anchored" data-anchor-id="esperanza-de-vida-al-nacer"><span class="header-section-number">8.2.3</span> Esperanza de vida al nacer</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de los datos de esperanza de vida en países</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>esperanza_vida <span class="ot">&lt;-</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/pf0953-programacionr/2024-ii/refs/heads/main/datos/world-bank/paises-esperanza-vida.csv"</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Estructura del conjunto de datos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estructura de los datos de esperanza de vida</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(esperanza_vida)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 266
Columns: 69
$ `Country Name`   &lt;chr&gt; "Aruba", "Africa Eastern and Southern", "Afghanistan"…
$ `Country Code`   &lt;chr&gt; "ABW", "AFE", "AFG", "AFW", "AGO", "ALB", "AND", "ARB…
$ `Indicator Name` &lt;chr&gt; "Life expectancy at birth, total (years)", "Life expe…
$ `Indicator Code` &lt;chr&gt; "SP.DYN.LE00.IN", "SP.DYN.LE00.IN", "SP.DYN.LE00.IN",…
$ `1960`           &lt;dbl&gt; 64.15200, 44.08555, 32.53500, 37.84515, 38.21100, 54.…
$ `1961`           &lt;dbl&gt; 64.53700, 44.38670, 33.06800, 38.16495, 37.26700, 55.…
$ `1962`           &lt;dbl&gt; 64.75200, 44.75218, 33.54700, 38.73510, 37.53900, 56.…
$ `1963`           &lt;dbl&gt; 65.13200, 44.91316, 34.01600, 39.06372, 37.82400, 57.…
$ `1964`           &lt;dbl&gt; 65.29400, 45.47904, 34.49400, 39.33536, 38.13100, 58.…
$ `1965`           &lt;dbl&gt; 65.50200, 45.49834, 34.95300, 39.61804, 38.49500, 60.…
$ `1966`           &lt;dbl&gt; 66.06300, 45.24910, 35.45300, 39.83783, 38.75700, 60.…
$ `1967`           &lt;dbl&gt; 66.43900, 45.92491, 35.92400, 39.47150, 39.09200, 61.…
$ `1968`           &lt;dbl&gt; 66.75700, 46.22310, 36.41800, 40.08568, 39.48400, 62.…
$ `1969`           &lt;dbl&gt; 67.16800, 46.43230, 36.91000, 40.35042, 39.82900, 63.…
$ `1970`           &lt;dbl&gt; 67.58300, 46.71848, 37.41800, 41.03476, 40.19000, 64.…
$ `1971`           &lt;dbl&gt; 67.97500, 47.19294, 37.92300, 41.55672, 40.55400, 65.…
$ `1972`           &lt;dbl&gt; 68.57700, 46.89739, 38.44400, 42.24979, 40.90500, 66.…
$ `1973`           &lt;dbl&gt; 69.09200, 47.69232, 39.00300, 42.85505, 41.27000, 67.…
$ `1974`           &lt;dbl&gt; 69.50300, 47.59806, 39.55000, 43.49768, 41.65200, 67.…
$ `1975`           &lt;dbl&gt; 69.76200, 47.75989, 40.10000, 44.20125, 41.19100, 68.…
$ `1976`           &lt;dbl&gt; 70.03500, 48.34959, 40.64500, 45.00316, 41.16300, 68.…
$ `1977`           &lt;dbl&gt; 70.26400, 48.63591, 41.22800, 45.71989, 41.43700, 69.…
$ `1978`           &lt;dbl&gt; 70.49400, 48.76360, 40.27100, 46.26954, 41.83000, 69.…
$ `1979`           &lt;dbl&gt; 70.77800, 49.26134, 39.08600, 46.67374, 42.17500, 69.…
$ `1980`           &lt;dbl&gt; 71.06600, 49.63654, 39.61800, 47.01524, 42.44900, 70.…
$ `1981`           &lt;dbl&gt; 71.72200, 50.05707, 40.16400, 47.29719, 42.77200, 70.…
$ `1982`           &lt;dbl&gt; 71.95900, 50.29685, 37.76600, 47.52938, 43.05100, 71.…
$ `1983`           &lt;dbl&gt; 72.10500, 48.70333, 38.18700, 47.78526, 42.09200, 71.…
$ `1984`           &lt;dbl&gt; 72.25100, 48.65266, 33.32900, 47.93192, 42.35300, 71.…
$ `1985`           &lt;dbl&gt; 72.38800, 49.01163, 33.55000, 48.02168, 42.64800, 71.…
$ `1986`           &lt;dbl&gt; 72.46200, 49.63972, 39.39600, 48.06676, 42.84300, 71.…
$ `1987`           &lt;dbl&gt; 72.78900, 50.07589, 39.84400, 48.23785, 40.91700, 72.…
$ `1988`           &lt;dbl&gt; 73.04700, 49.35973, 43.95800, 48.51291, 41.54500, 72.…
$ `1989`           &lt;dbl&gt; 73.02300, 50.68410, 45.15800, 48.68985, 41.76500, 72.…
$ `1990`           &lt;dbl&gt; 73.07600, 50.60773, 45.96700, 48.65000, 41.89300, 73.…
$ `1991`           &lt;dbl&gt; 73.10000, 50.39046, 46.66300, 48.66246, 43.81300, 73.…
$ `1992`           &lt;dbl&gt; 73.17900, 49.96211, 47.59600, 48.73727, 42.20900, 73.…
$ `1993`           &lt;dbl&gt; 73.22500, 50.27363, 51.46600, 48.83204, 42.10100, 73.…
$ `1994`           &lt;dbl&gt; 73.27200, 50.88258, 51.49500, 48.68189, 43.42200, 74.…
$ `1995`           &lt;dbl&gt; 73.34900, 51.00193, 52.54400, 48.78377, 45.84900, 74.…
$ `1996`           &lt;dbl&gt; 73.44800, 50.81069, 53.24300, 48.90628, 46.03300, 74.…
$ `1997`           &lt;dbl&gt; 73.45200, 50.97423, 53.63400, 49.07918, 46.30600, 73.…
$ `1998`           &lt;dbl&gt; 73.49100, 50.32591, 52.94300, 49.33295, 45.05700, 74.…
$ `1999`           &lt;dbl&gt; 73.56100, 51.23785, 54.84600, 49.75012, 45.38600, 75.…
$ `2000`           &lt;dbl&gt; 73.56900, 51.96448, 55.29800, 50.22195, 46.02400, 75.…
$ `2001`           &lt;dbl&gt; 73.64700, 52.18965, 55.79800, 50.56514, 46.59000, 75.…
$ `2002`           &lt;dbl&gt; 73.72600, 52.54079, 56.45400, 50.92785, 47.38600, 75.…
$ `2003`           &lt;dbl&gt; 73.75200, 53.02203, 57.34400, 51.40336, 49.61700, 76.…
$ `2004`           &lt;dbl&gt; 73.57600, 53.54546, 57.94400, 51.81913, 50.59200, 76.…
$ `2005`           &lt;dbl&gt; 73.81100, 54.21965, 58.36100, 52.34455, 51.57000, 76.…
$ `2006`           &lt;dbl&gt; 74.02600, 55.15055, 58.68400, 52.83213, 52.36900, 76.…
$ `2007`           &lt;dbl&gt; 74.21000, 55.93380, 59.11100, 53.25171, 53.64200, 77.…
$ `2008`           &lt;dbl&gt; 74.14700, 56.68042, 59.85200, 53.64116, 54.63300, 77.…
$ `2009`           &lt;dbl&gt; 74.56000, 57.62085, 60.36400, 54.15942, 55.75200, 77.…
$ `2010`           &lt;dbl&gt; 75.40400, 58.41115, 60.85100, 54.55017, 56.72600, 77.…
$ `2011`           &lt;dbl&gt; 75.46500, 59.29327, 61.41900, 55.01314, 57.59600, 78.…
$ `2012`           &lt;dbl&gt; 75.53100, 60.05078, 61.92300, 55.34056, 58.62300, 78.…
$ `2013`           &lt;dbl&gt; 75.63600, 60.70987, 62.41700, 55.67341, 59.30700, 78.…
$ `2014`           &lt;dbl&gt; 75.60100, 61.33792, 62.54500, 55.92223, 60.04000, 78.…
$ `2015`           &lt;dbl&gt; 75.68300, 61.85646, 62.65900, 56.19587, 60.65500, 78.…
$ `2016`           &lt;dbl&gt; 75.61700, 62.44405, 63.13600, 56.58168, 61.09200, 78.…
$ `2017`           &lt;dbl&gt; 75.90300, 62.92239, 63.01600, 56.88845, 61.68000, 79.…
$ `2018`           &lt;dbl&gt; 76.07200, 63.36586, 63.08100, 57.18914, 62.14400, 79.…
$ `2019`           &lt;dbl&gt; 76.24800, 63.75568, 63.56500, 57.55580, 62.44800, 79.…
$ `2020`           &lt;dbl&gt; 75.72300, 63.31386, 62.57500, 57.22637, 62.26100, 76.…
$ `2021`           &lt;dbl&gt; 74.62600, 62.45459, 61.98200, 56.98866, 61.64300, 76.…
$ `2022`           &lt;dbl&gt; 74.99200, 62.89903, 62.87900, 57.62618, 61.92900, 76.…
$ `2023`           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ...69            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</code></pre>
</div>
</div>
<p>Despliegue de los datos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Despliegue de los primeros registros de esperanza de vida en una tabla kable</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>esperanza_vida <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Country Name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Country Code</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Indicator Name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Indicator Code</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1960</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1961</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1962</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1963</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1964</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1965</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1966</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1967</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1968</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1969</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1970</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1971</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1972</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1973</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1974</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1975</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1976</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1977</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1978</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1979</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1980</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1981</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1982</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1983</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1984</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1985</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1986</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1987</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1988</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1989</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1990</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1991</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1992</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1993</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1994</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1995</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1996</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1997</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1998</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1999</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2000</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2001</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2002</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2003</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2004</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2005</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2006</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2007</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2018</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2022</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">2023</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">...69</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Aruba</td>
<td style="text-align: left;">ABW</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">64.15200</td>
<td style="text-align: right;">64.53700</td>
<td style="text-align: right;">64.75200</td>
<td style="text-align: right;">65.13200</td>
<td style="text-align: right;">65.29400</td>
<td style="text-align: right;">65.50200</td>
<td style="text-align: right;">66.06300</td>
<td style="text-align: right;">66.43900</td>
<td style="text-align: right;">66.75700</td>
<td style="text-align: right;">67.16800</td>
<td style="text-align: right;">67.58300</td>
<td style="text-align: right;">67.97500</td>
<td style="text-align: right;">68.57700</td>
<td style="text-align: right;">69.09200</td>
<td style="text-align: right;">69.50300</td>
<td style="text-align: right;">69.76200</td>
<td style="text-align: right;">70.03500</td>
<td style="text-align: right;">70.26400</td>
<td style="text-align: right;">70.49400</td>
<td style="text-align: right;">70.77800</td>
<td style="text-align: right;">71.06600</td>
<td style="text-align: right;">71.72200</td>
<td style="text-align: right;">71.95900</td>
<td style="text-align: right;">72.10500</td>
<td style="text-align: right;">72.25100</td>
<td style="text-align: right;">72.38800</td>
<td style="text-align: right;">72.46200</td>
<td style="text-align: right;">72.78900</td>
<td style="text-align: right;">73.04700</td>
<td style="text-align: right;">73.02300</td>
<td style="text-align: right;">73.07600</td>
<td style="text-align: right;">73.10000</td>
<td style="text-align: right;">73.17900</td>
<td style="text-align: right;">73.22500</td>
<td style="text-align: right;">73.27200</td>
<td style="text-align: right;">73.34900</td>
<td style="text-align: right;">73.44800</td>
<td style="text-align: right;">73.45200</td>
<td style="text-align: right;">73.49100</td>
<td style="text-align: right;">73.56100</td>
<td style="text-align: right;">73.56900</td>
<td style="text-align: right;">73.64700</td>
<td style="text-align: right;">73.72600</td>
<td style="text-align: right;">73.75200</td>
<td style="text-align: right;">73.57600</td>
<td style="text-align: right;">73.81100</td>
<td style="text-align: right;">74.02600</td>
<td style="text-align: right;">74.21000</td>
<td style="text-align: right;">74.14700</td>
<td style="text-align: right;">74.56000</td>
<td style="text-align: right;">75.40400</td>
<td style="text-align: right;">75.46500</td>
<td style="text-align: right;">75.53100</td>
<td style="text-align: right;">75.63600</td>
<td style="text-align: right;">75.60100</td>
<td style="text-align: right;">75.68300</td>
<td style="text-align: right;">75.61700</td>
<td style="text-align: right;">75.90300</td>
<td style="text-align: right;">76.07200</td>
<td style="text-align: right;">76.24800</td>
<td style="text-align: right;">75.72300</td>
<td style="text-align: right;">74.62600</td>
<td style="text-align: right;">74.99200</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Africa Eastern and Southern</td>
<td style="text-align: left;">AFE</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">44.08555</td>
<td style="text-align: right;">44.38670</td>
<td style="text-align: right;">44.75218</td>
<td style="text-align: right;">44.91316</td>
<td style="text-align: right;">45.47904</td>
<td style="text-align: right;">45.49834</td>
<td style="text-align: right;">45.24910</td>
<td style="text-align: right;">45.92491</td>
<td style="text-align: right;">46.22310</td>
<td style="text-align: right;">46.43230</td>
<td style="text-align: right;">46.71848</td>
<td style="text-align: right;">47.19294</td>
<td style="text-align: right;">46.89739</td>
<td style="text-align: right;">47.69232</td>
<td style="text-align: right;">47.59806</td>
<td style="text-align: right;">47.75989</td>
<td style="text-align: right;">48.34959</td>
<td style="text-align: right;">48.63591</td>
<td style="text-align: right;">48.76360</td>
<td style="text-align: right;">49.26134</td>
<td style="text-align: right;">49.63654</td>
<td style="text-align: right;">50.05707</td>
<td style="text-align: right;">50.29685</td>
<td style="text-align: right;">48.70333</td>
<td style="text-align: right;">48.65266</td>
<td style="text-align: right;">49.01163</td>
<td style="text-align: right;">49.63972</td>
<td style="text-align: right;">50.07589</td>
<td style="text-align: right;">49.35973</td>
<td style="text-align: right;">50.68410</td>
<td style="text-align: right;">50.60773</td>
<td style="text-align: right;">50.39046</td>
<td style="text-align: right;">49.96211</td>
<td style="text-align: right;">50.27363</td>
<td style="text-align: right;">50.88258</td>
<td style="text-align: right;">51.00193</td>
<td style="text-align: right;">50.81069</td>
<td style="text-align: right;">50.97423</td>
<td style="text-align: right;">50.32591</td>
<td style="text-align: right;">51.23785</td>
<td style="text-align: right;">51.96448</td>
<td style="text-align: right;">52.18965</td>
<td style="text-align: right;">52.54079</td>
<td style="text-align: right;">53.02203</td>
<td style="text-align: right;">53.54546</td>
<td style="text-align: right;">54.21965</td>
<td style="text-align: right;">55.15055</td>
<td style="text-align: right;">55.93380</td>
<td style="text-align: right;">56.68042</td>
<td style="text-align: right;">57.62085</td>
<td style="text-align: right;">58.41115</td>
<td style="text-align: right;">59.29327</td>
<td style="text-align: right;">60.05078</td>
<td style="text-align: right;">60.70987</td>
<td style="text-align: right;">61.33792</td>
<td style="text-align: right;">61.85646</td>
<td style="text-align: right;">62.44405</td>
<td style="text-align: right;">62.92239</td>
<td style="text-align: right;">63.36586</td>
<td style="text-align: right;">63.75568</td>
<td style="text-align: right;">63.31386</td>
<td style="text-align: right;">62.45459</td>
<td style="text-align: right;">62.89903</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">AFG</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">32.53500</td>
<td style="text-align: right;">33.06800</td>
<td style="text-align: right;">33.54700</td>
<td style="text-align: right;">34.01600</td>
<td style="text-align: right;">34.49400</td>
<td style="text-align: right;">34.95300</td>
<td style="text-align: right;">35.45300</td>
<td style="text-align: right;">35.92400</td>
<td style="text-align: right;">36.41800</td>
<td style="text-align: right;">36.91000</td>
<td style="text-align: right;">37.41800</td>
<td style="text-align: right;">37.92300</td>
<td style="text-align: right;">38.44400</td>
<td style="text-align: right;">39.00300</td>
<td style="text-align: right;">39.55000</td>
<td style="text-align: right;">40.10000</td>
<td style="text-align: right;">40.64500</td>
<td style="text-align: right;">41.22800</td>
<td style="text-align: right;">40.27100</td>
<td style="text-align: right;">39.08600</td>
<td style="text-align: right;">39.61800</td>
<td style="text-align: right;">40.16400</td>
<td style="text-align: right;">37.76600</td>
<td style="text-align: right;">38.18700</td>
<td style="text-align: right;">33.32900</td>
<td style="text-align: right;">33.55000</td>
<td style="text-align: right;">39.39600</td>
<td style="text-align: right;">39.84400</td>
<td style="text-align: right;">43.95800</td>
<td style="text-align: right;">45.15800</td>
<td style="text-align: right;">45.96700</td>
<td style="text-align: right;">46.66300</td>
<td style="text-align: right;">47.59600</td>
<td style="text-align: right;">51.46600</td>
<td style="text-align: right;">51.49500</td>
<td style="text-align: right;">52.54400</td>
<td style="text-align: right;">53.24300</td>
<td style="text-align: right;">53.63400</td>
<td style="text-align: right;">52.94300</td>
<td style="text-align: right;">54.84600</td>
<td style="text-align: right;">55.29800</td>
<td style="text-align: right;">55.79800</td>
<td style="text-align: right;">56.45400</td>
<td style="text-align: right;">57.34400</td>
<td style="text-align: right;">57.94400</td>
<td style="text-align: right;">58.36100</td>
<td style="text-align: right;">58.68400</td>
<td style="text-align: right;">59.11100</td>
<td style="text-align: right;">59.85200</td>
<td style="text-align: right;">60.36400</td>
<td style="text-align: right;">60.85100</td>
<td style="text-align: right;">61.41900</td>
<td style="text-align: right;">61.92300</td>
<td style="text-align: right;">62.41700</td>
<td style="text-align: right;">62.54500</td>
<td style="text-align: right;">62.65900</td>
<td style="text-align: right;">63.13600</td>
<td style="text-align: right;">63.01600</td>
<td style="text-align: right;">63.08100</td>
<td style="text-align: right;">63.56500</td>
<td style="text-align: right;">62.57500</td>
<td style="text-align: right;">61.98200</td>
<td style="text-align: right;">62.87900</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Africa Western and Central</td>
<td style="text-align: left;">AFW</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">37.84515</td>
<td style="text-align: right;">38.16495</td>
<td style="text-align: right;">38.73510</td>
<td style="text-align: right;">39.06372</td>
<td style="text-align: right;">39.33536</td>
<td style="text-align: right;">39.61804</td>
<td style="text-align: right;">39.83783</td>
<td style="text-align: right;">39.47150</td>
<td style="text-align: right;">40.08568</td>
<td style="text-align: right;">40.35042</td>
<td style="text-align: right;">41.03476</td>
<td style="text-align: right;">41.55672</td>
<td style="text-align: right;">42.24979</td>
<td style="text-align: right;">42.85505</td>
<td style="text-align: right;">43.49768</td>
<td style="text-align: right;">44.20125</td>
<td style="text-align: right;">45.00316</td>
<td style="text-align: right;">45.71989</td>
<td style="text-align: right;">46.26954</td>
<td style="text-align: right;">46.67374</td>
<td style="text-align: right;">47.01524</td>
<td style="text-align: right;">47.29719</td>
<td style="text-align: right;">47.52938</td>
<td style="text-align: right;">47.78526</td>
<td style="text-align: right;">47.93192</td>
<td style="text-align: right;">48.02168</td>
<td style="text-align: right;">48.06676</td>
<td style="text-align: right;">48.23785</td>
<td style="text-align: right;">48.51291</td>
<td style="text-align: right;">48.68985</td>
<td style="text-align: right;">48.65000</td>
<td style="text-align: right;">48.66246</td>
<td style="text-align: right;">48.73727</td>
<td style="text-align: right;">48.83204</td>
<td style="text-align: right;">48.68189</td>
<td style="text-align: right;">48.78377</td>
<td style="text-align: right;">48.90628</td>
<td style="text-align: right;">49.07918</td>
<td style="text-align: right;">49.33295</td>
<td style="text-align: right;">49.75012</td>
<td style="text-align: right;">50.22195</td>
<td style="text-align: right;">50.56514</td>
<td style="text-align: right;">50.92785</td>
<td style="text-align: right;">51.40336</td>
<td style="text-align: right;">51.81913</td>
<td style="text-align: right;">52.34455</td>
<td style="text-align: right;">52.83213</td>
<td style="text-align: right;">53.25171</td>
<td style="text-align: right;">53.64116</td>
<td style="text-align: right;">54.15942</td>
<td style="text-align: right;">54.55017</td>
<td style="text-align: right;">55.01314</td>
<td style="text-align: right;">55.34056</td>
<td style="text-align: right;">55.67341</td>
<td style="text-align: right;">55.92223</td>
<td style="text-align: right;">56.19587</td>
<td style="text-align: right;">56.58168</td>
<td style="text-align: right;">56.88845</td>
<td style="text-align: right;">57.18914</td>
<td style="text-align: right;">57.55580</td>
<td style="text-align: right;">57.22637</td>
<td style="text-align: right;">56.98866</td>
<td style="text-align: right;">57.62618</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Angola</td>
<td style="text-align: left;">AGO</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">38.21100</td>
<td style="text-align: right;">37.26700</td>
<td style="text-align: right;">37.53900</td>
<td style="text-align: right;">37.82400</td>
<td style="text-align: right;">38.13100</td>
<td style="text-align: right;">38.49500</td>
<td style="text-align: right;">38.75700</td>
<td style="text-align: right;">39.09200</td>
<td style="text-align: right;">39.48400</td>
<td style="text-align: right;">39.82900</td>
<td style="text-align: right;">40.19000</td>
<td style="text-align: right;">40.55400</td>
<td style="text-align: right;">40.90500</td>
<td style="text-align: right;">41.27000</td>
<td style="text-align: right;">41.65200</td>
<td style="text-align: right;">41.19100</td>
<td style="text-align: right;">41.16300</td>
<td style="text-align: right;">41.43700</td>
<td style="text-align: right;">41.83000</td>
<td style="text-align: right;">42.17500</td>
<td style="text-align: right;">42.44900</td>
<td style="text-align: right;">42.77200</td>
<td style="text-align: right;">43.05100</td>
<td style="text-align: right;">42.09200</td>
<td style="text-align: right;">42.35300</td>
<td style="text-align: right;">42.64800</td>
<td style="text-align: right;">42.84300</td>
<td style="text-align: right;">40.91700</td>
<td style="text-align: right;">41.54500</td>
<td style="text-align: right;">41.76500</td>
<td style="text-align: right;">41.89300</td>
<td style="text-align: right;">43.81300</td>
<td style="text-align: right;">42.20900</td>
<td style="text-align: right;">42.10100</td>
<td style="text-align: right;">43.42200</td>
<td style="text-align: right;">45.84900</td>
<td style="text-align: right;">46.03300</td>
<td style="text-align: right;">46.30600</td>
<td style="text-align: right;">45.05700</td>
<td style="text-align: right;">45.38600</td>
<td style="text-align: right;">46.02400</td>
<td style="text-align: right;">46.59000</td>
<td style="text-align: right;">47.38600</td>
<td style="text-align: right;">49.61700</td>
<td style="text-align: right;">50.59200</td>
<td style="text-align: right;">51.57000</td>
<td style="text-align: right;">52.36900</td>
<td style="text-align: right;">53.64200</td>
<td style="text-align: right;">54.63300</td>
<td style="text-align: right;">55.75200</td>
<td style="text-align: right;">56.72600</td>
<td style="text-align: right;">57.59600</td>
<td style="text-align: right;">58.62300</td>
<td style="text-align: right;">59.30700</td>
<td style="text-align: right;">60.04000</td>
<td style="text-align: right;">60.65500</td>
<td style="text-align: right;">61.09200</td>
<td style="text-align: right;">61.68000</td>
<td style="text-align: right;">62.14400</td>
<td style="text-align: right;">62.44800</td>
<td style="text-align: right;">62.26100</td>
<td style="text-align: right;">61.64300</td>
<td style="text-align: right;">61.92900</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Albania</td>
<td style="text-align: left;">ALB</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">54.43900</td>
<td style="text-align: right;">55.63400</td>
<td style="text-align: right;">56.67100</td>
<td style="text-align: right;">57.84400</td>
<td style="text-align: right;">58.98300</td>
<td style="text-align: right;">60.01900</td>
<td style="text-align: right;">60.99800</td>
<td style="text-align: right;">61.97200</td>
<td style="text-align: right;">62.94600</td>
<td style="text-align: right;">63.92300</td>
<td style="text-align: right;">64.82400</td>
<td style="text-align: right;">65.61800</td>
<td style="text-align: right;">66.42200</td>
<td style="text-align: right;">67.14000</td>
<td style="text-align: right;">67.76900</td>
<td style="text-align: right;">68.32800</td>
<td style="text-align: right;">68.70400</td>
<td style="text-align: right;">69.12100</td>
<td style="text-align: right;">69.30900</td>
<td style="text-align: right;">69.58400</td>
<td style="text-align: right;">70.47800</td>
<td style="text-align: right;">70.73000</td>
<td style="text-align: right;">71.02300</td>
<td style="text-align: right;">71.29600</td>
<td style="text-align: right;">71.50200</td>
<td style="text-align: right;">71.65600</td>
<td style="text-align: right;">71.95000</td>
<td style="text-align: right;">72.35200</td>
<td style="text-align: right;">72.64100</td>
<td style="text-align: right;">72.88000</td>
<td style="text-align: right;">73.14400</td>
<td style="text-align: right;">73.37800</td>
<td style="text-align: right;">73.71500</td>
<td style="text-align: right;">73.93900</td>
<td style="text-align: right;">74.13100</td>
<td style="text-align: right;">74.36200</td>
<td style="text-align: right;">74.59200</td>
<td style="text-align: right;">73.90400</td>
<td style="text-align: right;">74.99000</td>
<td style="text-align: right;">75.18300</td>
<td style="text-align: right;">75.40400</td>
<td style="text-align: right;">75.63900</td>
<td style="text-align: right;">75.89000</td>
<td style="text-align: right;">76.14200</td>
<td style="text-align: right;">76.37600</td>
<td style="text-align: right;">76.62100</td>
<td style="text-align: right;">76.81600</td>
<td style="text-align: right;">77.54900</td>
<td style="text-align: right;">77.65300</td>
<td style="text-align: right;">77.78100</td>
<td style="text-align: right;">77.93600</td>
<td style="text-align: right;">78.09200</td>
<td style="text-align: right;">78.06400</td>
<td style="text-align: right;">78.12300</td>
<td style="text-align: right;">78.40700</td>
<td style="text-align: right;">78.64400</td>
<td style="text-align: right;">78.86000</td>
<td style="text-align: right;">79.04700</td>
<td style="text-align: right;">79.18400</td>
<td style="text-align: right;">79.28200</td>
<td style="text-align: right;">76.98900</td>
<td style="text-align: right;">76.46300</td>
<td style="text-align: right;">76.83300</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Andorra</td>
<td style="text-align: left;">AND</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Arab World</td>
<td style="text-align: left;">ARB</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">44.97290</td>
<td style="text-align: right;">45.67640</td>
<td style="text-align: right;">46.12258</td>
<td style="text-align: right;">46.97247</td>
<td style="text-align: right;">47.89576</td>
<td style="text-align: right;">48.23211</td>
<td style="text-align: right;">48.45707</td>
<td style="text-align: right;">48.91291</td>
<td style="text-align: right;">49.44512</td>
<td style="text-align: right;">49.82224</td>
<td style="text-align: right;">50.35134</td>
<td style="text-align: right;">51.29642</td>
<td style="text-align: right;">51.86446</td>
<td style="text-align: right;">52.53968</td>
<td style="text-align: right;">53.19444</td>
<td style="text-align: right;">53.70986</td>
<td style="text-align: right;">54.04753</td>
<td style="text-align: right;">55.36147</td>
<td style="text-align: right;">56.11217</td>
<td style="text-align: right;">56.82629</td>
<td style="text-align: right;">57.30237</td>
<td style="text-align: right;">57.69293</td>
<td style="text-align: right;">58.05480</td>
<td style="text-align: right;">58.78737</td>
<td style="text-align: right;">59.47898</td>
<td style="text-align: right;">60.21574</td>
<td style="text-align: right;">61.22126</td>
<td style="text-align: right;">61.16971</td>
<td style="text-align: right;">60.60903</td>
<td style="text-align: right;">62.48114</td>
<td style="text-align: right;">62.92797</td>
<td style="text-align: right;">63.17961</td>
<td style="text-align: right;">63.47441</td>
<td style="text-align: right;">64.45832</td>
<td style="text-align: right;">65.49673</td>
<td style="text-align: right;">65.34978</td>
<td style="text-align: right;">65.71840</td>
<td style="text-align: right;">65.99442</td>
<td style="text-align: right;">65.80771</td>
<td style="text-align: right;">66.87673</td>
<td style="text-align: right;">67.29733</td>
<td style="text-align: right;">67.63168</td>
<td style="text-align: right;">67.93557</td>
<td style="text-align: right;">67.85900</td>
<td style="text-align: right;">67.89591</td>
<td style="text-align: right;">68.16268</td>
<td style="text-align: right;">68.56725</td>
<td style="text-align: right;">68.92868</td>
<td style="text-align: right;">69.28643</td>
<td style="text-align: right;">69.81264</td>
<td style="text-align: right;">70.04125</td>
<td style="text-align: right;">70.26152</td>
<td style="text-align: right;">70.18046</td>
<td style="text-align: right;">70.19651</td>
<td style="text-align: right;">70.49263</td>
<td style="text-align: right;">70.75822</td>
<td style="text-align: right;">70.94306</td>
<td style="text-align: right;">71.42960</td>
<td style="text-align: right;">71.63302</td>
<td style="text-align: right;">71.84463</td>
<td style="text-align: right;">70.92336</td>
<td style="text-align: right;">70.81448</td>
<td style="text-align: right;">71.22727</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">United Arab Emirates</td>
<td style="text-align: left;">ARE</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">48.81100</td>
<td style="text-align: right;">49.69500</td>
<td style="text-align: right;">50.68600</td>
<td style="text-align: right;">51.58400</td>
<td style="text-align: right;">52.84800</td>
<td style="text-align: right;">53.98500</td>
<td style="text-align: right;">55.18500</td>
<td style="text-align: right;">56.33900</td>
<td style="text-align: right;">57.54000</td>
<td style="text-align: right;">58.76000</td>
<td style="text-align: right;">60.02100</td>
<td style="text-align: right;">61.21100</td>
<td style="text-align: right;">62.30400</td>
<td style="text-align: right;">63.35100</td>
<td style="text-align: right;">64.33800</td>
<td style="text-align: right;">65.08000</td>
<td style="text-align: right;">65.82000</td>
<td style="text-align: right;">66.51400</td>
<td style="text-align: right;">67.20900</td>
<td style="text-align: right;">67.84600</td>
<td style="text-align: right;">68.53000</td>
<td style="text-align: right;">69.08500</td>
<td style="text-align: right;">69.66000</td>
<td style="text-align: right;">69.94900</td>
<td style="text-align: right;">70.48500</td>
<td style="text-align: right;">70.74700</td>
<td style="text-align: right;">70.96400</td>
<td style="text-align: right;">71.49100</td>
<td style="text-align: right;">71.60600</td>
<td style="text-align: right;">71.75700</td>
<td style="text-align: right;">71.90000</td>
<td style="text-align: right;">72.24100</td>
<td style="text-align: right;">72.30600</td>
<td style="text-align: right;">72.52100</td>
<td style="text-align: right;">72.59800</td>
<td style="text-align: right;">72.69500</td>
<td style="text-align: right;">72.76700</td>
<td style="text-align: right;">72.93700</td>
<td style="text-align: right;">73.06600</td>
<td style="text-align: right;">73.67000</td>
<td style="text-align: right;">74.38000</td>
<td style="text-align: right;">74.63600</td>
<td style="text-align: right;">74.90100</td>
<td style="text-align: right;">76.22200</td>
<td style="text-align: right;">76.45300</td>
<td style="text-align: right;">76.68300</td>
<td style="text-align: right;">76.90900</td>
<td style="text-align: right;">77.12900</td>
<td style="text-align: right;">77.48800</td>
<td style="text-align: right;">78.00300</td>
<td style="text-align: right;">78.33400</td>
<td style="text-align: right;">78.51700</td>
<td style="text-align: right;">78.71600</td>
<td style="text-align: right;">78.85300</td>
<td style="text-align: right;">79.04400</td>
<td style="text-align: right;">79.22300</td>
<td style="text-align: right;">79.33500</td>
<td style="text-align: right;">79.50400</td>
<td style="text-align: right;">79.62700</td>
<td style="text-align: right;">79.72600</td>
<td style="text-align: right;">78.94600</td>
<td style="text-align: right;">78.71000</td>
<td style="text-align: right;">79.19600</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Argentina</td>
<td style="text-align: left;">ARG</td>
<td style="text-align: left;">Life expectancy at birth, total (years)</td>
<td style="text-align: left;">SP.DYN.LE00.IN</td>
<td style="text-align: right;">63.97800</td>
<td style="text-align: right;">64.36000</td>
<td style="text-align: right;">64.24400</td>
<td style="text-align: right;">64.44900</td>
<td style="text-align: right;">64.36300</td>
<td style="text-align: right;">64.59300</td>
<td style="text-align: right;">64.89100</td>
<td style="text-align: right;">64.99200</td>
<td style="text-align: right;">64.89000</td>
<td style="text-align: right;">64.85900</td>
<td style="text-align: right;">65.58900</td>
<td style="text-align: right;">65.54100</td>
<td style="text-align: right;">65.92300</td>
<td style="text-align: right;">66.32300</td>
<td style="text-align: right;">66.56300</td>
<td style="text-align: right;">67.08100</td>
<td style="text-align: right;">67.22800</td>
<td style="text-align: right;">67.86100</td>
<td style="text-align: right;">68.19700</td>
<td style="text-align: right;">68.49100</td>
<td style="text-align: right;">68.56400</td>
<td style="text-align: right;">68.97600</td>
<td style="text-align: right;">68.93700</td>
<td style="text-align: right;">69.26700</td>
<td style="text-align: right;">69.19500</td>
<td style="text-align: right;">69.65100</td>
<td style="text-align: right;">70.11900</td>
<td style="text-align: right;">70.56400</td>
<td style="text-align: right;">71.05200</td>
<td style="text-align: right;">71.42500</td>
<td style="text-align: right;">71.78400</td>
<td style="text-align: right;">72.31900</td>
<td style="text-align: right;">72.43000</td>
<td style="text-align: right;">72.56500</td>
<td style="text-align: right;">73.17200</td>
<td style="text-align: right;">73.13300</td>
<td style="text-align: right;">73.30700</td>
<td style="text-align: right;">73.09000</td>
<td style="text-align: right;">73.47400</td>
<td style="text-align: right;">73.72200</td>
<td style="text-align: right;">73.92600</td>
<td style="text-align: right;">74.18600</td>
<td style="text-align: right;">74.40800</td>
<td style="text-align: right;">74.08000</td>
<td style="text-align: right;">74.85500</td>
<td style="text-align: right;">75.13900</td>
<td style="text-align: right;">75.43300</td>
<td style="text-align: right;">75.00600</td>
<td style="text-align: right;">75.64100</td>
<td style="text-align: right;">75.93600</td>
<td style="text-align: right;">75.72100</td>
<td style="text-align: right;">76.12400</td>
<td style="text-align: right;">76.46700</td>
<td style="text-align: right;">76.49100</td>
<td style="text-align: right;">76.75500</td>
<td style="text-align: right;">76.76000</td>
<td style="text-align: right;">76.30800</td>
<td style="text-align: right;">76.83300</td>
<td style="text-align: right;">76.99900</td>
<td style="text-align: right;">77.28400</td>
<td style="text-align: right;">75.89200</td>
<td style="text-align: right;">75.39000</td>
<td style="text-align: right;">76.06400</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="funciones" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="funciones"><span class="header-section-number">8.3</span> Funciones</h2>
<p>En esta sección, se describen y ejemplifican las principales funciones de dplyr.</p>
<section id="select" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="select"><span class="header-section-number">8.3.1</span> select()</h3>
<p>La función <a href="https://dplyr.tidyverse.org/reference/select.html">select()</a> selecciona (y opcionalmente renombra) columnas de un data frame con base en sus nombres.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selección de las columnas ADM0_ISO, NAME, POP_EST, GDP_MD</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ADM0_ISO, NAME, POP_EST, GDP_MD)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 201 × 4
   ADM0_ISO NAME              POP_EST   GDP_MD
   &lt;chr&gt;    &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;
 1 IDN      Indonesia       270625568  1119190
 2 MYS      Malaysia         31949777   364681
 3 CHL      Chile            18952038   282318
 4 BOL      Bolivia          11513100    40895
 5 PER      Peru             32510453   226848
 6 ARG      Argentina        44938712   445445
 7 GBR      United Kingdom   67366465  2863166
 8 CYP      Cyprus            1198575    24948
 9 IND      India          1366417754  2868929
10 CHN      China          1405862845 14762473
# ℹ 191 more rows</code></pre>
</div>
</div>
<p>Cambio de nombres de columnas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selección y cambio de nombre de las columnas </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ADM0_ISO, NAME, POP_EST, GDP_MD</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">CODIGO_ISO_3 =</span> ADM0_ISO,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">NOMBRE =</span> NAME,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">POBLACION_ESTIMADA =</span> POP_EST,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">PIB_MD =</span> GDP_MD)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 201 × 4
   CODIGO_ISO_3 NOMBRE         POBLACION_ESTIMADA   PIB_MD
   &lt;chr&gt;        &lt;chr&gt;                       &lt;dbl&gt;    &lt;dbl&gt;
 1 IDN          Indonesia               270625568  1119190
 2 MYS          Malaysia                 31949777   364681
 3 CHL          Chile                    18952038   282318
 4 BOL          Bolivia                  11513100    40895
 5 PER          Peru                     32510453   226848
 6 ARG          Argentina                44938712   445445
 7 GBR          United Kingdom           67366465  2863166
 8 CYP          Cyprus                    1198575    24948
 9 IND          India                  1366417754  2868929
10 CHN          China                  1405862845 14762473
# ℹ 191 more rows</code></pre>
</div>
</div>
<p>El operador <code>:</code> permite seleccionar un rango de columnas continuas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selección de las columnas desde CONTINENT hasta INCOME_GRP</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(CONTINENT<span class="sc">:</span>INCOME_GRP)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 201 × 6
   CONTINENT     REGION_UN SUBREGION          REGION_WB       ECONOMY INCOME_GRP
   &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;              &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;     
 1 Asia          Asia      South-Eastern Asia East Asia &amp; Pa… 4. Eme… 4. Lower …
 2 Asia          Asia      South-Eastern Asia East Asia &amp; Pa… 6. Dev… 3. Upper …
 3 South America Americas  South America      Latin America … 5. Eme… 3. Upper …
 4 South America Americas  South America      Latin America … 5. Eme… 4. Lower …
 5 South America Americas  South America      Latin America … 5. Eme… 3. Upper …
 6 South America Americas  South America      Latin America … 5. Eme… 3. Upper …
 7 Europe        Europe    Northern Europe    Europe &amp; Centr… 1. Dev… 1. High i…
 8 Asia          Asia      Western Asia       Europe &amp; Centr… 6. Dev… 2. High i…
 9 Asia          Asia      Southern Asia      South Asia      3. Eme… 4. Lower …
10 Asia          Asia      Eastern Asia       East Asia &amp; Pa… 3. Eme… 3. Upper …
# ℹ 191 more rows</code></pre>
</div>
</div>
<p>Selección de todas las columnas que cumplen una condición:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selección de las columnas numéricas</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 201 × 2
      POP_EST   GDP_MD
        &lt;dbl&gt;    &lt;dbl&gt;
 1  270625568  1119190
 2   31949777   364681
 3   18952038   282318
 4   11513100    40895
 5   32510453   226848
 6   44938712   445445
 7   67366465  2863166
 8    1198575    24948
 9 1366417754  2868929
10 1405862845 14762473
# ℹ 191 more rows</code></pre>
</div>
</div>
</section>
<section id="filter" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="filter"><span class="header-section-number">8.3.2</span> filter()</h3>
<p>La función <a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a> retorna un subconjunto de un data frame con todas las filas que satisfacen una condición (i.e.&nbsp;expresión lógica).</p>
<p>Puede utilizar los operadores relacionales:</p>
<ul>
<li><code>==</code> (igual que) <strong>Note la diferencia con el operador de asignación (<code>=</code>)</strong></li>
<li><code>!=</code> (diferente de)</li>
<li><code>&gt;</code> (estrictamente mayor que), <code>&gt;=</code> (mayor o igual que)</li>
<li><code>&lt;</code> (estrictamente menor que), <code>&lt;=</code> (menor o igual que)</li>
</ul>
<p>Y los operadores lógicos:</p>
<ul>
<li><code>&amp;</code> (<em>AND</em> o Y lógico)</li>
<li><code>|</code> (<em>OR</em> u O lógico)</li>
<li><code>!</code> (<em>NOT</em> o NO lógico)</li>
</ul>
<p>Ejemplos de uso de expresiones y operadores lógicos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Países de Asia con ingresos alto y en la OCDE</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Asia'</span> <span class="sc">&amp;</span> INCOME_GRP <span class="sc">==</span> <span class="st">'1. High income: OECD'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 10
  ADM0_ISO NAME       CONTINENT REGION_UN SUBREGION REGION_WB ECONOMY INCOME_GRP
  &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     
1 ISR      Israel     Asia      Asia      Western … Middle E… 2. Dev… 1. High i…
2 KOR      South Kor… Asia      Asia      Eastern … East Asi… 4. Eme… 1. High i…
3 JPN      Japan      Asia      Asia      Eastern … East Asi… 1. Dev… 1. High i…
# ℹ 2 more variables: POP_EST &lt;dbl&gt;, GDP_MD &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Países de América del Norte o de América del Sur</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'North America'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'South America'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 35 × 10
   ADM0_ISO NAME      CONTINENT REGION_UN SUBREGION REGION_WB ECONOMY INCOME_GRP
   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     
 1 CHL      Chile     South Am… Americas  South Am… Latin Am… 5. Eme… 3. Upper …
 2 BOL      Bolivia   South Am… Americas  South Am… Latin Am… 5. Eme… 4. Lower …
 3 PER      Peru      South Am… Americas  South Am… Latin Am… 5. Eme… 3. Upper …
 4 ARG      Argentina South Am… Americas  South Am… Latin Am… 5. Eme… 3. Upper …
 5 SUR      Suriname  South Am… Americas  South Am… Latin Am… 6. Dev… 3. Upper …
 6 GUY      Guyana    South Am… Americas  South Am… Latin Am… 6. Dev… 4. Lower …
 7 CRI      Costa Ri… North Am… Americas  Central … Latin Am… 5. Eme… 3. Upper …
 8 NIC      Nicaragua North Am… Americas  Central … Latin Am… 6. Dev… 4. Lower …
 9 BRA      Brazil    South Am… Americas  South Am… Latin Am… 3. Eme… 3. Upper …
10 URY      Uruguay   South Am… Americas  South Am… Latin Am… 5. Eme… 3. Upper …
# ℹ 25 more rows
# ℹ 2 more variables: POP_EST &lt;dbl&gt;, GDP_MD &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Países no europeos</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 156 × 10
   ADM0_ISO NAME      CONTINENT REGION_UN SUBREGION REGION_WB ECONOMY INCOME_GRP
   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     
 1 IDN      Indonesia Asia      Asia      South-Ea… East Asi… 4. Eme… 4. Lower …
 2 MYS      Malaysia  Asia      Asia      South-Ea… East Asi… 6. Dev… 3. Upper …
 3 CHL      Chile     South Am… Americas  South Am… Latin Am… 5. Eme… 3. Upper …
 4 BOL      Bolivia   South Am… Americas  South Am… Latin Am… 5. Eme… 4. Lower …
 5 PER      Peru      South Am… Americas  South Am… Latin Am… 5. Eme… 3. Upper …
 6 ARG      Argentina South Am… Americas  South Am… Latin Am… 5. Eme… 3. Upper …
 7 CYP      Cyprus    Asia      Asia      Western … Europe &amp;… 6. Dev… 2. High i…
 8 IND      India     Asia      Asia      Southern… South As… 3. Eme… 4. Lower …
 9 CHN      China     Asia      Asia      Eastern … East Asi… 3. Eme… 3. Upper …
10 ISR      Israel    Asia      Asia      Western … Middle E… 2. Dev… 1. High i…
# ℹ 146 more rows
# ℹ 2 more variables: POP_EST &lt;dbl&gt;, GDP_MD &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Países de Europa en el G7</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># solo con las columnas ADM0_ISO, NAME, POP_EST</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">"Europe"</span> <span class="sc">&amp;</span> ECONOMY <span class="sc">==</span> <span class="st">"1. Developed region: G7"</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ADM0_ISO, NAME, POP_EST) <span class="sc">|&gt;</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">ADM0_ISO</th>
<th style="text-align: left;">NAME</th>
<th style="text-align: right;">POP_EST</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">GBR</td>
<td style="text-align: left;">United Kingdom</td>
<td style="text-align: right;">67366465</td>
</tr>
<tr class="even">
<td style="text-align: left;">FRA</td>
<td style="text-align: left;">France</td>
<td style="text-align: right;">67692632</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DEU</td>
<td style="text-align: left;">Germany</td>
<td style="text-align: right;">83132799</td>
</tr>
<tr class="even">
<td style="text-align: left;">ITA</td>
<td style="text-align: left;">Italy</td>
<td style="text-align: right;">60297396</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Países con población mayor o igual al promedio</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   El argumento lógico na.rm de mean() </span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   indica si los valores NA ("not available") </span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   deben ser removidos antes del cálculo</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(POP_EST <span class="sc">&gt;=</span> <span class="fu">mean</span>(POP_EST, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ADM0_ISO, NAME, POP_EST)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 3
   ADM0_ISO NAME              POP_EST
   &lt;chr&gt;    &lt;chr&gt;               &lt;dbl&gt;
 1 IDN      Indonesia       270625568
 2 ARG      Argentina        44938712
 3 GBR      United Kingdom   67366465
 4 IND      India          1366417754
 5 CHN      China          1405862845
 6 ETH      Ethiopia        112078730
 7 KEN      Kenya            52573973
 8 TZA      Tanzania         58005463
 9 FRA      France           67692632
10 KOR      South Korea      51709098
# ℹ 26 more rows</code></pre>
</div>
</div>
<p>Condiciones relacionadas con valores <code>NA</code> (nulos):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filas con valor NA en la columna 2022 (año 2022)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># del conjunto de datos de esperanza de vida</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>esperanza_vida <span class="sc">|&gt;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Country Name</span><span class="st">`</span>, <span class="st">`</span><span class="at">2022</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">2022</span><span class="st">`</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  `Country Name`           `2022`
  &lt;chr&gt;                     &lt;dbl&gt;
1 Andorra                      NA
2 American Samoa               NA
3 Curacao                      NA
4 Cayman Islands               NA
5 Not classified               NA
6 Monaco                       NA
7 Northern Mariana Islands     NA
8 Palau                        NA
9 San Marino                   NA</code></pre>
</div>
</div>
<p><strong>Note como en el bloque anterior las columnas <code>Country Name</code> y <code>2022</code> deben escribirse entre comillas inversas debido a que una contiene espacios y la otra comienza con un número.</strong></p>
<p>La función <a href="https://tidyr.tidyverse.org/reference/drop_na.html">tidyr::drop_na()</a> remueve las filas con valores <code>NA</code> en una o varias columnas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filas con valor diferente a NA en la columna 2022</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>esperanza_vida <span class="sc">|&gt;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Country Name</span><span class="st">`</span>,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">2022</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(<span class="st">`</span><span class="at">2022</span><span class="st">`</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 257 × 2
   `Country Name`              `2022`
   &lt;chr&gt;                        &lt;dbl&gt;
 1 Aruba                         75.0
 2 Africa Eastern and Southern   62.9
 3 Afghanistan                   62.9
 4 Africa Western and Central    57.6
 5 Angola                        61.9
 6 Albania                       76.8
 7 Arab World                    71.2
 8 United Arab Emirates          79.2
 9 Argentina                     76.1
10 Armenia                       73.4
# ℹ 247 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filas con valor diferente a NA en cualquier columna</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(species,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>         bill_length_mm,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>         bill_depth_mm,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>         flipper_length_mm,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>         body_mass_g,</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>         sex) <span class="sc">|&gt;</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 333 × 6
   species bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex   
   &lt;fct&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt; 
 1 Adelie            39.1          18.7               181        3750 male  
 2 Adelie            39.5          17.4               186        3800 female
 3 Adelie            40.3          18                 195        3250 female
 4 Adelie            36.7          19.3               193        3450 female
 5 Adelie            39.3          20.6               190        3650 male  
 6 Adelie            38.9          17.8               181        3625 female
 7 Adelie            39.2          19.6               195        4675 male  
 8 Adelie            41.1          17.6               182        3200 female
 9 Adelie            38.6          21.2               191        3800 male  
10 Adelie            34.6          21.1               198        4400 male  
# ℹ 323 more rows</code></pre>
</div>
</div>
</section>
<section id="arrange" class="level3" data-number="8.3.3">
<h3 data-number="8.3.3" class="anchored" data-anchor-id="arrange"><span class="header-section-number">8.3.3</span> arrange()</h3>
<p>La función <a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a> cambia el orden de las filas de un data frame de acuerdo con los valores de las columnas seleccionadas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordenamiento ascendente por las columnas POP_EST y GDP_MD</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(POP_EST, GDP_MD) <span class="sc">|&gt;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(NAME, POP_EST, GDP_MD)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 201 × 3
   NAME                    POP_EST GDP_MD
   &lt;chr&gt;                     &lt;dbl&gt;  &lt;dbl&gt;
 1 Vatican                     825    -99
 2 Antarctica                 4490    898
 3 Cyprus U.N. Buffer Zone   10000    280
 4 Tuvalu                    11646     47
 5 Nauru                     12581    118
 6 Palau                     18008    268
 7 San Marino                33860   1655
 8 Liechtenstein             38019   6876
 9 Monaco                    38964   7188
10 St. Kitts and Nevis       52834   1053
# ℹ 191 more rows</code></pre>
</div>
</div>
<p>Por defecto, las columnas se ordenan de manera acendente. Si se desea un orden descendente, puede utilizarse la función <a href="https://dplyr.tidyverse.org/reference/desc.html">desc()</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordenamiento descendente por las columnas POP_EST y GDP_MD</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(POP_EST), <span class="fu">desc</span>(GDP_MD)) <span class="sc">|&gt;</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(NAME, POP_EST, GDP_MD)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 201 × 3
   NAME                        POP_EST   GDP_MD
   &lt;chr&gt;                         &lt;dbl&gt;    &lt;dbl&gt;
 1 China                    1405862845 14762473
 2 India                    1366417754  2868929
 3 United States of America  331595460 21542705
 4 Indonesia                 270625568  1119190
 5 Pakistan                  216565318   278221
 6 Brazil                    211049527  1839758
 7 Nigeria                   200963599   448120
 8 Bangladesh                163046161   302571
 9 Russia                    144373535  1699876
10 Mexico                    127575529  1268870
# ℹ 191 more rows</code></pre>
</div>
</div>
<p>Los valores <code>NA</code> (si hay alguno) se ubican al final de cualquier ordenamiento.</p>
</section>
<section id="mutate" class="level3" data-number="8.3.4">
<h3 data-number="8.3.4" class="anchored" data-anchor-id="mutate"><span class="header-section-number">8.3.4</span> mutate()</h3>
<p>La función <a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a> crea o modifica columnas en un data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creación de la columna GDP_PC,</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># correspondiente al producto interno bruto per cápita en dólares</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>paises <span class="ot">&lt;-</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">GDP_PC =</span> (GDP_MD <span class="sc">*</span> <span class="dv">1000000</span>) <span class="sc">/</span> POP_EST)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Despliegue</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(NAME, GDP_MD, POP_EST, GDP_PC)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 201 × 4
   NAME             GDP_MD    POP_EST GDP_PC
   &lt;chr&gt;             &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;
 1 Indonesia       1119190  270625568  4136.
 2 Malaysia         364681   31949777 11414.
 3 Chile            282318   18952038 14896.
 4 Bolivia           40895   11513100  3552.
 5 Peru             226848   32510453  6978.
 6 Argentina        445445   44938712  9912.
 7 United Kingdom  2863166   67366465 42501.
 8 Cyprus            24948    1198575 20815.
 9 India           2868929 1366417754  2100.
10 China          14762473 1405862845 10501.
# ℹ 191 more rows</code></pre>
</div>
</div>
</section>
<section id="group_by-y-summarize" class="level3" data-number="8.3.5">
<h3 data-number="8.3.5" class="anchored" data-anchor-id="group_by-y-summarize"><span class="header-section-number">8.3.5</span> group_by() y summarize()</h3>
<p>La función <a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a> se utiliza generalmente junto con la función <a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a> para realizar cálculos en grupos de filas de un data frame. <code>group_by()</code> agrupa las filas y <code>summarize()</code> realiza los cálculos (ej. sumas, promedios) en las columnas, para cada grupo. El resultado es un nuevo data frame con una fila por grupo. Si no hay agrupación, se retorna una sola fila correspondiente a los cálculos para todo el data frame.</p>
<p>Ejemplos de cálculos en grupos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mínimo, máximo, promedio de población y cantidad de países</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para cada región de la ONU</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(REGION_UN) <span class="sc">|&gt;</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">POP_EST_MIN =</span> <span class="fu">min</span>(POP_EST, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">POP_EST_MAX =</span> <span class="fu">max</span>(POP_EST, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">POP_EST_MEAN =</span> <span class="fu">mean</span>(POP_EST, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  REGION_UN  POP_EST_MIN POP_EST_MAX POP_EST_MEAN     n
  &lt;chr&gt;            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt; &lt;int&gt;
1 Africa           97625   200963599    23381240.    56
2 Americas         52834   331595460    28909700.    35
3 Antarctica        4490        4490        4490      1
4 Asia             10000  1405862845    91256711.    50
5 Europe             825   144373535    16615735.    45
6 Oceania          11646    25368867     2970679.    14</code></pre>
</div>
</div>
<p>La función <a href="https://dplyr.tidyverse.org/reference/context.html">n()</a> cuenta la cantidad de filas en un grupo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cantidad de países por región y subregión de la ONU</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(REGION_UN, SUBREGION) <span class="sc">|&gt;</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">N =</span> <span class="fu">n</span>()</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(N)) <span class="sc">|&gt;</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">REGION_UN</th>
<th style="text-align: left;">SUBREGION</th>
<th style="text-align: right;">N</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Africa</td>
<td style="text-align: left;">Eastern Africa</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="even">
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Western Asia</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Africa</td>
<td style="text-align: left;">Western Africa</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="even">
<td style="text-align: left;">Europe</td>
<td style="text-align: left;">Southern Europe</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">Caribbean</td>
<td style="text-align: right;">13</td>
</tr>
<tr class="even">
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">South America</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">South-Eastern Asia</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: left;">Europe</td>
<td style="text-align: left;">Eastern Europe</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Europe</td>
<td style="text-align: left;">Northern Europe</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">Africa</td>
<td style="text-align: left;">Middle Africa</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Southern Asia</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Europe</td>
<td style="text-align: left;">Western Europe</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">Central America</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Africa</td>
<td style="text-align: left;">Northern Africa</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Eastern Asia</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Africa</td>
<td style="text-align: left;">Southern Africa</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia</td>
<td style="text-align: left;">Central Asia</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania</td>
<td style="text-align: left;">Micronesia</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Oceania</td>
<td style="text-align: left;">Melanesia</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania</td>
<td style="text-align: left;">Polynesia</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Americas</td>
<td style="text-align: left;">Northern America</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania</td>
<td style="text-align: left;">Australia and New Zealand</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Antarctica</td>
<td style="text-align: left;">Antarctica</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Ejemplo de cálculos sin agrupamiento:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Promedio de GDP_PC y cantidad de países del mundo</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">GDP_PC_MEAN =</span> <span class="fu">mean</span>(GDP_PC, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  GDP_PC_MEAN     n
        &lt;dbl&gt; &lt;int&gt;
1      15836.   201</code></pre>
</div>
</div>
</section>
<section id="otras" class="level3" data-number="8.3.6">
<h3 data-number="8.3.6" class="anchored" data-anchor-id="otras"><span class="header-section-number">8.3.6</span> Otras</h3>
<section id="distinct" class="level4" data-number="8.3.6.1">
<h4 data-number="8.3.6.1" class="anchored" data-anchor-id="distinct"><span class="header-section-number">8.3.6.1</span> distinct()</h4>
<p>La función <a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct()</a> retorna las combinaciones únicas de filas en un data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Valores distintos de la columna CONTINENT</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(CONTINENT) <span class="sc">|&gt;</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">CONTINENT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Asia</td>
</tr>
<tr class="even">
<td style="text-align: left;">South America</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Europe</td>
</tr>
<tr class="even">
<td style="text-align: left;">Africa</td>
</tr>
<tr class="odd">
<td style="text-align: left;">North America</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Antarctica</td>
</tr>
<tr class="even">
<td style="text-align: left;">Seven seas (open ocean)</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="count" class="level4" data-number="8.3.6.2">
<h4 data-number="8.3.6.2" class="anchored" data-anchor-id="count"><span class="header-section-number">8.3.6.2</span> count()</h4>
<p>Una forma alternativa a <code>summarize()</code> para realizar un conteo es con la función <a href="https://dplyr.tidyverse.org/reference/count.html">count()</a>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Conteo de países por continente</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(CONTINENT)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  CONTINENT                   n
  &lt;chr&gt;                   &lt;int&gt;
1 Africa                     54
2 Antarctica                  1
3 Asia                       49
4 Europe                     45
5 North America              23
6 Oceania                    14
7 Seven seas (open ocean)     3
8 South America              12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Expresión equivalente con summarize</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(CONTINENT) <span class="sc">|&gt;</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">CONTINENT</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Africa</td>
<td style="text-align: right;">54</td>
</tr>
<tr class="even">
<td style="text-align: left;">Antarctica</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asia</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="even">
<td style="text-align: left;">Europe</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: left;">North America</td>
<td style="text-align: right;">23</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oceania</td>
<td style="text-align: right;">14</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Seven seas (open ocean)</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">South America</td>
<td style="text-align: right;">12</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
</section>
<section id="ejercicios" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="ejercicios"><span class="header-section-number">8.4</span> Ejercicios</h2>
<p>Utilice las funciones de dplyr para responder a las siguientes preguntas sobre el conjunto de datos <code>paises</code>:</p>
<ol type="1">
<li>¿Cuántos países hay en cada región del Banco Mundial?</li>
<li>¿Cuál es el mínimo, máximo y promedio de producto interno bruto per cápita en el continente africano?</li>
<li>¿Cuál es el promedio de producto interno bruto per cápita por región del Banco Mundial?</li>
</ol>
</section>
<section id="recursos-de-interés" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="recursos-de-interés"><span class="header-section-number">8.5</span> Recursos de interés</h2>
<p>RStudio. (2017). <em>Data transformation with dplyr::Cheat Sheet</em>. <a href="https://github.com/rstudio/cheatsheets/blob/45c1e642468695830fd8b724587ccfe8901e2185/data-transformation.pdf" class="uri">https://github.com/rstudio/cheatsheets/blob/45c1e642468695830fd8b724587ccfe8901e2185/data-transformation.pdf</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./07-tidyverse.html" class="pagination-link" aria-label="Tidyverse - colección de paquetes para ciencia de datos">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Tidyverse - colección de paquetes para ciencia de datos</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./09-ggplot2-plotly.html" class="pagination-link" aria-label="ggplot2 y plotly - creación declarativa de gráficos interactivos">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>