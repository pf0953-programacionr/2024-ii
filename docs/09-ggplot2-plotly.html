<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PF-0953 Programación en R 2024-II - 9&nbsp; ggplot2 y plotly - creación declarativa de gráficos interactivos</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./08-dplyr.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="site_libs/plotly-locale-es-2.11.1/es.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./parte-iv-graficacion-estadistica-r.html">IV - Graficación estadística en R</a></li><li class="breadcrumb-item"><a href="./09-ggplot2-plotly.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">PF-0953 Programación en R 2024-II</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenida</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programa_curso.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programa del curso</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-i-introduccion-programacion-computadoras-ciencia-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">I - Introducción a la programación de computadoras y a la ciencia de datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-introduccion-programacion-computadoras.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción a la programación de computadoras</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-introduccion-ciencia-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introducción a la ciencia de datos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-ii-lenguaje-programacion-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">II - El lenguaje de programación R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R - lenguaje de programación para análisis estadístico</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-iii-herramientas-investigacion-reproducible-desarrollo-colaborativo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">III - Herramientas para investigación reproducible y desarrollo colaborativo</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Markdown - lenguaje de marcado</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Git - sistema de control de versiones</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Quarto - sistema de publicación técnica y científica</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-iv-graficacion-estadistica-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IV - Graficación estadística en R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Tidyverse - colección de paquetes para ciencia de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-ggplot2-plotly.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="5">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#trabajo-previo" id="toc-trabajo-previo" class="nav-link active" data-scroll-target="#trabajo-previo">Trabajo previo</a>
  <ul class="collapse">
  <li><a href="#lecturas" id="toc-lecturas" class="nav-link" data-scroll-target="#lecturas">Lecturas</a></li>
  </ul></li>
  <li><a href="#introducción" id="toc-introducción" class="nav-link" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#instalación-y-carga" id="toc-instalación-y-carga" class="nav-link" data-scroll-target="#instalación-y-carga"><span class="header-section-number">9.1</span> Instalación y carga</a></li>
  <li><a href="#conjuntos-de-datos-de-ejemplo" id="toc-conjuntos-de-datos-de-ejemplo" class="nav-link" data-scroll-target="#conjuntos-de-datos-de-ejemplo"><span class="header-section-number">9.2</span> Conjuntos de datos de ejemplo</a>
  <ul class="collapse">
  <li><a href="#países" id="toc-países" class="nav-link" data-scroll-target="#países"><span class="header-section-number">9.2.1</span> Países</a></li>
  </ul></li>
  <li><a href="#paquetes-de-graficación" id="toc-paquetes-de-graficación" class="nav-link" data-scroll-target="#paquetes-de-graficación"><span class="header-section-number">9.3</span> Paquetes de graficación</a>
  <ul class="collapse">
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2"><span class="header-section-number">9.3.1</span> ggplot2</a></li>
  <li><a href="#plotly" id="toc-plotly" class="nav-link" data-scroll-target="#plotly"><span class="header-section-number">9.3.2</span> plotly</a></li>
  </ul></li>
  <li><a href="#tipos-de-gráficos" id="toc-tipos-de-gráficos" class="nav-link" data-scroll-target="#tipos-de-gráficos"><span class="header-section-number">9.4</span> Tipos de gráficos</a>
  <ul class="collapse">
  <li><a href="#histogramas" id="toc-histogramas" class="nav-link" data-scroll-target="#histogramas"><span class="header-section-number">9.4.1</span> Histogramas</a></li>
  </ul></li>
  <li><a href="#recursos-de-interés" id="toc-recursos-de-interés" class="nav-link" data-scroll-target="#recursos-de-interés"><span class="header-section-number">9.5</span> Recursos de interés</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./parte-iv-graficacion-estadistica-r.html">IV - Graficación estadística en R</a></li><li class="breadcrumb-item"><a href="./09-ggplot2-plotly.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="trabajo-previo" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="trabajo-previo">Trabajo previo</h2>
<section id="lecturas" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="lecturas">Lecturas</h3>
<p>Chang, W. (2018). <em>R graphics cookbook: Practical recipes for visualizing data</em>. O’Reilly. <a href="https://r-graphics.org/" class="uri">https://r-graphics.org/</a></p>
<p>Wickham, H., &amp; Grolemund, G. (2017). <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em> (capítulo 3). O’Reilly Media. <a href="https://r4ds.had.co.nz/" class="uri">https://r4ds.had.co.nz/</a></p>
<p>Wickham, H., &amp; Grolemund, G. (s. f.). <em>R para Ciencia de Datos (1era ed.)</em> (capítulo 3). <a href="https://es.r4ds.hadley.nz/" class="uri">https://es.r4ds.hadley.nz/</a></p>
<p>Wickham, H., Çetinkaya-Rundel, M., &amp; Grolemund, G. (s. f.). <em>R for Data Science (2nd ed.)</em> (capítulo 2). <a href="https://r4ds.hadley.nz/" class="uri">https://r4ds.hadley.nz/</a></p>
<p>Wickham, H., Navarro, D., &amp; Pedersen, T. L. (s.f.). <em>ggplot2: Elegant graphics for data analysis</em>. <a href="https://ggplot2-book.org/" class="uri">https://ggplot2-book.org/</a></p>
</section>
</section>
<section id="introducción" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="introducción">Introducción</h2>
<p>R proporciona una gran cantidad de funciones para la elaboración de gráficos estadísticos y otros tipos de visualizaciones. El paquete base de R, por ejemplo, contiene un conjunto básico de funciones muy versátiles, especialmente para gráficos simples de conjuntos de datos relativamente pequeños. Sin embargo, para visualizaciones más avanzadas, puede ser conveniente explorar otras bibliotecas.</p>
<p>ggplot2 es una de las bibliotecas más populares de graficación de R. Implementa el concepto de “gramática de gráficos”, que permite crear visualizaciones complejas a partir de capas y componentes simples. Forma parte de Tidyverse, por lo que se comunica muy bien con los demás paquetes de esta familia, enfocada en conjuntos de datos grandes y en ciencia de datos.</p>
<p>plotly es una biblioteca para crear gráficos interactivos y dinámicos. Contiene capacidades para agregar controles y mecanismos que le permiten al usuario interactuar con los gráficos y realizar operaciones como filtrados, acercamientos y alejamientos, entre otras.</p>
<p>El paquete DT, por su parte, permite presentar conjuntos de datos en tablas interactivas en las que se pueden realizar operaciones como ordenamientos, consultas y filtrados.</p>
</section>
<section id="instalación-y-carga" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="instalación-y-carga"><span class="header-section-number">9.1</span> Instalación y carga</h2>
<p>Los paquetes necesarios pueden instalarse con la función <code>install.packages()</code>. Ya que se usaron en capítulos anteriores, en este punto se asumen instalados los paquetes de Tidyverse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de plotly</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"plotly"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de DT</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"DT"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Una vez instalados, los paquetes pueden cargarse con la función <code>library()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga conjunta de Tidyverse </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (incluye ggplot2, dplyr, readr y otros)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de plotly</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de DT</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de scales (para formatear ejes y leyendas en los gráficos)</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conjuntos-de-datos-de-ejemplo" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="conjuntos-de-datos-de-ejemplo"><span class="header-section-number">9.2</span> Conjuntos de datos de ejemplo</h2>
<section id="países" class="level3" data-number="9.2.1">
<h3 data-number="9.2.1" class="anchored" data-anchor-id="países"><span class="header-section-number">9.2.1</span> Países</h3>
<p>Se carga un archivo CSV con los datos de países de Natural Earth unidos con los del indicador de esperanza de vida al nacer en 2022 del Banco Mundial (columna <code>LIFE_EXPECTANCY</code>). También incluye la columna correspondiente al producto interno bruto per cápita (columna <code>GDP_PC</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de los datos de países</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>paises <span class="ot">&lt;-</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/pf0953-programacionr/2024-ii/refs/heads/main/datos/natural-earth/paises-join-esperanzavida.csv"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En el siguiente bloque de código, se utiliza la función <a href="https://rdrr.io/cran/DT/man/datatable.html">datatable()</a> del paquete <a href="https://rstudio.github.io/DT/">DT</a>, para desplegar las observaciones de países en una tabla.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabla de datos de paises</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">pageLength =</span> <span class="dv">5</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">language =</span> <span class="fu">list</span>(<span class="at">url =</span> <span class="st">'//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json'</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7759cf8c075f8c4bf56d" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7759cf8c075f8c4bf56d">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201"],["IDN","MYS","CHL","BOL","PER","ARG","GBR","CYP","IND","CHN","ISR","LBN","ETH","SSD","SOM","KEN","MWI","TZA","SYR","SOM","FRA","SUR","GUY","KOR","PRK","MAR","B28","CRI","NIC","COG","COD","BTN","UKR","BLR","NAM","ZAF","NLD","OMN","UZB","KAZ","TJK","LTU","BRA","URY","MNG","RUS","CZE","DEU","EST","LVA","NOR","SWE","FIN","VNM","KHM","LUX","ARE","BEL","GEO","MKD","ALB","AZE","SRB","TUR","ESP","LAO","KGZ","ARM","DNK","LBY","TUN","ROU","HUN","SVK","POL","IRL","GRC","ZMB","SLE","GIN","LBR","CAF","SDZ","DJI","ERI","AUT","IRQ","ITA","CHE","IRN","LIE","CIV","SRB","MLI","SEN","NGA","BEN","AGO","HRV","SVN","QAT","SAU","BWA","ZWE","PAK","BGR","THA","SMR","HTI","DOM","TCD","KWT","SLV","GTM","TLS","BRN","MCO","DZA","MOZ","SWZ","BDI","RWA","MMR","BGD","AND","AFG","MNE","BIH","UGA","CUB","HND","ECU","COL","PRY","PR1","MDA","TKM","JOR","NPL","LSO","CMR","GAB","NER","BFA","TGO","GHA","GNB","USA","CAN","MEX","BLZ","PAN","VEN","PN1","EGY","YEM","MRT","GNQ","GMB","VAT","CYP","CYP","ATA","AUS","FJI","NZL","MDG","PHL","LKA","BHS","TWN","JPN","ISL","SYC","KIR","MHL","TTO","GRD","VCT","BRB","LCA","DMA","ATG","KNA","JAM","MUS","COM","STP","CPV","MLT","SGP","TON","WSM","SLB","TUV","MDV","NRU","FSM","VUT","PLW","BHR"],["Indonesia","Malaysia","Chile","Bolivia","Peru","Argentina","United Kingdom","Cyprus","India","China","Israel","Lebanon","Ethiopia","S. Sudan","Somalia","Kenya","Malawi","Tanzania","Syria","Somaliland","France","Suriname","Guyana","South Korea","North Korea","Morocco","W. Sahara","Costa Rica","Nicaragua","Congo","Dem. Rep. Congo","Bhutan","Ukraine","Belarus","Namibia","South Africa","Netherlands","Oman","Uzbekistan","Kazakhstan","Tajikistan","Lithuania","Brazil","Uruguay","Mongolia","Russia","Czechia","Germany","Estonia","Latvia","Norway","Sweden","Finland","Vietnam","Cambodia","Luxembourg","United Arab Emirates","Belgium","Georgia","North Macedonia","Albania","Azerbaijan","Kosovo","Turkey","Spain","Laos","Kyrgyzstan","Armenia","Denmark","Libya","Tunisia","Romania","Hungary","Slovakia","Poland","Ireland","Greece","Zambia","Sierra Leone","Guinea","Liberia","Central African Rep.","Sudan","Djibouti","Eritrea","Austria","Iraq","Italy","Switzerland","Iran","Liechtenstein","Côte d'Ivoire","Serbia","Mali","Senegal","Nigeria","Benin","Angola","Croatia","Slovenia","Qatar","Saudi Arabia","Botswana","Zimbabwe","Pakistan","Bulgaria","Thailand","San Marino","Haiti","Dominican Rep.","Chad","Kuwait","El Salvador","Guatemala","Timor-Leste","Brunei","Monaco","Algeria","Mozambique","eSwatini","Burundi","Rwanda","Myanmar","Bangladesh","Andorra","Afghanistan","Montenegro","Bosnia and Herz.","Uganda","Cuba","Honduras","Ecuador","Colombia","Paraguay","Portugal","Moldova","Turkmenistan","Jordan","Nepal","Lesotho","Cameroon","Gabon","Niger","Burkina Faso","Togo","Ghana","Guinea-Bissau","United States of America","Canada","Mexico","Belize","Panama","Venezuela","Papua New Guinea","Egypt","Yemen","Mauritania","Eq. Guinea","Gambia","Vatican","N. Cyprus","Cyprus U.N. Buffer Zone","Antarctica","Australia","Fiji","New Zealand","Madagascar","Philippines","Sri Lanka","Bahamas","Taiwan","Japan","Iceland","Seychelles","Kiribati","Marshall Is.","Trinidad and Tobago","Grenada","St. Vin. and Gren.","Barbados","Saint Lucia","Dominica","Antigua and Barb.","St. Kitts and Nevis","Jamaica","Mauritius","Comoros","São Tomé and Principe","Cabo Verde","Malta","Singapore","Tonga","Samoa","Solomon Is.","Tuvalu","Maldives","Nauru","Micronesia","Vanuatu","Palau","Bahrain"],["Asia","Asia","South America","South America","South America","South America","Europe","Asia","Asia","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Asia","Africa","Europe","South America","South America","Asia","Asia","Africa","Africa","North America","North America","Africa","Africa","Asia","Europe","Europe","Africa","Africa","Europe","Asia","Asia","Asia","Asia","Europe","South America","South America","Asia","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Asia","Asia","Europe","Asia","Europe","Asia","Europe","Europe","Asia","Europe","Asia","Europe","Asia","Asia","Asia","Europe","Africa","Africa","Europe","Europe","Europe","Europe","Europe","Europe","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Europe","Asia","Europe","Europe","Asia","Europe","Africa","Europe","Africa","Africa","Africa","Africa","Africa","Europe","Europe","Asia","Asia","Africa","Africa","Asia","Europe","Asia","Europe","North America","North America","Africa","Asia","North America","North America","Asia","Asia","Europe","Africa","Africa","Africa","Africa","Africa","Asia","Asia","Europe","Asia","Europe","Europe","Africa","North America","North America","South America","South America","South America","Europe","Europe","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","North America","North America","North America","North America","North America","South America","Oceania","Africa","Asia","Africa","Africa","Africa","Europe","Asia","Asia","Antarctica","Oceania","Oceania","Oceania","Africa","Asia","Asia","North America","Asia","Asia","Europe","Seven seas (open ocean)","Oceania","Oceania","North America","North America","North America","North America","North America","North America","North America","North America","North America","Seven seas (open ocean)","Africa","Africa","Africa","Europe","Asia","Oceania","Oceania","Oceania","Oceania","Seven seas (open ocean)","Oceania","Oceania","Oceania","Oceania","Asia"],["Asia","Asia","Americas","Americas","Americas","Americas","Europe","Asia","Asia","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Asia","Africa","Europe","Americas","Americas","Asia","Asia","Africa","Africa","Americas","Americas","Africa","Africa","Asia","Europe","Europe","Africa","Africa","Europe","Asia","Asia","Asia","Asia","Europe","Americas","Americas","Asia","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Asia","Asia","Europe","Asia","Europe","Asia","Europe","Europe","Asia","Europe","Asia","Europe","Asia","Asia","Asia","Europe","Africa","Africa","Europe","Europe","Europe","Europe","Europe","Europe","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Europe","Asia","Europe","Europe","Asia","Europe","Africa","Europe","Africa","Africa","Africa","Africa","Africa","Europe","Europe","Asia","Asia","Africa","Africa","Asia","Europe","Asia","Europe","Americas","Americas","Africa","Asia","Americas","Americas","Asia","Asia","Europe","Africa","Africa","Africa","Africa","Africa","Asia","Asia","Europe","Asia","Europe","Europe","Africa","Americas","Americas","Americas","Americas","Americas","Europe","Europe","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Americas","Americas","Americas","Americas","Americas","Americas","Oceania","Africa","Asia","Africa","Africa","Africa","Europe","Asia","Asia","Antarctica","Oceania","Oceania","Oceania","Africa","Asia","Asia","Americas","Asia","Asia","Europe","Africa","Oceania","Oceania","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Africa","Africa","Africa","Africa","Europe","Asia","Oceania","Oceania","Oceania","Oceania","Asia","Oceania","Oceania","Oceania","Oceania","Asia"],["South-Eastern Asia","South-Eastern Asia","South America","South America","South America","South America","Northern Europe","Western Asia","Southern Asia","Eastern Asia","Western Asia","Western Asia","Eastern Africa","Eastern Africa","Eastern Africa","Eastern Africa","Eastern Africa","Eastern Africa","Western Asia","Eastern Africa","Western Europe","South America","South America","Eastern Asia","Eastern Asia","Northern Africa","Northern Africa","Central America","Central America","Middle Africa","Middle Africa","Southern Asia","Eastern Europe","Eastern Europe","Southern Africa","Southern Africa","Western Europe","Western Asia","Central Asia","Central Asia","Central Asia","Northern Europe","South America","South America","Eastern Asia","Eastern Europe","Eastern Europe","Western Europe","Northern Europe","Northern Europe","Northern Europe","Northern Europe","Northern Europe","South-Eastern Asia","South-Eastern Asia","Western Europe","Western Asia","Western Europe","Western Asia","Southern Europe","Southern Europe","Western Asia","Southern Europe","Western Asia","Southern Europe","South-Eastern Asia","Central Asia","Western Asia","Northern Europe","Northern Africa","Northern Africa","Eastern Europe","Eastern Europe","Eastern Europe","Eastern Europe","Northern Europe","Southern Europe","Eastern Africa","Western Africa","Western Africa","Western Africa","Middle Africa","Northern Africa","Eastern Africa","Eastern Africa","Western Europe","Western Asia","Southern Europe","Western Europe","Southern Asia","Western Europe","Western Africa","Southern Europe","Western Africa","Western Africa","Western Africa","Western Africa","Middle Africa","Southern Europe","Southern Europe","Western Asia","Western Asia","Southern Africa","Eastern Africa","Southern Asia","Eastern Europe","South-Eastern Asia","Southern Europe","Caribbean","Caribbean","Middle Africa","Western Asia","Central America","Central America","South-Eastern Asia","South-Eastern Asia","Western Europe","Northern Africa","Eastern Africa","Southern Africa","Eastern Africa","Eastern Africa","South-Eastern Asia","Southern Asia","Southern Europe","Southern Asia","Southern Europe","Southern Europe","Eastern Africa","Caribbean","Central America","South America","South America","South America","Southern Europe","Eastern Europe","Central Asia","Western Asia","Southern Asia","Southern Africa","Middle Africa","Middle Africa","Western Africa","Western Africa","Western Africa","Western Africa","Western Africa","Northern America","Northern America","Central America","Central America","Central America","South America","Melanesia","Northern Africa","Western Asia","Western Africa","Middle Africa","Western Africa","Southern Europe","Western Asia","Western Asia","Antarctica","Australia and New Zealand","Melanesia","Australia and New Zealand","Eastern Africa","South-Eastern Asia","Southern Asia","Caribbean","Eastern Asia","Eastern Asia","Northern Europe","Eastern Africa","Micronesia","Micronesia","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Eastern Africa","Eastern Africa","Middle Africa","Western Africa","Southern Europe","South-Eastern Asia","Polynesia","Polynesia","Melanesia","Polynesia","Southern Asia","Micronesia","Micronesia","Melanesia","Micronesia","Western Asia"],["East Asia &amp; Pacific","East Asia &amp; Pacific","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","South Asia","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Sub-Saharan Africa","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Middle East &amp; North Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","East Asia &amp; Pacific","South Asia","Europe &amp; Central Asia","South Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","South Asia","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","North America","North America","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Antarctica","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","Sub-Saharan Africa","East Asia &amp; Pacific","South Asia","Latin America &amp; Caribbean","East Asia &amp; Pacific","East Asia &amp; Pacific","Europe &amp; Central Asia","Sub-Saharan Africa","East Asia &amp; Pacific","East Asia &amp; Pacific","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Middle East &amp; North Africa","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","South Asia","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","Middle East &amp; North Africa"],["4. Emerging region: MIKT","6. Developing region","5. Emerging region: G20","5. Emerging region: G20","5. Emerging region: G20","5. Emerging region: G20","1. Developed region: G7","6. Developing region","3. Emerging region: BRIC","3. Emerging region: BRIC","2. Developed region: nonG7","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","5. Emerging region: G20","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","1. Developed region: G7","6. Developing region","6. Developing region","4. Emerging region: MIKT","7. Least developed region","6. Developing region","7. Least developed region","5. Emerging region: G20","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","5. Emerging region: G20","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","6. Developing region","2. Developed region: nonG7","3. Emerging region: BRIC","5. Emerging region: G20","6. Developing region","3. Emerging region: BRIC","2. Developed region: nonG7","1. Developed region: G7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","5. Emerging region: G20","7. Least developed region","2. Developed region: nonG7","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","4. Emerging region: MIKT","2. Developed region: nonG7","7. Least developed region","6. Developing region","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","6. Developing region","7. Least developed region","7. Least developed region","2. Developed region: nonG7","6. Developing region","1. Developed region: G7","2. Developed region: nonG7","5. Emerging region: G20","2. Developed region: nonG7","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","5. Emerging region: G20","7. Least developed region","7. Least developed region","2. Developed region: nonG7","2. Developed region: nonG7","6. Developing region","2. Developed region: nonG7","6. Developing region","5. Emerging region: G20","5. Emerging region: G20","2. Developed region: nonG7","5. Emerging region: G20","2. Developed region: nonG7","7. Least developed region","6. Developing region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","6. Developing region","2. Developed region: nonG7","6. Developing region","7. Least developed region","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","2. Developed region: nonG7","7. Least developed region","6. Developing region","6. Developing region","7. Least developed region","5. Emerging region: G20","6. Developing region","6. Developing region","6. Developing region","5. Emerging region: G20","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","6. Developing region","7. Least developed region","1. Developed region: G7","1. Developed region: G7","4. Emerging region: MIKT","6. Developing region","6. Developing region","5. Emerging region: G20","6. Developing region","5. Emerging region: G20","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","2. Developed region: nonG7","6. Developing region","1. Developed region: G7","7. Least developed region","5. Emerging region: G20","6. Developing region","6. Developing region","2. Developed region: nonG7","1. Developed region: G7","2. Developed region: nonG7","6. Developing region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","6. Developing region","6. Developing region"],["4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","1. High income: OECD","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","1. High income: OECD","3. Upper middle income","5. Low income","5. Low income","5. Low income","5. Low income","5. Low income","5. Low income","4. Lower middle income","4. Lower middle income","1. High income: OECD","3. Upper middle income","4. Lower middle income","1. High income: OECD","5. Low income","4. Lower middle income","5. Low income","3. Upper middle income","4. Lower middle income","4. Lower middle income","5. Low income","4. Lower middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","3. Upper middle income","1. High income: OECD","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","5. Low income","3. Upper middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","1. High income: OECD","1. High income: OECD","1. High income: OECD","3. Upper middle income","1. High income: OECD","1. High income: OECD","1. High income: OECD","4. Lower middle income","5. Low income","1. High income: OECD","2. High income: nonOECD","1. High income: OECD","4. Lower middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","1. High income: OECD","4. Lower middle income","5. Low income","4. Lower middle income","1. High income: OECD","3. Upper middle income","3. Upper middle income","3. Upper middle income","1. High income: OECD","1. High income: OECD","1. High income: OECD","1. High income: OECD","1. High income: OECD","4. Lower middle income","5. Low income","5. Low income","5. Low income","5. Low income","4. Lower middle income","4. Lower middle income","5. Low income","1. High income: OECD","4. Lower middle income","1. High income: OECD","1. High income: OECD","3. Upper middle income","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","5. Low income","4. Lower middle income","4. Lower middle income","5. Low income","3. Upper middle income","2. High income: nonOECD","1. High income: OECD","2. High income: nonOECD","2. High income: nonOECD","3. Upper middle income","5. Low income","4. Lower middle income","3. Upper middle income","3. Upper middle income","2. High income: nonOECD","5. Low income","3. Upper middle income","5. Low income","2. High income: nonOECD","4. Lower middle income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","2. High income: nonOECD","3. Upper middle income","5. Low income","4. Lower middle income","5. Low income","5. Low income","5. Low income","5. Low income","2. High income: nonOECD","5. Low income","3. Upper middle income","3. Upper middle income","5. Low income","3. Upper middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","1. High income: OECD","4. Lower middle income","3. Upper middle income","3. Upper middle income","5. Low income","4. Lower middle income","4. Lower middle income","3. Upper middle income","5. Low income","5. Low income","5. Low income","4. Lower middle income","5. Low income","1. High income: OECD","1. High income: OECD","3. Upper middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","4. Lower middle income","4. Lower middle income","5. Low income","2. High income: nonOECD","5. Low income","2. High income: nonOECD","3. Upper middle income","2. High income: nonOECD","2. High income: nonOECD","1. High income: OECD","4. Lower middle income","1. High income: OECD","5. Low income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","2. High income: nonOECD","1. High income: OECD","1. High income: OECD","3. Upper middle income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","5. Low income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","2. High income: nonOECD","4. Lower middle income","4. Lower middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","4. Lower middle income","4. Lower middle income","3. Upper middle income","2. High income: nonOECD"],[270625568,31949777,18952038,11513100,32510453,44938712,67366465,1198575,1366417754,1405862845,13738606,6855713,112078730,11062113,10192317.3,52573973,18628747,58005463,17070135,5096159,67692632,581363,782766,51709098,25666161,36471769,603253,5047561,6545502,5380508,86790567,763092,44385155,9466856,2494530,58558270,17637435,4974986,33580650,18513930,9321018,2786844,211049527,3461734,3225167,144373535,10669709,83132799,1326590,1912789,5347896,10285453,5550198,96462106,16486542,619896,9770529,11484055,245246,2083459,2854191,10023318,1794248,83429615,47076781,7169455,6456900,2957731,5923456,6777452,11694719,19356544,9769949,5454073,37970874,4941444,10716322,17861030,7813215,12771246,4937374,4745185,42813238,973560,6081196,8877067,39309783,60297396,8574832,82913906,38019,25716544,6944975,19658031,16296364,200963599,11801151,31825295,4067500,2087946,2832067,34268528,2303697,14645468,216565318,6975761,69625582,33860,11263077,10738958,15946876,4207083,6453553,16604026,1293119,433285,38964,43053054,30366036,1148130,11530580,12626950,54045420,163046161,77142,38041754,622137,3301000,44269594,11333483,9746117,17373662,50339443,7044636,10269417,2657637,5942089,10101694,28608710,2125268,25876380,2172579,23310715,20321378,8082366,30417856,1920922,331595460,37589262,127575529,390353,4246439,28515829,8776109,100388073,29161922,4525696,1355986,2347706,825,326000,10000,4490,25368867,889953,4950828,26969307,108116615,21803000,389482,23568378,126264931,361313,97625,117606,58791,1394973,112003,110589,287025,182790,71808,97118,52834,2948279,1265711,850886,215056,549935,502653,5703569,104494,197097,669823,11646,530953,12581,113815,299882,18008,1641172],[1119190,364681,282318,40895,226848,445445,2863166,24948,2868929,14762473,410928,51991,95912,11998,4719,95503,7666,63177,98830,17836,2732886,3697,5173,1646739,40000,119700,907,61801,12520,12267,50400,2530,153781,63080,12366,351431,914392,76331,57921,181665,8116,54627,1839758,56045,13996,1699876,250680,3861123,31471,34102,403336,530883,225700,261921,27089,71104,421142,533097,500,12547,15279,48047,7926,761425,1393490,18173,8454,13672,356271,52091,38796,250077,163469,105079,595858,388698,209852,23309,4121,12296,3070,2220,30513,3324,2065,445075,234094,2003576,703082,453996,6876,58539,51475,17279,23578,448120,14390,88815,60752,54174,175837,792966,18340,21440,278221,68558,543548,1655,14332,88941,11314,134628,27022,76710,2017,13469,7188,171091,15291,4471,3012,10354,76085,302571,3154,19291,5542,20164,35165,100023,25095,107435,323615,38145,238785,11968,40761,44502,30641,2376,39007,16874,12911,15990,5490,66983,1339,21542705,1736425,1268870,1879,66800,482359,24829,303092,22581,7600,11026,1826,-99,3600,280,898,1396634,5496,207302,14114,376795,84008,13578,1127000,5081769,24188,1703,194,221,24269,1210,824,5209,2122,582,1661,1053,16458,14048,1165,418,1981,14989,372062,512,852,1589,47,5642,118,401,934,268,38574],[68.25,76.26000000000001,79.51900000000001,64.928,73.38500000000001,76.06399999999999,82.0585365853659,81.889,67.744,78.587,82.7,74.416,65.645,55.567,56.107,62.055,62.898,66.782,72.3,56.107,82.2292682926829,70.289,65.989,82.6804878048781,73.578,74.973,null,77.31999999999999,74.61499999999999,63.053,59.743,72.229,68.5879268292683,73.1114634146342,58.059,61.48,81.7146341463415,73.935,71.67400000000001,74.44,71.288,75.7926829268293,73.425,78,72.667,72.5456097560976,79.0292682926829,80.7056097560976,77.9439024390244,74.580487804878,82.5609756097561,83.109756097561,81.18780487804879,74.58,69.896,83.04634146341461,79.196,81.6975609756098,71.587,74.4248780487805,76.833,73.488,75.48219512195119,78.47499999999999,83.0829268292683,68.999,72.0487804878049,73.372,81.30487804878049,72.151,74.26300000000001,75.30487804878049,76.01707317073171,77.0658536585366,77.30487804878049,83.0560975609756,80.6365853658537,61.803,60.411,58.985,61.1,54.477,null,62.859,66.604,81.0926829268293,71.336,82.90000000000001,83.45365853658539,74.556,84.319512195122,58.916,75.48219512195119,59.417,67.913,53.633,59.954,61.929,77.57560975609761,81.28292682926831,81.559,77.905,65.913,59.391,66.431,74.3609756097561,79.68000000000001,null,63.728,74.17,52.997,80.264,71.47499999999999,68.67400000000001,69.056,74.551,null,77.129,59.625,56.36,61.977,67.129,67.256,73.69799999999999,null,62.879,76.18780487804879,75.29300000000001,63.638,78.155,70.72799999999999,77.89400000000001,73.65900000000001,70.47499999999999,null,68.621,69.41,74.215,70.48399999999999,53.036,60.958,65.694,62.08,59.766,61.588,63.945,59.861,77.4341463414634,81.2956097560976,74.83199999999999,70.962,76.82599999999999,71.105,null,70.15900000000001,63.72,64.691,61.19,62.906,null,81.889,81.889,null,83.2,68.312,82.7609756097561,65.23,72.187,76.61,74.358,null,83.99634146341459,82.1707317073171,73.8487804878049,67.661,65.146,74.708,75.33499999999999,68.97199999999999,77.706,71.294,72.98099999999999,79.236,72.027,70.629,73.51463414634151,63.68,68.794,74.72199999999999,82.7,82.89512195121949,71.27,72.598,70.742,64.854,80.839,64.014,70.925,70.492,null,79.246],[4135.566377822808,11414.19547310142,14896.44543768855,3552.040718833329,6977.694220378904,9912.277859676977,42501.35434596428,20814.71747700395,2099.598743943135,10500.64951392894,29910.45816438727,7583.602172377986,855.7555925196511,1084.602914470319,462.995789976044,1816.545232371919,411.5145264466794,1089.156033458435,5789.643725723317,3499.890800110436,40371.98612693919,6359.193825544453,6608.61611260581,31846.21398733353,1558.472262369117,3281.990517103791,1503.515108917817,12243.73514257678,1912.763910239428,2279.8962477149,580.708269828448,3315.458686501759,3464.694445699243,6663.247016749806,4957.246455244074,6001.389726848146,51843.81969373664,15342.95774902683,1724.832604490979,9812.341301927792,870.7203440654229,19601.74304697357,8717.18608495152,16189.86323039263,4339.620242920754,11774.15237494878,23494.5489141269,46445.2423886269,23723.23023692324,17828.41703920297,75419.56687265422,51614.93616275336,40665.21590761266,2715.273498175542,1643.097746028245,114703.1114896692,43103.29563527215,46420.6240739878,2038.769235787739,6022.196741092577,5353.180638576746,4793.522464317704,4417.449538748267,9126.555360467622,29600.36711091185,2534.781235114803,1309.297031083027,4622.46228612406,60145.80001944811,7685.926805531046,3317.394800165784,12919.50670532922,16731.81712616924,19266.15210320801,15692.5015737062,78660.81250743709,19582.46495392729,1305.019923263104,527.439728716028,962.7878125595576,621.788019299328,467.8426657759392,712.7001232656124,3414.273388389006,339.5713606336648,50137.61865264732,5955.107918046762,33228.23426736372,81993.67637756634,5475.510947463988,180856.9399510771,2276.31675547072,7411.833735902577,878.9791815874133,1446.825807278237,2229.856562232447,1219.372584928368,2790.704689461638,14935.9557467732,25946.07331798811,62087.86727150169,23139.77419747939,7961.116414181205,1463.934098930809,1284.69785729957,9828.031665649096,7806.728279844037,48877.73183697578,1272.476428954539,8282.088448432334,709.4806531385834,32000.31946125142,4187.150860928856,4619.963856958548,1559.794574203921,31085.77495182155,184477.9796735448,3973.957341098264,503.5560123817281,3894.158327018718,261.2184296019801,819.9921596268299,1407.797367473506,1855.738265435149,40885.63947006818,507.1006978279708,8908.005792936283,6108.451984247198,794.3375310828466,8825.442275777004,2574.871612971607,6183.785548492885,6428.656749340671,5414.758122350111,23252.05023810018,4503.248562538827,6859.708765721954,4405.399728006016,1071.037456774528,1117.976650474199,1507.436511598608,7766.806178279363,553.8654648731281,786.8560882042547,679.2565444326575,2202.094716997805,697.0610987848544,64966.82735041065,46194.70847818188,9946.029696651309,4813.591800242345,15730.82764170167,16915.48227477448,2829.158115515657,3019.203287227159,774.3316781383614,1679.29971434228,8131.352388593982,777.7805227741463,-120000,11042.94478527607,28000,200000,55053.06957539728,6175.607026438475,41872.18784413436,523.3356570860349,3485.079513449436,3853.047745723065,34861.68808828136,47818.30977082937,40246.87583284705,66944.72659439323,17444.30217669654,1649.57570191997,3759.07877056012,17397.46934170052,10803.28205494496,7451.012306829793,18148.24492640014,11608.95016138738,8104.946524064171,17102.90574352849,19930.34788204565,5582.239672703974,11098.90014387171,1369.161086208963,1943.679785730228,3602.243901552002,29819.77626712662,65233.18995527187,4899.802859494325,4322.744638426764,2372.268494811316,4035.720419027993,10626.17595154373,9379.222637310229,3523.261433027281,3114.558392967901,14882.27454464682,23503.93499279783]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>ADM0_ISO<\/th>\n      <th>NAME<\/th>\n      <th>CONTINENT<\/th>\n      <th>REGION_UN<\/th>\n      <th>SUBREGION<\/th>\n      <th>REGION_WB<\/th>\n      <th>ECONOMY<\/th>\n      <th>INCOME_GRP<\/th>\n      <th>POP_EST<\/th>\n      <th>GDP_MD<\/th>\n      <th>LIFE_EXPECTANCY<\/th>\n      <th>GDP_PC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"language":{"url":"//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json"},"columnDefs":[{"className":"dt-right","targets":[9,10,11,12]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"ADM0_ISO","targets":1},{"name":"NAME","targets":2},{"name":"CONTINENT","targets":3},{"name":"REGION_UN","targets":4},{"name":"SUBREGION","targets":5},{"name":"REGION_WB","targets":6},{"name":"ECONOMY","targets":7},{"name":"INCOME_GRP","targets":8},{"name":"POP_EST","targets":9},{"name":"GDP_MD","targets":10},{"name":"LIFE_EXPECTANCY","targets":11},{"name":"GDP_PC","targets":12}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>DT es un “envoltorio” (<em>wrapper</em>) de la biblioteca <a href="https://datatables.net/">DataTables</a> de <a href="https://es.wikipedia.org/wiki/JavaScript">JavaScript</a>, un lenguaje ampliamente utilizado en el desarrollo de páginas web interactivas.</p>
</section>
</section>
<section id="paquetes-de-graficación" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="paquetes-de-graficación"><span class="header-section-number">9.3</span> Paquetes de graficación</h2>
<p>Se introducen los paquetes de graficación estadística ggplot2 y plotly. Se utiliza ggplot2 para elaborar los gráficos y plotly para hacerlos interactivos.</p>
<section id="ggplot2" class="level3" data-number="9.3.1">
<h3 data-number="9.3.1" class="anchored" data-anchor-id="ggplot2"><span class="header-section-number">9.3.1</span> ggplot2</h3>
<p><a href="https://ggplot2.tidyverse.org/">ggplot2</a> es un sistema para la creación declarativa de gráficos, creado por Hadley Wickham en 2005. Está basado en el libro <a href="https://www.springer.com/gp/book/9780387245447"><em>The Grammar of Graphics</em>, de Leland Wilkinson</a>, un esquema general para visualización de datos que descompone un gráfico en sus principales componentes semánticos, tales como capas y geometrías.</p>
<section id="principales-componentes-de-un-gráfico" class="level4" data-number="9.3.1.1">
<h4 data-number="9.3.1.1" class="anchored" data-anchor-id="principales-componentes-de-un-gráfico"><span class="header-section-number">9.3.1.1</span> Principales componentes de un gráfico</h4>
<p>De acuerdo con <em>The Grammar of Graphics</em>, los tres principales componentes de un gráfico son:</p>
<ol type="1">
<li>Datos (observaciones y variables).</li>
<li>Conjunto de mapeos de las variables del conjunto de datos a propiedades visuales (<em>aesthetics</em>) del gráfico, tales como posición en el eje x, posición en el eje y, color, tamaño y forma, entre otras.</li>
<li>Al menos una capa, la cual describe como graficar cada observación. Por lo general, las capas se crean con funciones de geometrías (ej. puntos, líneas, barras).</li>
</ol>
</section>
<section id="opciones-básicas" class="level4" data-number="9.3.1.2">
<h4 data-number="9.3.1.2" class="anchored" data-anchor-id="opciones-básicas"><span class="header-section-number">9.3.1.2</span> Opciones básicas</h4>
<p>ggplot2 implementa un gráfico estadístico por medio de la función <a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a>, cuya sintaxis básica puede resumirse de la siguiente forma:</p>
<pre><code>ggplot(data = &lt;DATOS&gt;) + 
    &lt;FUNCION_GEOMETRIA&gt;(mapping = aes(&lt;MAPEOS&gt;))</code></pre>
<p>El llamado a <code>ggplot()</code> crea un sistema de coordenadas (i.e.&nbsp;un “canvas”), al cual se le agregan capas. Su primer argumento es <code>&lt;DATOS&gt;</code>, el cual es usualmente un dataframe o un tibble.</p>
<p>La función <a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a> realiza los mapeos (<code>&lt;MAPEOS&gt;</code>) de las variables del conjunto de datos a las propiedades visuales del gráfico. Las capas se crean con funciones de geometrías (<code>&lt;FUNCION_GEOMETRIA&gt;</code>) como <a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a>, <a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a> o <a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a>, entre muchas otras. Note el uso del operador <code>+</code> para agregar las capas al gráfico.</p>
<p>Como ejemplo, seguidamente se crea un <a href="https://es.wikipedia.org/wiki/Diagrama_de_dispersi%C3%B3n">gráfico de dispersión</a> que muestra la variable producto interno bruto (PIB) per cápita (<code>GDP_PC</code>) en el eje X, y la variable esperanza de vida al nacer (<code>LIFE_EXPECTANCY</code>) en el eje Y.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> paises) <span class="sc">+</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-basico-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El bloque de código anterior puede reescribirse mediante un <em>pipe</em>, para pasar el conjunto de datos a <code>ggplot()</code>. También puede llamarse a <code>aes()</code> como un argumento de <code>ggplot()</code> y no de la función de geometría. Esto último acostumbra hacerse cuando los mapeos de las variables a las propiedades estéticas son los mismos en todas las capas del gráfico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-pipe-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La función <code>scale_x_continuous()</code> permite usar comas como separadores de miles y establecer los límites del eje X. También evita la notación científica.</p>
<p>El gráfico muestra una relación positiva entre el PIB per cápita y la esperanza de vida al nacer. En otras palabras, mientras mayor es el PIB per cápita de un país, mayor es la esperanza de vida al nacer de sus habitantes.</p>
</section>
<section id="variables-adicionales" class="level4" data-number="9.3.1.3">
<h4 data-number="9.3.1.3" class="anchored" data-anchor-id="variables-adicionales"><span class="header-section-number">9.3.1.3</span> Variables adicionales</h4>
<p>Se pueden incluir variables adicionales en el gráfico mediante su mapeo a otras propiedades visuales. En el siguiente bloque de código, la variable correspondiente al continente (<code>CONTINENT</code>), se mapea a la propiedad <code>color</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># coloreado por continente</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-color-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La misma variable puede mapearse a la propiedad visual <code>shape</code> (forma).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con formas de puntos correspondientes al continente</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">shape =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-shape-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Los últimos continentes de la leyenda no se incluyen en el gráfico debido a que <code>ggplot()</code> solo muestra, por defecto, seis formas diferentes cuando se asignan de manera automática. Esto puede solucionarse si se asigna explícitamente una forma a cada categoría. En el siguiente bloque de código, se asignan manualmente tanto formas como colores a cada continente, mediante las funciones <a href="https://ggplot2.tidyverse.org/reference/scale_shape.html">scale_shape_manual()</a> y <a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con formas y colores correspondientes al continente</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">shape =</span> CONTINENT, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"purple"</span>, <span class="st">"orange"</span>, <span class="st">"brown"</span>, <span class="st">"pink"</span>, <span class="st">"yellow"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-shape-color-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El siguiente bloque de código mapea la variable de la cilindrada con la propiedad visual tamaño (<code>size</code>) y compara el rendimiento en autopista de los automóviles con el rendimiento en ciudad.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con tamaño de puntos correspondiente a la población</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">size =</span> POP_EST, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-size-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La función <code>scale_size_continuous()</code> permite usar comas como separadores de miles y evitar la notación científica en la leyenda del gráfico.</p>
</section>
<section id="capas-adicionales" class="level4" data-number="9.3.1.4">
<h4 data-number="9.3.1.4" class="anchored" data-anchor-id="capas-adicionales"><span class="header-section-number">9.3.1.4</span> Capas adicionales</h4>
<p>Un mismo gráfico puede contener múltiples capas, cada una con su propia función de geometría. El siguiente bloque de código agrega una capa con la función <a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a>, la cual muestra una curva de tendencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'lm'</span>) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-smooth-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Ejercicios</strong><br>
1. Revise la documentación de <code>geom_smooth()</code> para agregar otros tipos de curvas de tendencia al gráfico.</p>
<p>En el siguiente ejemplo, se mapea la variable continente (<code>CONTINENT</code>) a la propiedad visual del color, tanto para la capa de puntos como para la de la curva de tendencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-smooth-drv-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="paneles" class="level4" data-number="9.3.1.5">
<h4 data-number="9.3.1.5" class="anchored" data-anchor-id="paneles"><span class="header-section-number">9.3.1.5</span> Paneles</h4>
<p>Como se mostró anteriormente, una forma de mostrar variables adicionales en un gráfico es mediante propiedades visuales (color, forma, tamaño, etc.). Otra forma es mediante el uso de paneles (<em>facets</em>), los cuales dividen un gráfico en subgráficos, de acuerdo con los valores de una variable. Este método es particularmente apropiado cuando la variable adicional es categórica.</p>
<p>La función <a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap()</a> divide un gráfico en paneles de acuerdo con una sola variable. El primer argumento es una <a href="https://www.datacamp.com/tutorial/r-formula-tutorial">fórmula</a>, la cual se crea con el caracter <code>~</code> (tilde) seguido por el nombre de la variable.</p>
<p>En el siguiente bloque de código, se generan paneles para cada continente con el gráfico de dispersión de PIB per cápita vs esperanza vida. Es decir, un panel (subgráfico) por cada continente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + paneles por continente</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> CONTINENT, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-facet_wrap-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La función <a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid()</a> genera paneles con la combinación de dos variables. El primer argumento es también una fórmula, la cual contiene dos variables separadas por <code>~</code>.</p>
<p>En el siguiente bloque de código, se generan paneles para el gráfico anterior, organizados por región de la ONU y grupo de ingresos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + paneles por región y subregión de la ONU</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(REGION_UN <span class="sc">~</span> INCOME_GRP) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-facet_grid-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="títulos-etiquetas-estilos-y-colores" class="level4" data-number="9.3.1.6">
<h4 data-number="9.3.1.6" class="anchored" data-anchor-id="títulos-etiquetas-estilos-y-colores"><span class="header-section-number">9.3.1.6</span> Títulos, etiquetas, estilos y colores</h4>
<section id="titulos-subtítulos-y-etiquetas" class="level5" data-number="9.3.1.6.1">
<h5 data-number="9.3.1.6.1" class="anchored" data-anchor-id="titulos-subtítulos-y-etiquetas"><span class="header-section-number">9.3.1.6.1</span> Titulos, subtítulos y etiquetas</h5>
<p>ggplot2 incluye las funciones <a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle()</a>, <a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab()</a>, <a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab()</a> y <a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a>, las cuales permiten agregar títulos, subtítulos, etiquetas en los ejes y de otros tipos a un gráfico.</p>
<p>Algunas de las opciones que ofrecen estas funciones se ilustran en el siguiente gráfico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-etiquetas-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El títulos y las etiquetas de los ejes se pueden agregar también mediante argumentos de <code>labs()</code>.</p>
</section>
<section id="estilos" class="level5" data-number="9.3.1.6.2">
<h5 data-number="9.3.1.6.2" class="anchored" data-anchor-id="estilos"><span class="header-section-number">9.3.1.6.2</span> Estilos</h5>
<p>ggplot2 incluye un conjunto de <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">estilos</a> (<em>themes</em>) que pueden ayudar a mejorar el aspecto visual de los gráficos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="co"># tema de ggplot2</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-etiquetas-estilo-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Ejercicios</strong><br>
1. Revise la documentación de estilos de ggplot2 y pruebe diferentes opciones en el gráfico anterior.</p>
<p>Existen paquetes que ofrecen estilos adicionales como, por ejemplo, <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">ggthemes</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de ggthemes</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggthemes"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de ggthemes</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>() <span class="co"># estilo de ggthemes</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-ggthemes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Otro paquete de estilos y recursos relacionados (escalas de colores, fuentes, etc.) es <a href="https://github.com/hrbrmstr/hrbrthemes">hrbrthemes</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de hbrthemes</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"hrbrthemes"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de hbrthemes</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="co"># tema de hrbrthemes</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-hbrthemes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="colores" class="level5" data-number="9.3.1.6.3">
<h5 data-number="9.3.1.6.3" class="anchored" data-anchor-id="colores"><span class="header-section-number">9.3.1.6.3</span> Colores</h5>
<p>ggplot2 incluye múltiples funciones para escalas de colores, entre las que pueden mencionarse:</p>
<ul>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer()</a>: para escalas de colores secuenciales, divergentes y cualitativas de <a href="https://colorbrewer2.org/">ColorBrewer</a>.</li>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d()</a>: para escalas <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">viridis</a>, diseñadas para mejorar la legibilidad de gráficos para lectores con formas comunes de daltonismo y discapacidades relacionadas con la percepción de colores.</li>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a>: para especificar directamente los colores a utilizar.</li>
</ul>
<p>El siguiente bloque de código genera un gráfico de dispersión para los datos de diamonds. Muestra el peso en quilates (<code>carat</code>) de los diamantes en el eje X y su precio (<code>price</code>) en el eje Y. La variable correspondiente a su claridad (<code>clarity</code>) se muestra mediante el color de los puntos, de acuerdo con una escala de ColorBrewer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  coloreado por continente</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Población estimada"</span>) <span class="sc">+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrBr"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="co"># estilo de hrbrthemes</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion--scale_color-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Para más información sobre etiquetas, estilos, colores y otros temas relacionados en ggplot2, se recomienda leer <a href="https://ggplot2-book.org/themes.html">ggplot2: Elegant Graphics for Data Analysis - Themes</a>.</p>
</section>
</section>
<section id="opciones-avanzadas" class="level4" data-number="9.3.1.7">
<h4 data-number="9.3.1.7" class="anchored" data-anchor-id="opciones-avanzadas"><span class="header-section-number">9.3.1.7</span> Opciones avanzadas</h4>
<p>En las secciones y ejemplos anteriores, se han estudiado las opciones básicas para crear un gráfico en ggplot2: datos, mapeos de variables a propiedades visuales y capas. También se mostró la forma de implementar paneles, como un mecanismo para visualizar variables adicionales y algunos recursos para mejorar la apariencia de los gráficos.</p>
<p>ggplot2 incluye otras opciones para la creación de gráficos, como transformaciones estadísticas, transformaciones de sistemas de coordenadas y posicionamiento de las geometrías, las cuales pueden esquematizarse de la siguiente forma:</p>
<pre><code>ggplot(data = &lt;DATOS&gt;) + 
  &lt;FUNCION_GEOMETRIA&gt;(
    mapping = aes(&lt;MAPEOS&gt;),
    stat = &lt;ESTADISTICA&gt;,
    position = &lt;POSICION&gt;
  ) +
  &lt;FUNCION_COORDENADAS&gt; +
  &lt;FUNCION_FACET&gt;</code></pre>
<p>En las secciones siguientes, se explicarán y ejemplificarán alguna de estas opciones.</p>
</section>
</section>
<section id="plotly" class="level3" data-number="9.3.2">
<h3 data-number="9.3.2" class="anchored" data-anchor-id="plotly"><span class="header-section-number">9.3.2</span> plotly</h3>
<p><a href="https://plotly.com/r/">plotly R</a> es una biblioteca para gráficos interactivos que forma parte del <a href="https://plotly.com/graphing-libraries/">grupo de bibliotecas de graficación de Plotly</a>, el cual también incluye bibliotecas para otros lenguajes como Python, Julia, F# y MATLAB. Plotly fue originalmente escrita en JavaScript, por lo que es particularmente adecuada para gráficos interactivos en la Web.</p>
<p>plotly implementa la función <a href="https://rdrr.io/cran/plotly/man/ggplotly.html">ggplotly()</a>, la cual convierte graficos de ggplot2 a plotly, haciéndolos interactivos.</p>
<p>El siguiente bloque de código muestra un gráfico generado con ggplot2 y convertido a plotly con la función <code>ggplotly()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>grafico_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># datos que se muestran al colocar el ratón sobre un punto</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"PIB per cápita: "</span>, GDP_PC, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Esperanza de vida: "</span>, LIFE_EXPECTANCY</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Población estimada"</span>) <span class="sc">+</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="co"># estilo de hrbrthemes</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico plotly</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>) <span class="co"># para mostrar los controles en español</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-353a2e803cb740e39269" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-353a2e803cb740e39269">{"x":{"data":[{"x":[855.75559251965115,1084.6029144703186,462.99578997604402,1816.5452323719192,411.51452644667944,1089.1560334584349,3499.890800110436,3281.9905171037908,1503.5151089178171,2279.8962477148998,580.70826982844801,4957.2464552440742,6001.389726848146,7685.9268055310458,3317.3948001657841,1305.0199232631039,527.43972871602796,962.78781255955755,621.78801929932797,467.84266577593922,712.70012326561243,3414.2733883890055,339.57136063366482,2276.3167554707197,878.97918158741334,1446.8258072782371,2229.8565622324468,1219.3725849283685,2790.7046894616378,7961.1164141812051,1463.9340989308091,709.48065313858342,3973.9573410982639,503.55601238172807,3894.1583270187175,261.21842960198012,819.9921596268299,794.33753108284657,1117.976650474199,1507.4365115986084,7766.8061782793629,553.86546487312808,786.85608820425466,679.25654443265751,2202.0947169978053,697.06109878485438,3019.2032872271589,1679.2997143422799,8131.3523885939821,777.78052277414633,523.33565708603487,1369.1610862089633,1943.6797857302283,3602.2439015520017],"y":[65.644999999999996,55.567,56.106999999999999,62.055,62.898000000000003,66.781999999999996,56.106999999999999,74.972999999999999,null,63.052999999999997,59.743000000000002,58.058999999999997,61.479999999999997,72.150999999999996,74.263000000000005,61.802999999999997,60.411000000000001,58.984999999999999,61.100000000000001,54.476999999999997,null,62.859000000000002,66.603999999999999,58.915999999999997,59.417000000000002,67.912999999999997,53.633000000000003,59.954000000000001,61.929000000000002,65.912999999999997,59.390999999999998,52.997,77.129000000000005,59.625,56.359999999999999,61.976999999999997,67.129000000000005,63.637999999999998,53.036000000000001,60.957999999999998,65.694000000000003,62.079999999999998,59.765999999999998,61.588000000000001,63.945,59.860999999999997,70.159000000000006,64.691000000000003,61.189999999999998,62.905999999999999,65.230000000000004,63.68,68.793999999999997,74.721999999999994],"text":["PIB per cápita: 855.755592519651<br />Esperanza de vida: 65.645","PIB per cápita: 1084.60291447032<br />Esperanza de vida: 55.567","PIB per cápita: 462.995789976044<br />Esperanza de vida: 56.107","PIB per cápita: 1816.54523237192<br />Esperanza de vida: 62.055","PIB per cápita: 411.514526446679<br />Esperanza de vida: 62.898","PIB per cápita: 1089.15603345843<br />Esperanza de vida: 66.782","PIB per cápita: 3499.89080011044<br />Esperanza de vida: 56.107","PIB per cápita: 3281.99051710379<br />Esperanza de vida: 74.973","PIB per cápita: 1503.51510891782<br />Esperanza de vida: NA","PIB per cápita: 2279.8962477149<br />Esperanza de vida: 63.053","PIB per cápita: 580.708269828448<br />Esperanza de vida: 59.743","PIB per cápita: 4957.24645524407<br />Esperanza de vida: 58.059","PIB per cápita: 6001.38972684815<br />Esperanza de vida: 61.48","PIB per cápita: 7685.92680553105<br />Esperanza de vida: 72.151","PIB per cápita: 3317.39480016578<br />Esperanza de vida: 74.263","PIB per cápita: 1305.0199232631<br />Esperanza de vida: 61.803","PIB per cápita: 527.439728716028<br />Esperanza de vida: 60.411","PIB per cápita: 962.787812559558<br />Esperanza de vida: 58.985","PIB per cápita: 621.788019299328<br />Esperanza de vida: 61.1","PIB per cápita: 467.842665775939<br />Esperanza de vida: 54.477","PIB per cápita: 712.700123265612<br />Esperanza de vida: NA","PIB per cápita: 3414.27338838901<br />Esperanza de vida: 62.859","PIB per cápita: 339.571360633665<br />Esperanza de vida: 66.604","PIB per cápita: 2276.31675547072<br />Esperanza de vida: 58.916","PIB per cápita: 878.979181587413<br />Esperanza de vida: 59.417","PIB per cápita: 1446.82580727824<br />Esperanza de vida: 67.913","PIB per cápita: 2229.85656223245<br />Esperanza de vida: 53.633","PIB per cápita: 1219.37258492837<br />Esperanza de vida: 59.954","PIB per cápita: 2790.70468946164<br />Esperanza de vida: 61.929","PIB per cápita: 7961.11641418121<br />Esperanza de vida: 65.913","PIB per cápita: 1463.93409893081<br />Esperanza de vida: 59.391","PIB per cápita: 709.480653138583<br />Esperanza de vida: 52.997","PIB per cápita: 3973.95734109826<br />Esperanza de vida: 77.129","PIB per cápita: 503.556012381728<br />Esperanza de vida: 59.625","PIB per cápita: 3894.15832701872<br />Esperanza de vida: 56.36","PIB per cápita: 261.21842960198<br />Esperanza de vida: 61.977","PIB per cápita: 819.99215962683<br />Esperanza de vida: 67.129","PIB per cápita: 794.337531082847<br />Esperanza de vida: 63.638","PIB per cápita: 1117.9766504742<br />Esperanza de vida: 53.036","PIB per cápita: 1507.43651159861<br />Esperanza de vida: 60.958","PIB per cápita: 7766.80617827936<br />Esperanza de vida: 65.694","PIB per cápita: 553.865464873128<br />Esperanza de vida: 62.08","PIB per cápita: 786.856088204255<br />Esperanza de vida: 59.766","PIB per cápita: 679.256544432658<br />Esperanza de vida: 61.588","PIB per cápita: 2202.09471699781<br />Esperanza de vida: 63.945","PIB per cápita: 697.061098784854<br />Esperanza de vida: 59.861","PIB per cápita: 3019.20328722716<br />Esperanza de vida: 70.159","PIB per cápita: 1679.29971434228<br />Esperanza de vida: 64.691","PIB per cápita: 8131.35238859398<br />Esperanza de vida: 61.19","PIB per cápita: 777.780522774146<br />Esperanza de vida: 62.906","PIB per cápita: 523.335657086035<br />Esperanza de vida: 65.23","PIB per cápita: 1369.16108620896<br />Esperanza de vida: 63.68","PIB per cápita: 1943.67978573023<br />Esperanza de vida: 68.794","PIB per cápita: 3602.243901552<br />Esperanza de vida: 74.722"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Africa","legendgroup":"Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[200000],"y":[null],"text":"PIB per cápita: 2e+05<br />Esperanza de vida: NA","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(205,150,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(205,150,0,1)"}},"hoveron":"points","name":"Antarctica","legendgroup":"Antarctica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4135.5663778228081,11414.195473101425,20814.717477003946,2099.5987439431351,10500.649513928936,29910.458164387273,7583.6021723779859,5789.6437257233174,31846.213987333525,1558.4722623691171,3315.4586865017586,15342.957749026831,1724.8326044909793,9812.3413019277923,870.72034406542286,4339.6202429207542,2715.2734981755425,1643.0977460282454,43103.295635272152,2038.7692357877395,4793.5224643177044,9126.5553604676224,2534.7812351148032,1309.2970310830274,4622.4622861240596,5955.1079180467623,5475.5109474639876,62087.867271501695,23139.77419747939,1284.6978572995699,7806.7282798440374,32000.31946125142,1559.794574203921,31085.77495182155,1407.7973674735065,1855.7382654351488,507.10069782797081,6859.7087657219536,4405.3997280060157,1071.0374567745278,774.33167813836144,11042.944785276071,28000,3485.079513449436,3853.0477457230654,47818.309770829372,40246.87583284705,65233.189955271868,23503.934992797829],"y":[68.25,76.260000000000005,81.888999999999996,67.744,78.587000000000003,82.700000000000003,74.415999999999997,72.299999999999997,82.680487804878098,73.578000000000003,72.228999999999999,73.935000000000002,71.674000000000007,74.439999999999998,71.287999999999997,72.667000000000002,74.579999999999998,69.896000000000001,79.195999999999998,71.587000000000003,73.488,78.474999999999994,68.998999999999995,72.048780487804905,73.372,71.335999999999999,74.555999999999997,81.558999999999997,77.905000000000001,66.430999999999997,79.680000000000007,80.263999999999996,69.055999999999997,74.551000000000002,67.256,73.697999999999993,62.878999999999998,69.409999999999997,74.215000000000003,70.483999999999995,63.719999999999999,81.888999999999996,81.888999999999996,72.186999999999998,76.609999999999999,null,83.996341463414595,82.895121951219494,79.245999999999995],"text":["PIB per cápita: 4135.56637782281<br />Esperanza de vida: 68.25","PIB per cápita: 11414.1954731014<br />Esperanza de vida: 76.26","PIB per cápita: 20814.7174770039<br />Esperanza de vida: 81.889","PIB per cápita: 2099.59874394314<br />Esperanza de vida: 67.744","PIB per cápita: 10500.6495139289<br />Esperanza de vida: 78.587","PIB per cápita: 29910.4581643873<br />Esperanza de vida: 82.7","PIB per cápita: 7583.60217237799<br />Esperanza de vida: 74.416","PIB per cápita: 5789.64372572332<br />Esperanza de vida: 72.3","PIB per cápita: 31846.2139873335<br />Esperanza de vida: 82.6804878048781","PIB per cápita: 1558.47226236912<br />Esperanza de vida: 73.578","PIB per cápita: 3315.45868650176<br />Esperanza de vida: 72.229","PIB per cápita: 15342.9577490268<br />Esperanza de vida: 73.935","PIB per cápita: 1724.83260449098<br />Esperanza de vida: 71.674","PIB per cápita: 9812.34130192779<br />Esperanza de vida: 74.44","PIB per cápita: 870.720344065423<br />Esperanza de vida: 71.288","PIB per cápita: 4339.62024292075<br />Esperanza de vida: 72.667","PIB per cápita: 2715.27349817554<br />Esperanza de vida: 74.58","PIB per cápita: 1643.09774602825<br />Esperanza de vida: 69.896","PIB per cápita: 43103.2956352722<br />Esperanza de vida: 79.196","PIB per cápita: 2038.76923578774<br />Esperanza de vida: 71.587","PIB per cápita: 4793.5224643177<br />Esperanza de vida: 73.488","PIB per cápita: 9126.55536046762<br />Esperanza de vida: 78.475","PIB per cápita: 2534.7812351148<br />Esperanza de vida: 68.999","PIB per cápita: 1309.29703108303<br />Esperanza de vida: 72.0487804878049","PIB per cápita: 4622.46228612406<br />Esperanza de vida: 73.372","PIB per cápita: 5955.10791804676<br />Esperanza de vida: 71.336","PIB per cápita: 5475.51094746399<br />Esperanza de vida: 74.556","PIB per cápita: 62087.8672715017<br />Esperanza de vida: 81.559","PIB per cápita: 23139.7741974794<br />Esperanza de vida: 77.905","PIB per cápita: 1284.69785729957<br />Esperanza de vida: 66.431","PIB per cápita: 7806.72827984404<br />Esperanza de vida: 79.68","PIB per cápita: 32000.3194612514<br />Esperanza de vida: 80.264","PIB per cápita: 1559.79457420392<br />Esperanza de vida: 69.056","PIB per cápita: 31085.7749518215<br />Esperanza de vida: 74.551","PIB per cápita: 1407.79736747351<br />Esperanza de vida: 67.256","PIB per cápita: 1855.73826543515<br />Esperanza de vida: 73.698","PIB per cápita: 507.100697827971<br />Esperanza de vida: 62.879","PIB per cápita: 6859.70876572195<br />Esperanza de vida: 69.41","PIB per cápita: 4405.39972800602<br />Esperanza de vida: 74.215","PIB per cápita: 1071.03745677453<br />Esperanza de vida: 70.484","PIB per cápita: 774.331678138361<br />Esperanza de vida: 63.72","PIB per cápita: 11042.9447852761<br />Esperanza de vida: 81.889","PIB per cápita: 28000<br />Esperanza de vida: 81.889","PIB per cápita: 3485.07951344944<br />Esperanza de vida: 72.187","PIB per cápita: 3853.04774572307<br />Esperanza de vida: 76.61","PIB per cápita: 47818.3097708294<br />Esperanza de vida: NA","PIB per cápita: 40246.8758328471<br />Esperanza de vida: 83.9963414634146","PIB per cápita: 65233.1899552719<br />Esperanza de vida: 82.8951219512195","PIB per cápita: 23503.9349927978<br />Esperanza de vida: 79.246"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"Asia","legendgroup":"Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[42501.354345964275,40371.986126939191,3464.6944456992433,6663.2470167498059,51843.819693736645,19601.743046973566,11774.152374948775,23494.548914126899,46445.242388626903,23723.230236923238,17828.417039202966,75419.566872654221,51614.936162753358,40665.215907612663,114703.11148966925,46420.624073987805,6022.1967410925772,5353.1806385767459,4417.4495387482666,29600.367110911851,60145.800019448106,12919.506705329217,16731.817126169237,19266.152103208005,15692.501573706204,78660.812507437091,19582.46495392729,50137.618652647325,33228.234267363718,81993.676377566342,180856.9399510771,7411.8337359025772,14935.955746773205,25946.07331798811,9828.0316656490959,48877.731836975785,184477.97967354479,40885.639470068185,8908.0057929362829,6108.4519842471982,23252.050238100175,4503.2485625388272,null,66944.726594393229,29819.776267126625],"y":[82.0585365853659,82.229268292682903,68.587926829268298,73.111463414634201,81.714634146341496,75.792682926829301,72.545609756097605,79.0292682926829,80.705609756097601,77.943902439024399,74.580487804878004,82.560975609756099,83.109756097561004,81.187804878048794,83.046341463414606,81.697560975609804,74.424878048780499,76.832999999999998,75.482195121951193,83.082926829268303,81.304878048780495,75.304878048780495,76.017073170731706,77.065853658536597,77.304878048780495,83.056097560975601,80.636585365853705,81.092682926829298,82.900000000000006,83.453658536585394,84.319512195122002,75.482195121951193,77.575609756097606,81.282926829268305,74.360975609756096,null,null,null,76.187804878048794,75.293000000000006,null,68.620999999999995,null,82.170731707317103,82.700000000000003],"text":["PIB per cápita: 42501.3543459643<br />Esperanza de vida: 82.0585365853659","PIB per cápita: 40371.9861269392<br />Esperanza de vida: 82.2292682926829","PIB per cápita: 3464.69444569924<br />Esperanza de vida: 68.5879268292683","PIB per cápita: 6663.24701674981<br />Esperanza de vida: 73.1114634146342","PIB per cápita: 51843.8196937366<br />Esperanza de vida: 81.7146341463415","PIB per cápita: 19601.7430469736<br />Esperanza de vida: 75.7926829268293","PIB per cápita: 11774.1523749488<br />Esperanza de vida: 72.5456097560976","PIB per cápita: 23494.5489141269<br />Esperanza de vida: 79.0292682926829","PIB per cápita: 46445.2423886269<br />Esperanza de vida: 80.7056097560976","PIB per cápita: 23723.2302369232<br />Esperanza de vida: 77.9439024390244","PIB per cápita: 17828.417039203<br />Esperanza de vida: 74.580487804878","PIB per cápita: 75419.5668726542<br />Esperanza de vida: 82.5609756097561","PIB per cápita: 51614.9361627534<br />Esperanza de vida: 83.109756097561","PIB per cápita: 40665.2159076127<br />Esperanza de vida: 81.1878048780488","PIB per cápita: 114703.111489669<br />Esperanza de vida: 83.0463414634146","PIB per cápita: 46420.6240739878<br />Esperanza de vida: 81.6975609756098","PIB per cápita: 6022.19674109258<br />Esperanza de vida: 74.4248780487805","PIB per cápita: 5353.18063857675<br />Esperanza de vida: 76.833","PIB per cápita: 4417.44953874827<br />Esperanza de vida: 75.4821951219512","PIB per cápita: 29600.3671109119<br />Esperanza de vida: 83.0829268292683","PIB per cápita: 60145.8000194481<br />Esperanza de vida: 81.3048780487805","PIB per cápita: 12919.5067053292<br />Esperanza de vida: 75.3048780487805","PIB per cápita: 16731.8171261692<br />Esperanza de vida: 76.0170731707317","PIB per cápita: 19266.152103208<br />Esperanza de vida: 77.0658536585366","PIB per cápita: 15692.5015737062<br />Esperanza de vida: 77.3048780487805","PIB per cápita: 78660.8125074371<br />Esperanza de vida: 83.0560975609756","PIB per cápita: 19582.4649539273<br />Esperanza de vida: 80.6365853658537","PIB per cápita: 50137.6186526473<br />Esperanza de vida: 81.0926829268293","PIB per cápita: 33228.2342673637<br />Esperanza de vida: 82.9","PIB per cápita: 81993.6763775663<br />Esperanza de vida: 83.4536585365854","PIB per cápita: 180856.939951077<br />Esperanza de vida: 84.319512195122","PIB per cápita: 7411.83373590258<br />Esperanza de vida: 75.4821951219512","PIB per cápita: 14935.9557467732<br />Esperanza de vida: 77.5756097560976","PIB per cápita: 25946.0733179881<br />Esperanza de vida: 81.2829268292683","PIB per cápita: 9828.0316656491<br />Esperanza de vida: 74.3609756097561","PIB per cápita: 48877.7318369758<br />Esperanza de vida: NA","PIB per cápita: 184477.979673545<br />Esperanza de vida: NA","PIB per cápita: 40885.6394700682<br />Esperanza de vida: NA","PIB per cápita: 8908.00579293628<br />Esperanza de vida: 76.1878048780488","PIB per cápita: 6108.4519842472<br />Esperanza de vida: 75.293","PIB per cápita: 23252.0502381002<br />Esperanza de vida: NA","PIB per cápita: 4503.24856253883<br />Esperanza de vida: 68.621","PIB per cápita: -120000<br />Esperanza de vida: NA","PIB per cápita: 66944.7265943932<br />Esperanza de vida: 82.1707317073171","PIB per cápita: 29819.7762671266<br />Esperanza de vida: 82.7"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,190,103,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,190,103,1)"}},"hoveron":"points","name":"Europe","legendgroup":"Europe","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12243.735142576779,1912.7639102394285,1272.4764289545387,8282.0884484323342,4187.1508609288558,4619.9638569585477,8825.4422757770044,2574.8716129716072,64966.827350410647,46194.708478181878,9946.0296966513088,4813.591800242345,15730.827641701671,34861.688088281357,17397.469341700522,10803.282054944955,7451.0123068297935,18148.244926400141,11608.950161387384,8104.9465240641712,17102.905743528492,19930.347882045651,5582.2396727039741],"y":[77.319999999999993,74.614999999999995,63.728000000000002,74.170000000000002,71.474999999999994,68.674000000000007,78.155000000000001,70.727999999999994,77.434146341463403,81.295609756097605,74.831999999999994,70.962000000000003,76.825999999999993,74.358000000000004,74.707999999999998,75.334999999999994,68.971999999999994,77.706000000000003,71.293999999999997,72.980999999999995,79.236000000000004,72.027000000000001,70.629000000000005],"text":["PIB per cápita: 12243.7351425768<br />Esperanza de vida: 77.32","PIB per cápita: 1912.76391023943<br />Esperanza de vida: 74.615","PIB per cápita: 1272.47642895454<br />Esperanza de vida: 63.728","PIB per cápita: 8282.08844843233<br />Esperanza de vida: 74.17","PIB per cápita: 4187.15086092886<br />Esperanza de vida: 71.475","PIB per cápita: 4619.96385695855<br />Esperanza de vida: 68.674","PIB per cápita: 8825.442275777<br />Esperanza de vida: 78.155","PIB per cápita: 2574.87161297161<br />Esperanza de vida: 70.728","PIB per cápita: 64966.8273504106<br />Esperanza de vida: 77.4341463414634","PIB per cápita: 46194.7084781819<br />Esperanza de vida: 81.2956097560976","PIB per cápita: 9946.02969665131<br />Esperanza de vida: 74.832","PIB per cápita: 4813.59180024235<br />Esperanza de vida: 70.962","PIB per cápita: 15730.8276417017<br />Esperanza de vida: 76.826","PIB per cápita: 34861.6880882814<br />Esperanza de vida: 74.358","PIB per cápita: 17397.4693417005<br />Esperanza de vida: 74.708","PIB per cápita: 10803.282054945<br />Esperanza de vida: 75.335","PIB per cápita: 7451.01230682979<br />Esperanza de vida: 68.972","PIB per cápita: 18148.2449264001<br />Esperanza de vida: 77.706","PIB per cápita: 11608.9501613874<br />Esperanza de vida: 71.294","PIB per cápita: 8104.94652406417<br />Esperanza de vida: 72.981","PIB per cápita: 17102.9057435285<br />Esperanza de vida: 79.236","PIB per cápita: 19930.3478820457<br />Esperanza de vida: 72.027","PIB per cápita: 5582.23967270397<br />Esperanza de vida: 70.629"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"North America","legendgroup":"North America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2829.1581155156573,55053.069575397283,6175.6070264384753,41872.187844134358,1649.57570191997,3759.0787705601201,4899.8028594943253,4322.7446384267641,2372.268494811316,4035.7204190279926,9379.2226373102294,3523.2614330272813,3114.5583929679005,14882.274544646823],"y":[null,83.200000000000003,68.311999999999998,82.760975609756102,67.661000000000001,65.146000000000001,71.269999999999996,72.597999999999999,70.742000000000004,64.853999999999999,64.013999999999996,70.924999999999997,70.492000000000004,null],"text":["PIB per cápita: 2829.15811551566<br />Esperanza de vida: NA","PIB per cápita: 55053.0695753973<br />Esperanza de vida: 83.2","PIB per cápita: 6175.60702643848<br />Esperanza de vida: 68.312","PIB per cápita: 41872.1878441344<br />Esperanza de vida: 82.7609756097561","PIB per cápita: 1649.57570191997<br />Esperanza de vida: 67.661","PIB per cápita: 3759.07877056012<br />Esperanza de vida: 65.146","PIB per cápita: 4899.80285949433<br />Esperanza de vida: 71.27","PIB per cápita: 4322.74463842676<br />Esperanza de vida: 72.598","PIB per cápita: 2372.26849481132<br />Esperanza de vida: 70.742","PIB per cápita: 4035.72041902799<br />Esperanza de vida: 64.854","PIB per cápita: 9379.22263731023<br />Esperanza de vida: 64.014","PIB per cápita: 3523.26143302728<br />Esperanza de vida: 70.925","PIB per cápita: 3114.5583929679<br />Esperanza de vida: 70.492","PIB per cápita: 14882.2745446468<br />Esperanza de vida: NA"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,169,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,169,255,1)"}},"hoveron":"points","name":"Oceania","legendgroup":"Oceania","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[17444.302176696543,11098.900143871706,10626.175951543732],"y":[73.848780487804902,73.514634146341507,80.838999999999999],"text":["PIB per cápita: 17444.3021766965<br />Esperanza de vida: 73.8487804878049","PIB per cápita: 11098.9001438717<br />Esperanza de vida: 73.5146341463415","PIB per cápita: 10626.1759515437<br />Esperanza de vida: 80.839"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"Seven seas (open ocean)","legendgroup":"Seven seas (open ocean)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14896.445437688548,3552.0407188333288,6977.694220378904,9912.2778596769767,6359.1938255444529,6608.6161126058105,8717.1860849515197,16189.86323039263,6183.785548492885,6428.656749340671,5414.7581223501111,16915.482274774477],"y":[79.519000000000005,64.927999999999997,73.385000000000005,76.063999999999993,70.289000000000001,65.989000000000004,73.424999999999997,78,77.894000000000005,73.659000000000006,70.474999999999994,71.105000000000004],"text":["PIB per cápita: 14896.4454376885<br />Esperanza de vida: 79.519","PIB per cápita: 3552.04071883333<br />Esperanza de vida: 64.928","PIB per cápita: 6977.6942203789<br />Esperanza de vida: 73.385","PIB per cápita: 9912.27785967698<br />Esperanza de vida: 76.064","PIB per cápita: 6359.19382554445<br />Esperanza de vida: 70.289","PIB per cápita: 6608.61611260581<br />Esperanza de vida: 65.989","PIB per cápita: 8717.18608495152<br />Esperanza de vida: 73.425","PIB per cápita: 16189.8632303926<br />Esperanza de vida: 78","PIB per cápita: 6183.78554849289<br />Esperanza de vida: 77.894","PIB per cápita: 6428.65674934067<br />Esperanza de vida: 73.659","PIB per cápita: 5414.75812235011<br />Esperanza de vida: 70.475","PIB per cápita: 16915.4822747745<br />Esperanza de vida: 71.105"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,97,204,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,97,204,1)"}},"hoveron":"points","name":"South America","legendgroup":"South America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":95.701120797011214,"r":39.850560398505614,"b":86.841012868410132,"l":70.900788709007898},"font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":15.276048152760483},"title":{"text":"<b> PIB per cápita vs esperanza de vida al nacer por continente <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":23.910336239103366},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10000,210000],"tickmode":"array","ticktext":["0","50,000","100,000","150,000","200,000"],"tickvals":[0,49999.999999999993,100000,150000,200000],"categoryorder":"array","categoryarray":["0","50,000","100,000","150,000","200,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.8190120381901207,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Arial Narrow","size":15.276048152760483},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"y","title":{"text":"PIB per cápita  (USD)","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":11.955168119551683}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[48,92],"tickmode":"array","ticktext":["50","60","70","80","90"],"tickvals":[50,60,70,80,90],"categoryorder":"array","categoryarray":["50","60","70","80","90"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.8190120381901207,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Arial Narrow","size":15.276048152760483},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.26567040265670405,"zeroline":false,"anchor":"x","title":{"text":"Esperanza de vida (años)","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":11.955168119551683}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":12.220838522208389},"title":{"text":"Población estimada","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":15.276048152760483}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"1ebe776a6756":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"}},"cur_data":"1ebe776a6756","visdat":{"1ebe776a6756":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="tipos-de-gráficos" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="tipos-de-gráficos"><span class="header-section-number">9.4</span> Tipos de gráficos</h2>
<p>En esta sección, se ejemplifican varios tipos de gráficos, los cuales se construyen con ggplot2 y luego se convierten a plotly.</p>
<section id="histogramas" class="level3" data-number="9.4.1">
<h3 data-number="9.4.1" class="anchored" data-anchor-id="histogramas"><span class="header-section-number">9.4.1</span> Histogramas</h3>
<p>Un <a href="https://es.wikipedia.org/wiki/Histograma">histograma</a> es una representación gráfica de la distribución de una variable numérica en forma de barras (en este caso, llamadas en inglés <em>bins</em>). La longitud de cada barra representa la frecuencia de un rango de valores de la variable. La graficación de la distribución de las variables es, frecuentemente, una de las primeras tareas que se realiza cuando se explora un conjunto de datos.</p>
<p>En ggplot2, los histogramas se implementan con la función <a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a>.</p>
<p>El siguiente bloque de código muestra, mediante un histograma, la distribución del <a href="https://es.wikipedia.org/wiki/Renta_per_c%C3%A1pita">producto interno bruto (PIB) per cápita</a> para el año 2007, entre los países incluídos en gapminder.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma ggplot2 de distribución del PIB per cápita</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>histograma_ggplot2 <span class="ot">&lt;-</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC)) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"PIB per cápita (valor medio del rango): $"</span>, <span class="fu">round</span>(<span class="fu">after_stat</span>(x), <span class="dv">2</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Frecuencia: "</span>, <span class="fu">after_stat</span>(count)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">bins =</span> <span class="dv">10</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  )  <span class="sc">+</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribución del PIB per cápita"</span>) <span class="sc">+</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita ($ EE.UU.)"</span>) <span class="sc">+</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de 201 países"</span>, <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma plotly</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(histograma_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-05e22e57240d3a54d489" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-05e22e57240d3a54d489">{"x":{"data":[{"orientation":"v","width":[null,22222.222222222226,22222.222222222219,22222.222222222219,22222.222222222219,22222.222222222248,22222.22222222219,22222.222222222248,22222.222222222248,22222.222222222248],"base":[0,0,0,0,0,0,0,0,0,0],"x":[null,22222.222222222223,44444.444444444453,66666.666666666672,88888.888888888891,111111.11111111112,133333.33333333334,155555.55555555556,177777.77777777775,200000],"y":[133,38,17,6,2,1,0,0,2,1],"text":["PIB per cápita (valor medio del rango): $0<br />Frecuencia: 133","PIB per cápita (valor medio del rango): $22222.22<br />Frecuencia: 38","PIB per cápita (valor medio del rango): $44444.44<br />Frecuencia: 17","PIB per cápita (valor medio del rango): $66666.67<br />Frecuencia: 6","PIB per cápita (valor medio del rango): $88888.89<br />Frecuencia: 2","PIB per cápita (valor medio del rango): $111111.11<br />Frecuencia: 1","PIB per cápita (valor medio del rango): $133333.33<br />Frecuencia: 0","PIB per cápita (valor medio del rango): $155555.56<br />Frecuencia: 0","PIB per cápita (valor medio del rango): $177777.78<br />Frecuencia: 2","PIB per cápita (valor medio del rango): $2e+05<br />Frecuencia: 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":35.865504358655052},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Distribución del PIB per cápita <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10555.555555555557,221666.66666666669],"tickmode":"array","ticktext":["0","50,000","100,000","150,000","200,000"],"tickvals":[0,50000,100000,150000,200000],"categoryorder":"array","categoryarray":["0","50,000","100,000","150,000","200,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"PIB per cápita ($ EE.UU.)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.5,52.5],"tickmode":"array","ticktext":["0","10","20","30","40","50"],"tickvals":[0,10,20,30,40,50],"categoryorder":"array","categoryarray":["0","10","20","30","40","50"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Frecuencia","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"1ebee2e0f04":{"x":{},"text":{},"type":"bar"}},"cur_data":"1ebee2e0f04","visdat":{"1ebee2e0f04":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>La función <a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a> permite crear una estimación de densidad del kernel (<em>Kernel Density Estimation</em> o KDE), una curva que muestra la densidad de los datos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma ggplot2 de distribución del PIB per cápita</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>histograma_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC)) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"PIB per cápita (valor medio del rango): $"</span>, <span class="fu">round</span>(<span class="fu">after_stat</span>(x), <span class="dv">2</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Frecuencia: "</span>, <span class="fu">after_stat</span>(count)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="fu">after_stat</span>(density) <span class="co"># argumento necesario para crear la curva KDE</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">bins =</span> <span class="dv">10</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>()) <span class="sc">+</span> <span class="co"># para formatear el eje y en notación decimal</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribución del PIB per cápita"</span>) <span class="sc">+</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita ($ EE.UU.)"</span>) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Densidad"</span>) <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de 201 países"</span>, <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>) <span class="sc">+</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma plotly</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(histograma_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-eecbfb35adbede450ea0" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-eecbfb35adbede450ea0">{"x":{"data":[{"orientation":"v","width":[35555.555555555562,35555.555555555555,35555.555555555547,35555.555555555562,35555.555555555562,35555.555555555533,35555.555555555562,35555.555555555562,35555.555555555562,35555.555555555562],"base":[0,0,0,0,0,0,0,0,0,0],"x":[-106666.66666666666,-71111.111111111095,-35555.555555555555,0,35555.555555555562,71111.111111111109,106666.66666666666,142222.22222222222,177777.77777777778,213333.33333333334],"y":[1.3992537313432834e-07,0,0,2.0988805970149252e-05,5.1772388059701486e-06,1.2593283582089559e-06,1.3992537313432834e-07,0,2.7985074626865668e-07,1.3992537313432834e-07],"text":["PIB per cápita (valor medio del rango): $-106666.67<br />Frecuencia: 1","PIB per cápita (valor medio del rango): $-71111.11<br />Frecuencia: 0","PIB per cápita (valor medio del rango): $-35555.56<br />Frecuencia: 0","PIB per cápita (valor medio del rango): $0<br />Frecuencia: 150","PIB per cápita (valor medio del rango): $35555.56<br />Frecuencia: 37","PIB per cápita (valor medio del rango): $71111.11<br />Frecuencia: 9","PIB per cápita (valor medio del rango): $106666.67<br />Frecuencia: 1","PIB per cápita (valor medio del rango): $142222.22<br />Frecuencia: 0","PIB per cápita (valor medio del rango): $177777.78<br />Frecuencia: 2","PIB per cápita (valor medio del rango): $213333.33<br />Frecuencia: 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-120000,-119373.77690802349,-118747.55381604697,-118121.33072407045,-117495.10763209393,-116868.88454011742,-116242.66144814091,-115616.43835616438,-114990.21526418786,-114363.99217221135,-113737.76908023484,-113111.54598825832,-112485.3228962818,-111859.09980430528,-111232.87671232877,-110606.65362035226,-109980.43052837573,-109354.20743639921,-108727.9843444227,-108101.76125244619,-107475.53816046967,-106849.31506849315,-106223.09197651663,-105596.86888454012,-104970.64579256359,-104344.42270058708,-103718.19960861056,-103091.97651663405,-102465.75342465754,-101839.53033268102,-101213.3072407045,-100587.08414872798,-99960.86105675147,-99334.637964774942,-98708.414872798428,-98082.191780821915,-97455.968688845402,-96829.745596868888,-96203.522504892375,-95577.299412915847,-94951.076320939334,-94324.85322896282,-93698.630136986292,-93072.407045009779,-92446.183953033265,-91819.960861056752,-91193.737769080239,-90567.514677103711,-89941.291585127197,-89315.068493150684,-88688.845401174171,-88062.622309197643,-87436.399217221129,-86810.176125244616,-86183.953033268102,-85557.729941291589,-84931.506849315076,-84305.283757338548,-83679.060665362034,-83052.837573385506,-82426.614481408993,-81800.39138943248,-81174.168297455966,-80547.945205479453,-79921.722113502939,-79295.499021526426,-78669.275929549898,-78043.052837573385,-77416.829745596857,-76790.606653620343,-76164.38356164383,-75538.160469667317,-74911.937377690803,-74285.71428571429,-73659.491193737762,-73033.268101761249,-72407.045009784735,-71780.821917808207,-71154.598825831694,-70528.37573385518,-69902.152641878667,-69275.929549902154,-68649.70645792564,-68023.483365949112,-67397.260273972599,-66771.037181996071,-66144.814090019558,-65518.590998043052,-64892.367906066531,-64266.144814090017,-63639.921722113497,-63013.698630136983,-62387.475538160463,-61761.252446183949,-61135.029354207429,-60508.806262230915,-59882.583170254395,-59256.360078277881,-58630.136986301368,-58003.913894324847,-57377.690802348334,-56751.467710371813,-56125.2446183953,-55499.021526418779,-54872.798434442266,-54246.575342465745,-53620.352250489232,-52994.129158512718,-52367.906066536205,-51741.682974559677,-51115.459882583164,-50489.23679060665,-49863.013698630137,-49236.790606653609,-48610.567514677095,-47984.344422700582,-47358.121330724069,-46731.898238747541,-46105.675146771027,-45479.452054794514,-44853.228962818001,-44227.005870841487,-43600.782778864959,-42974.559686888446,-42348.336594911932,-41722.113502935419,-41095.890410958891,-40469.667318982378,-39843.444227005864,-39217.221135029351,-38590.998043052838,-37964.77495107631,-37338.551859099796,-36712.328767123283,-36086.105675146769,-35459.882583170242,-34833.659491193728,-34207.436399217215,-33581.213307240701,-32954.990215264188,-32328.76712328766,-31702.544031311147,-31076.320939334633,-30450.09784735812,-29823.874755381592,-29197.651663405079,-28571.428571428565,-27945.205479452052,-27318.982387475524,-26692.75929549901,-26066.536203522497,-25440.313111545984,-24814.09001956947,-24187.866927592942,-23561.643835616429,-22935.420743639916,-22309.197651663402,-21682.974559686874,-21056.751467710361,-20430.528375733847,-19804.305283757334,-19178.082191780821,-18551.859099804293,-17925.636007827779,-17299.412915851266,-16673.189823874753,-16046.966731898225,-15420.743639921711,-14794.520547945198,-14168.297455968685,-13542.074363992157,-12915.851272015643,-12289.62818003913,-11663.405088062616,-11037.181996086103,-10410.958904109575,-9784.7358121330617,-9158.5127201565483,-8532.2896281800349,-7906.066536203507,-7279.8434442269936,-6653.6203522504802,-6027.3972602739668,-5401.1741682974534,-4774.9510763209255,-4148.7279843444121,-3522.5048923678987,-2896.2818003913853,-2270.0587084148574,-1643.835616438344,-1017.6125244618306,-391.38943248531723,234.83365949121071,861.0567514677241,1487.2798434442375,2113.5029354207509,2739.7260273972643,3365.9491193737922,3992.1722113503056,4618.395303326819,5244.6183953033324,5870.8414872798603,6497.0645792563737,7123.2876712328871,7749.5107632094005,8375.7338551859139,9001.9569471624418,9628.1800391389552,10254.403131115469,10880.626223091982,11506.84931506851,12133.072407045023,12759.295499021537,13385.51859099805,14011.741682974563,14637.964774951077,15264.18786692759,15890.410958904133,16516.634050880646,17142.857142857159,17769.080234833673,18395.303326810186,19021.5264187867,19647.749510763213,20273.972602739726,20900.19569471624,21526.418786692782,22152.641878669296,22778.864970645809,23405.088062622322,24031.311154598836,24657.534246575349,25283.757338551863,25909.980430528376,26536.203522504919,27162.426614481432,27788.649706457945,28414.872798434459,29041.095890410972,29667.318982387485,30293.542074363999,30919.765166340512,31545.988258317026,32172.211350293568,32798.434442270081,33424.657534246595,34050.880626223108,34677.103718199622,35303.326810176135,35929.549902152648,36555.772994129162,37181.996086105675,37808.219178082218,38434.442270058731,39060.665362035244,39686.888454011758,40313.111545988271,40939.334637964785,41565.557729941298,42191.780821917811,42818.003913894325,43444.227005870867,44070.450097847381,44696.673189823894,45322.896281800407,45949.119373776921,46575.342465753434,47201.565557729948,47827.788649706461,48454.011741682974,49080.234833659517,49706.45792563603,50332.681017612544,50958.904109589057,51585.12720156557,52211.350293542084,52837.573385518597,53463.796477495111,54090.019569471624,54716.242661448166,55342.46575342468,55968.688845401193,56594.911937377707,57221.13502935422,57847.358121330733,58473.581213307247,59099.80430528376,59726.027397260303,60352.250489236816,60978.473581213329,61604.696673189843,62230.919765166356,62857.14285714287,63483.365949119383,64109.589041095896,64735.81213307241,65362.035225048952,65988.258317025466,66614.481409001979,67240.704500978492,67866.927592955006,68493.150684931519,69119.373776908033,69745.596868884546,70371.819960861059,70998.043052837602,71624.266144814115,72250.489236790629,72876.712328767142,73502.935420743655,74129.158512720169,74755.381604696682,75381.604696673196,76007.827788649709,76634.050880626251,77260.273972602765,77886.497064579278,78512.720156555792,79138.943248532305,79765.166340508818,80391.389432485332,81017.612524461845,81643.835616438359,82270.058708414901,82896.281800391414,83522.504892367928,84148.727984344441,84774.951076320955,85401.174168297468,86027.397260273981,86653.620352250495,87279.843444227008,87906.066536203551,88532.289628180064,89158.512720156577,89784.735812133091,90410.958904109604,91037.181996086118,91663.405088062631,92289.628180039144,92915.851272015687,93542.0743639922,94168.297455968714,94794.520547945227,95420.74363992174,96046.966731898254,96673.189823874767,97299.412915851281,97925.636007827794,98551.859099804336,99178.08219178085,99804.305283757363,100430.52837573388,101056.75146771039,101682.9745596869,102309.19765166342,102935.42074363993,103561.64383561644,104187.86692759299,104814.0900195695,105440.31311154601,106066.53620352253,106692.75929549904,107318.98238747555,107945.20547945207,108571.42857142858,109197.65166340509,109823.87475538164,110450.09784735815,111076.32093933466,111702.54403131118,112328.76712328769,112954.9902152642,113581.21330724072,114207.43639921723,114833.65949119374,115459.88258317029,116086.1056751468,116712.32876712331,117338.55185909983,117964.77495107634,118590.99804305285,119217.22113502937,119843.44422700588,120469.66731898242,121095.89041095893,121722.11350293545,122348.33659491196,122974.55968688847,123600.78277886499,124227.0058708415,124853.22896281802,125479.45205479453,126105.67514677107,126731.89823874758,127358.1213307241,127984.34442270061,128610.56751467712,129236.79060665364,129863.01369863015,130489.23679060666,131115.45988258318,131741.68297455972,132367.90606653623,132994.12915851275,133620.35225048926,134246.57534246577,134872.79843444229,135499.0215264188,136125.24461839531,136751.46771037183,137377.69080234837,138003.91389432488,138630.1369863014,139256.36007827791,139882.58317025442,140508.80626223094,141135.02935420745,141761.25244618396,142387.47553816048,143013.69863013702,143639.9217221135,144266.14481409005,144892.36790606653,145518.59099804307,146144.81409001962,146771.0371819961,147397.26027397264,148023.48336594913,148649.70645792567,149275.92954990215,149902.1526418787,150528.37573385518,151154.59882583172,151780.82191780827,152407.04500978475,153033.26810176129,153659.49119373778,154285.71428571432,154911.9373776908,155538.16046966735,156164.38356164383,156790.60665362037,157416.82974559692,158043.0528375734,158669.27592954994,159295.49902152643,159921.72211350297,160547.94520547945,161174.168297456,161800.39138943248,162426.61448140902,163052.83757338556,163679.06066536205,164305.28375733859,164931.50684931508,165557.72994129162,166183.9530332681,166810.17612524464,167436.39921722113,168062.62230919767,168688.84540117421,169315.0684931507,169941.29158512724,170567.51467710373,171193.73776908027,171819.96086105675,172446.18395303329,173072.40704500984,173698.63013698632,174324.85322896286,174951.07632093935,175577.29941291589,176203.52250489237,176829.74559686892,177455.9686888454,178082.19178082194,178708.41487279849,179334.63796477497,179960.86105675151,180587.084148728,181213.30724070454,181839.53033268102,182465.75342465757,183091.97651663405,183718.19960861059,184344.42270058714,184970.64579256362,185596.86888454016,186223.09197651665,186849.31506849319,187475.53816046967,188101.76125244622,188727.9843444227,189354.20743639924,189980.43052837579,190606.65362035227,191232.87671232881,191859.0998043053,192485.32289628184,193111.54598825832,193737.76908023487,194363.99217221135,194990.21526418789,195616.43835616444,196242.66144814092,196868.88454011746,197495.10763209395,198121.33072407049,198747.55381604697,199373.77690802352,200000,200000,200000,199373.77690802352,198747.55381604697,198121.33072407049,197495.10763209395,196868.88454011746,196242.66144814092,195616.43835616444,194990.21526418789,194363.99217221135,193737.76908023487,193111.54598825832,192485.32289628184,191859.0998043053,191232.87671232881,190606.65362035227,189980.43052837579,189354.20743639924,188727.9843444227,188101.76125244622,187475.53816046967,186849.31506849319,186223.09197651665,185596.86888454016,184970.64579256362,184344.42270058714,183718.19960861059,183091.97651663405,182465.75342465757,181839.53033268102,181213.30724070454,180587.084148728,179960.86105675151,179334.63796477497,178708.41487279849,178082.19178082194,177455.9686888454,176829.74559686892,176203.52250489237,175577.29941291589,174951.07632093935,174324.85322896286,173698.63013698632,173072.40704500984,172446.18395303329,171819.96086105675,171193.73776908027,170567.51467710373,169941.29158512724,169315.0684931507,168688.84540117421,168062.62230919767,167436.39921722113,166810.17612524464,166183.9530332681,165557.72994129162,164931.50684931508,164305.28375733859,163679.06066536205,163052.83757338556,162426.61448140902,161800.39138943248,161174.168297456,160547.94520547945,159921.72211350297,159295.49902152643,158669.27592954994,158043.0528375734,157416.82974559692,156790.60665362037,156164.38356164383,155538.16046966735,154911.9373776908,154285.71428571432,153659.49119373778,153033.26810176129,152407.04500978475,151780.82191780827,151154.59882583172,150528.37573385518,149902.1526418787,149275.92954990215,148649.70645792567,148023.48336594913,147397.26027397264,146771.0371819961,146144.81409001962,145518.59099804307,144892.36790606653,144266.14481409005,143639.9217221135,143013.69863013702,142387.47553816048,141761.25244618396,141135.02935420745,140508.80626223094,139882.58317025442,139256.36007827791,138630.1369863014,138003.91389432488,137377.69080234837,136751.46771037183,136125.24461839531,135499.0215264188,134872.79843444229,134246.57534246577,133620.35225048926,132994.12915851275,132367.90606653623,131741.68297455972,131115.45988258318,130489.23679060666,129863.01369863015,129236.79060665364,128610.56751467712,127984.34442270061,127358.1213307241,126731.89823874758,126105.67514677107,125479.45205479453,124853.22896281802,124227.0058708415,123600.78277886499,122974.55968688847,122348.33659491196,121722.11350293545,121095.89041095893,120469.66731898242,119843.44422700588,119217.22113502937,118590.99804305285,117964.77495107634,117338.55185909983,116712.32876712331,116086.1056751468,115459.88258317029,114833.65949119374,114207.43639921723,113581.21330724072,112954.9902152642,112328.76712328769,111702.54403131118,111076.32093933466,110450.09784735815,109823.87475538164,109197.65166340509,108571.42857142858,107945.20547945207,107318.98238747555,106692.75929549904,106066.53620352253,105440.31311154601,104814.0900195695,104187.86692759299,103561.64383561644,102935.42074363993,102309.19765166342,101682.9745596869,101056.75146771039,100430.52837573388,99804.305283757363,99178.08219178085,98551.859099804336,97925.636007827794,97299.412915851281,96673.189823874767,96046.966731898254,95420.74363992174,94794.520547945227,94168.297455968714,93542.0743639922,92915.851272015687,92289.628180039144,91663.405088062631,91037.181996086118,90410.958904109604,89784.735812133091,89158.512720156577,88532.289628180064,87906.066536203551,87279.843444227008,86653.620352250495,86027.397260273981,85401.174168297468,84774.951076320955,84148.727984344441,83522.504892367928,82896.281800391414,82270.058708414901,81643.835616438359,81017.612524461845,80391.389432485332,79765.166340508818,79138.943248532305,78512.720156555792,77886.497064579278,77260.273972602765,76634.050880626251,76007.827788649709,75381.604696673196,74755.381604696682,74129.158512720169,73502.935420743655,72876.712328767142,72250.489236790629,71624.266144814115,70998.043052837602,70371.819960861059,69745.596868884546,69119.373776908033,68493.150684931519,67866.927592955006,67240.704500978492,66614.481409001979,65988.258317025466,65362.035225048952,64735.81213307241,64109.589041095896,63483.365949119383,62857.14285714287,62230.919765166356,61604.696673189843,60978.473581213329,60352.250489236816,59726.027397260303,59099.80430528376,58473.581213307247,57847.358121330733,57221.13502935422,56594.911937377707,55968.688845401193,55342.46575342468,54716.242661448166,54090.019569471624,53463.796477495111,52837.573385518597,52211.350293542084,51585.12720156557,50958.904109589057,50332.681017612544,49706.45792563603,49080.234833659517,48454.011741682974,47827.788649706461,47201.565557729948,46575.342465753434,45949.119373776921,45322.896281800407,44696.673189823894,44070.450097847381,43444.227005870867,42818.003913894325,42191.780821917811,41565.557729941298,40939.334637964785,40313.111545988271,39686.888454011758,39060.665362035244,38434.442270058731,37808.219178082218,37181.996086105675,36555.772994129162,35929.549902152648,35303.326810176135,34677.103718199622,34050.880626223108,33424.657534246595,32798.434442270081,32172.211350293568,31545.988258317026,30919.765166340512,30293.542074363999,29667.318982387485,29041.095890410972,28414.872798434459,27788.649706457945,27162.426614481432,26536.203522504919,25909.980430528376,25283.757338551863,24657.534246575349,24031.311154598836,23405.088062622322,22778.864970645809,22152.641878669296,21526.418786692782,20900.19569471624,20273.972602739726,19647.749510763213,19021.5264187867,18395.303326810186,17769.080234833673,17142.857142857159,16516.634050880646,15890.410958904133,15264.18786692759,14637.964774951077,14011.741682974563,13385.51859099805,12759.295499021537,12133.072407045023,11506.84931506851,10880.626223091982,10254.403131115469,9628.1800391389552,9001.9569471624418,8375.7338551859139,7749.5107632094005,7123.2876712328871,6497.0645792563737,5870.8414872798603,5244.6183953033324,4618.395303326819,3992.1722113503056,3365.9491193737922,2739.7260273972643,2113.5029354207509,1487.2798434442375,861.0567514677241,234.83365949121071,-391.38943248531723,-1017.6125244618306,-1643.835616438344,-2270.0587084148574,-2896.2818003913853,-3522.5048923678987,-4148.7279843444121,-4774.9510763209255,-5401.1741682974534,-6027.3972602739668,-6653.6203522504802,-7279.8434442269936,-7906.066536203507,-8532.2896281800349,-9158.5127201565483,-9784.7358121330617,-10410.958904109575,-11037.181996086103,-11663.405088062616,-12289.62818003913,-12915.851272015643,-13542.074363992157,-14168.297455968685,-14794.520547945198,-15420.743639921711,-16046.966731898225,-16673.189823874753,-17299.412915851266,-17925.636007827779,-18551.859099804293,-19178.082191780821,-19804.305283757334,-20430.528375733847,-21056.751467710361,-21682.974559686874,-22309.197651663402,-22935.420743639916,-23561.643835616429,-24187.866927592942,-24814.09001956947,-25440.313111545984,-26066.536203522497,-26692.75929549901,-27318.982387475524,-27945.205479452052,-28571.428571428565,-29197.651663405079,-29823.874755381592,-30450.09784735812,-31076.320939334633,-31702.544031311147,-32328.76712328766,-32954.990215264188,-33581.213307240701,-34207.436399217215,-34833.659491193728,-35459.882583170242,-36086.105675146769,-36712.328767123283,-37338.551859099796,-37964.77495107631,-38590.998043052838,-39217.221135029351,-39843.444227005864,-40469.667318982378,-41095.890410958891,-41722.113502935419,-42348.336594911932,-42974.559686888446,-43600.782778864959,-44227.005870841487,-44853.228962818001,-45479.452054794514,-46105.675146771027,-46731.898238747541,-47358.121330724069,-47984.344422700582,-48610.567514677095,-49236.790606653609,-49863.013698630137,-50489.23679060665,-51115.459882583164,-51741.682974559677,-52367.906066536205,-52994.129158512718,-53620.352250489232,-54246.575342465745,-54872.798434442266,-55499.021526418779,-56125.2446183953,-56751.467710371813,-57377.690802348334,-58003.913894324847,-58630.136986301368,-59256.360078277881,-59882.583170254395,-60508.806262230915,-61135.029354207429,-61761.252446183949,-62387.475538160463,-63013.698630136983,-63639.921722113497,-64266.144814090017,-64892.367906066531,-65518.590998043052,-66144.814090019558,-66771.037181996071,-67397.260273972599,-68023.483365949112,-68649.70645792564,-69275.929549902154,-69902.152641878667,-70528.37573385518,-71154.598825831694,-71780.821917808207,-72407.045009784735,-73033.268101761249,-73659.491193737762,-74285.71428571429,-74911.937377690803,-75538.160469667317,-76164.38356164383,-76790.606653620343,-77416.829745596857,-78043.052837573385,-78669.275929549898,-79295.499021526426,-79921.722113502939,-80547.945205479453,-81174.168297455966,-81800.39138943248,-82426.614481408993,-83052.837573385506,-83679.060665362034,-84305.283757338548,-84931.506849315076,-85557.729941291589,-86183.953033268102,-86810.176125244616,-87436.399217221129,-88062.622309197643,-88688.845401174171,-89315.068493150684,-89941.291585127197,-90567.514677103711,-91193.737769080239,-91819.960861056752,-92446.183953033265,-93072.407045009779,-93698.630136986292,-94324.85322896282,-94951.076320939334,-95577.299412915847,-96203.522504892375,-96829.745596868888,-97455.968688845402,-98082.191780821915,-98708.414872798428,-99334.637964774942,-99960.86105675147,-100587.08414872798,-101213.3072407045,-101839.53033268102,-102465.75342465754,-103091.97651663405,-103718.19960861056,-104344.42270058708,-104970.64579256359,-105596.86888454012,-106223.09197651663,-106849.31506849315,-107475.53816046967,-108101.76125244619,-108727.9843444227,-109354.20743639921,-109980.43052837573,-110606.65362035226,-111232.87671232877,-111859.09980430528,-112485.3228962818,-113111.54598825832,-113737.76908023484,-114363.99217221135,-114990.21526418786,-115616.43835616438,-116242.66144814091,-116868.88454011742,-117495.10763209393,-118121.33072407045,-118747.55381604697,-119373.77690802349,-120000,-120000],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5.4861852193920462e-07,5.4115581348679461e-07,5.1733555085109183e-07,4.7968199940976147e-07,4.3215192878126155e-07,3.7854485587353977e-07,3.2280049548465399e-07,2.6864380734662531e-07,2.1932741638765396e-07,1.7749149030415435e-07,1.4513794956337401e-07,1.2369610108971828e-07,1.1414284095839606e-07,1.1713410293644586e-07,1.3368664576232185e-07,1.6418939456573944e-07,2.0781905422551347e-07,2.6405013677778562e-07,3.3178768434764672e-07,4.0924396277781114e-07,4.9387665690955961e-07,5.8241169465163345e-07,6.7096040206179936e-07,7.5522642333041042e-07,8.307846786122702e-07,8.9340429986628306e-07,9.3870500239568069e-07,9.6300633597778576e-07,9.66061260621596e-07,9.4780221281869878e-07,9.0941386900683338e-07,8.5322255316271409e-07,7.8249609392143043e-07,7.0117123304267807e-07,6.1353270999106253e-07,5.2387378198721176e-07,4.3617114765399991e-07,3.5380709011455421e-07,2.7960629489271121e-07,2.1581075426161479e-07,1.6231693934911291e-07,1.1888767171693054e-07,8.4739230591177026e-08,5.8732780104754738e-08,3.9553729450027428e-08,2.5862166362257307e-08,1.6405071667717644e-08,1.0087998809621484e-08,6.00955108687176e-09,3.4658394032637299e-09,1.9431823546016895e-09,1.0843976533250882e-09,5.8703495895744881e-10,3.079731833373317e-10,1.5643877976356159e-10,7.6879374001426716e-11,3.6526256546911108e-11,1.6767584844270182e-11,7.433400051707881e-12,3.1810867117858029e-12,1.3136730269286188e-12,5.2336487082027504e-13,2.0210675814524704e-13,8.1804641448348837e-14,3.1807957931505714e-14,1.1881963053804427e-14,4.2648192089531988e-15,1.4711490338459545e-15,4.8780824826795161e-16,1.5551531153436086e-16,4.7678395397193942e-17,1.4060166838082704e-17,3.9893475596633583e-18,1.0911171078651225e-18,2.8625658132147167e-19,8.5498839713056206e-20,2.4609797535117054e-20,6.5429244283409354e-21,1.8764287035815386e-21,4.6177053079398475e-22,5.8905037173977571e-23,9.39880071703824e-22,1.5868290200012284e-21,6.4612811325578774e-22,4.3667056926859251e-22,2.2471971788843648e-23,2.357983458051114e-22,1.6967122174341522e-23,0,0,6.4924010071146714e-21,2.9228399940614279e-20,1.1275326568201572e-19,4.2281528104594356e-19,1.5178858726347161e-18,5.2044332148953224e-18,1.7040140914401155e-17,5.3170534112677876e-17,1.5769553121127743e-16,4.9581861286182209e-16,1.5513119309701068e-15,4.6740697238433318e-15,1.3561833869745811e-14,3.7895686808556738e-14,1.019880339858378e-13,2.6440004707956372e-13,6.604251682030478e-13,1.5899141329413632e-12,3.6906436835756284e-12,8.2654081023365491e-12,1.7872873652775616e-11,3.8840066015610531e-11,8.3103826583281796e-11,1.7167775198304835e-10,3.4255525677437087e-10,6.6049630995218105e-10,1.2312935878922407e-09,2.2205524313361097e-09,3.8766041546998865e-09,6.5559708137524334e-09,1.0748191687080077e-08,1.709492014546864e-08,2.6396200419356719e-08,3.988264783032467e-08,5.8691709541930949e-08,8.3627516451575384e-08,1.1543246454126637e-07,1.54432249098382e-07,2.0035224642534661e-07,2.521693876983071e-07,3.0803460504766415e-07,3.6529619878526169e-07,4.2064316001939564e-07,4.7037047681789197e-07,5.1074748187733577e-07,5.377329182710924e-07,5.4860964157565625e-07,5.4325356358730793e-07,5.2225243738825249e-07,4.8746928405038846e-07,4.4177776568129266e-07,3.8868877732236754e-07,3.3193052970599613e-07,2.7504534032853682e-07,2.2105735560952082e-07,1.7224887450706512e-07,1.300618962875737e-07,9.5381762770290264e-08,6.8204474172603191e-08,4.7372426406787757e-08,3.1943999013637595e-08,2.0900437030731843e-08,1.3260342556361032e-08,8.1528649141123847e-09,4.8545370520996838e-09,2.7977346451306787e-09,1.5597370814752411e-09,8.4083094628564345e-10,4.3834207290349802e-10,2.2417763098501087e-10,1.1632871561797371e-10,6.2686081206374582e-11,4.2193025701132071e-11,4.6635950775132465e-11,7.8719017655721615e-11,1.5319118638576919e-10,3.0124351447060785e-10,5.7868604962901133e-10,1.0786051926867055e-09,1.9492242205674556e-09,3.4174663062008303e-09,5.8449632271815241e-09,9.895674081117576e-09,1.622310161479775e-08,2.5772017389127409e-08,3.9702266115322661e-08,5.9358435083259485e-08,8.6201449641037108e-08,1.2169912646476152e-07,1.6717903511201525e-07,2.2365437153564905e-07,2.9164084547694628e-07,3.7098859481229739e-07,4.608247770161618e-07,5.5971801444833934e-07,6.6388147550004467e-07,7.6990912521620388e-07,8.7407390485944221e-07,9.7259018435931686e-07,1.0618615239851879e-06,1.138687712722047e-06,1.2004175110044315e-06,1.2450473010459273e-06,1.271278190757731e-06,1.2785525950432934e-06,1.2670938626200606e-06,1.2365110944537184e-06,1.1909886443610232e-06,1.1339913631777786e-06,1.0700486736406605e-06,1.0047020948079016e-06,9.4429636720394463e-07,8.9562583951703757e-07,8.6544545446068993e-07,8.5987882689001952e-07,8.8377736693707707e-07,9.4010150080626255e-07,1.0294052584554526e-06,1.151629528975893e-06,1.2982415062034109e-06,1.4607601418186681e-06,1.6295066713671307e-06,1.7941555306968133e-06,1.9446790006192677e-06,2.0722398250734045e-06,2.1699327504304814e-06,2.2333026621289912e-06,2.2606023790735401e-06,2.2527915689814102e-06,2.2133134675816782e-06,2.1463564764264256e-06,2.0617560903788567e-06,1.9685163033195917e-06,1.8755259537391329e-06,1.7916499653245371e-06,1.7253091825968316e-06,1.6840726744347969e-06,1.6742712748719058e-06,1.700651911287281e-06,1.7660997248537185e-06,1.8714571080199392e-06,2.0154645424930307e-06,2.1968319036540916e-06,2.4080750831648909e-06,2.6412534766109977e-06,2.8887152218366183e-06,3.1425338552269316e-06,3.3950026563337776e-06,3.6391022519974226e-06,3.8689141171135285e-06,4.0799487717368743e-06,4.2693525671826785e-06,4.4359535757751938e-06,4.5801085633563682e-06,4.7022202558130999e-06,4.8049321354033162e-06,4.8904002147272794e-06,4.9585353047619978e-06,5.0073778707701877e-06,5.0330746231798201e-06,5.0303691474707243e-06,4.9935899694108587e-06,4.9180131612772669e-06,4.8013823216733091e-06,4.6453040683901944e-06,4.4562171263130671e-06,4.245557638061229e-06,4.0325347227513329e-06,3.8373343197947551e-06,3.6786473150672921e-06,3.5722999536528348e-06,3.5292233329907617e-06,3.5540651038063137e-06,3.6446223546420821e-06,3.7921568619700657e-06,3.982538905075222e-06,4.1980648756524257e-06,4.4197156657578351e-06,4.6284763259681199e-06,4.8081209853142831e-06,4.9523138005604826e-06,5.0603152114687013e-06,5.1374214829012548e-06,5.1939526920463408e-06,5.2437127454244815e-06,5.3021719723751638e-06,5.3846437435016562e-06,5.5047057477486753e-06,5.6730569140716651e-06,5.8969099545159495e-06,6.1816997591474406e-06,6.529688241298809e-06,6.9336838018702173e-06,7.3885160633819619e-06,7.8871985256305314e-06,8.4210807113635378e-06,8.9800978326695528e-06,9.5533092890057105e-06,1.0129871949878527e-05,1.0700498378808458e-05,1.1259321926634691e-05,1.1805952856154908e-05,1.2347681909294968e-05,1.2904649126579737e-05,1.3504988050649871e-05,1.418355538790157e-05,1.4979679524951746e-05,1.5933977337896697e-05,1.7085084269409281e-05,1.8466720689579502e-05,2.0105387323170551e-05,2.2018797811192407e-05,2.4214952204351096e-05,2.6691568620676182e-05,2.9438069733464996e-05,3.2442092106913871e-05,3.5634538630617096e-05,3.8951224849474455e-05,4.2306494573212711e-05,4.5591587824631613e-05,4.8675339776938177e-05,5.1408108205844072e-05,5.3629437830630533e-05,5.5179410511939229e-05,5.5912968346836652e-05,5.5715817512783459e-05,5.4518527146737742e-05,5.2223965716658853e-05,4.9010501790919146e-05,4.5020479126548562e-05,4.0444993658392148e-05,3.5505824787788915e-05,3.043461546363279e-05,2.5452125748067012e-05,2.0750177083112127e-05,1.6478331947851934e-05,1.273653189857152e-05,9.5739766620977023e-06,6.9936109387487076e-06,5.0035716858492068e-06,3.4879372509295e-06,2.3659945575495803e-06,1.560683739649145e-06,1.0003626062222723e-06,6.2261849361636029e-07,3.7600489688773738e-07,2.2017528824498166e-07,1.2492848753265946e-07,6.8644865188346819e-08,3.6506318955415569e-08,1.8781316345673516e-08,9.6852283872668436e-09,4.8782101366808857e-09,2.3792426200988645e-09,1.1227169013489788e-09,5.1219844877854362e-10,2.2577679852860687e-10,9.6112047409681119e-11,3.949661409832112e-11,1.5663433383446906e-11,5.9930846043618877e-12,2.2119030926572208e-12,7.8735405002059893e-13,2.918958506621422e-13,1.0676800311328239e-13,3.7405393121916065e-14,1.2563036751709108e-14,4.0480677154845223e-15,1.252187267314698e-15,3.7204369479679826e-16,1.062239628483366e-16,2.9155907899574565e-17,7.6957730155446393e-18,1.9541500146382105e-18,4.7726150154280949e-19,1.2776264140637597e-19,3.4220412795277781e-20,9.1018768169193039e-21,1.5933290528576584e-21,5.1358670856192913e-22,6.2900687369370079e-22,5.3252369680347667e-22,3.963963971797547e-22,0,1.2672628530982663e-23,9.7808620900984634e-23,3.4228424198623068e-22,1.5553696662009428e-23,3.0723245260168273e-21,2.509832738353283e-21,2.7120190443343429e-21,2.9355656658561167e-21,3.2652563752704286e-21,2.8935907333679597e-21,2.3810274193362507e-21,2.3435897097976538e-21,1.0964392747623446e-21,1.4341374923420452e-22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5.6268561417438756e-23,3.8660652561213654e-23,0,0,2.532062703934892e-22,6.7639344561007717e-22,1.808929758221693e-22,2.5050919613078782e-23,3.8927616889273646e-22,9.5549242852232064e-22,9.8132929873519821e-22,1.1569452289774045e-21,4.2875693769077149e-22,0,5.1933825112840821e-22,1.0587322358960464e-21,7.0739511744271877e-22,0,0,0,0,0,0,0,0,7.6357307311358094e-23,3.9923237770666944e-22,3.9769191668888535e-22,3.2108165215537227e-22,1.0056989681310603e-21,9.057630668359232e-22,5.008688641236939e-23,6.3052345228915047e-22,8.1320740472636758e-22,1.5780246271412397e-21,1.4446833224968482e-21,8.3189407905002652e-22,5.9150179918286956e-22,1.2467880978021086e-21,1.8267784726941228e-21,1.2015027030464207e-21,2.0335796687712962e-22,8.6165570978171149e-22,2.9515344811468139e-21,2.5294916172904776e-21,1.9854487222602866e-22,1.6198444826916633e-21,2.5381823730699919e-21,2.7463737273535562e-21,2.5697887473907499e-21,1.2008694489801511e-21,0,0,0,0,0,0,0,0,1.5380842656574599e-21,1.0404885614329175e-20,4.3394753602198552e-20,1.6585662564018389e-19,6.1128594369679496e-19,2.163058196315355e-18,7.3280942904290124e-18,2.3729546308451087e-17,7.3291669263381481e-17,2.1535614670246184e-16,6.6855442486204053e-16,2.0678737910641098e-15,6.1611590463347774e-15,1.7683220154990059e-14,4.8892741654622161e-14,1.3024303304329606e-13,3.3431814747299067e-13,8.2710703374319476e-13,1.9728880644950936e-12,4.5391774358101381e-12,1.0079649120117469e-11,2.161943909660912e-11,4.6537309247960881e-11,9.8675861889933271e-11,2.0205731351223916e-10,3.99726274426476e-10,7.6431652013242718e-10,1.4132937789683065e-09,2.5286818049922775e-09,4.3806390603142999e-09,7.3529473655940051e-09,1.1966786419509958e-08,1.8897242671780065e-08,2.8975067801031314e-08,4.3457534740509026e-08,6.3488075500921984e-08,8.981878681577089e-08,1.231155671842569e-07,1.6358742569805648e-07,2.1080830875498145e-07,2.6358228600692266e-07,3.1988657383222697e-07,3.7692049915375789e-07,4.312757060194425e-07,4.7922488144558364e-07,5.1710503404157718e-07,5.4104100557606613e-07,5.4856174050928369e-07,0],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"solid"},"fill":"toself","fillcolor":"transparent","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":72.395184723951857},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Distribución del PIB per cápita <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-142222.22222222222,248888.88888888891],"tickmode":"array","ticktext":["-1e+05","0e+00","1e+05","2e+05"],"tickvals":[-100000,0,100000,200000.00000000003],"categoryorder":"array","categoryarray":["-1e+05","0e+00","1e+05","2e+05"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"PIB per cápita ($ EE.UU.)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.7956484173418326e-06,5.8708616764178488e-05],"tickmode":"array","ticktext":["0.00000","0.00002","0.00004"],"tickvals":[0,2.0000000000000002e-05,3.9999999999999996e-05],"categoryorder":"array","categoryarray":["0.00000","0.00002","0.00004"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Densidad","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"1ebe267ef1c9":{"x":{},"y":{},"text":{},"type":"bar"},"1ebe4e3645c":{"x":{}}},"cur_data":"1ebe267ef1c9","visdat":{"1ebe267ef1c9":["function (y) ","x"],"1ebe4e3645c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="recursos-de-interés" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="recursos-de-interés"><span class="header-section-number">9.5</span> Recursos de interés</h2>
<p><em>DT: An R interface to the DataTables library</em>. (s. f.). Recuperado 21 de mayo de 2022, de <a href="https://rstudio.github.io/DT/">https://rstudio.github.io/DT/</a></p>
<p>Healy, Y. H. and C. (s. f.). <em>From data to Viz | Find the graphic you need</em>. Recuperado 20 de marzo de 2022, de <a href="https://www.data-to-viz.com/">https://www.data-to-viz.com/</a></p>
<p>RStudio. (2017). <em>Data visualization with ggplot2::Cheat Sheet</em>. <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization.pdf">https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization.pdf</a></p>
<p>Wickham, H. (2010). <em>A Layered Grammar of Graphics. Journal of Computational and Graphical Statistics, 19</em>(1), 3-28. <a href="https://doi.org/10.1198/jcgs.2009.07098">https://doi.org/10.1198/jcgs.2009.07098</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./08-dplyr.html" class="pagination-link" aria-label="dplyr - gramática para manipulación de datos">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>