<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>9&nbsp; ggplot2 y plotly - creación declarativa de gráficos interactivos – PF-0953 Programación en R 2024-II</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./10-introduccion-manejo-datos-geoespaciales.html" rel="next">
<link href="./08-dplyr.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="site_libs/plotly-locale-es-2.11.1/es.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./parte-iv-graficacion-estadistica-r.html">IV - Graficación estadística en R</a></li><li class="breadcrumb-item"><a href="./09-ggplot2-plotly.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">PF-0953 Programación en R 2024-II</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bienvenida</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programa_curso.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programa del curso</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-i-introduccion-programacion-computadoras-ciencia-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">I - Introducción a la programación de computadoras y a la ciencia de datos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-introduccion-programacion-computadoras.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción a la programación de computadoras</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-introduccion-ciencia-datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introducción a la ciencia de datos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-ii-lenguaje-programacion-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">II - El lenguaje de programación R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R - lenguaje de programación para análisis estadístico</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-iii-herramientas-investigacion-reproducible-desarrollo-colaborativo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">III - Herramientas para investigación reproducible y desarrollo colaborativo</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Markdown - lenguaje de marcado</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Git - sistema de control de versiones</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Quarto - sistema de publicación técnica y científica</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./parte-iv-graficacion-estadistica-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IV - Graficación estadística en R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Tidyverse - colección de paquetes para ciencia de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-ggplot2-plotly.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-introduccion-manejo-datos-geoespaciales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introducción al manejo de datos geoespaciales con R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-modelos-nichos-ecologicos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Modelos de nichos ecológicos</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="5">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#trabajo-previo" id="toc-trabajo-previo" class="nav-link active" data-scroll-target="#trabajo-previo">Trabajo previo</a>
  <ul class="collapse">
  <li><a href="#lecturas" id="toc-lecturas" class="nav-link" data-scroll-target="#lecturas">Lecturas</a></li>
  </ul></li>
  <li><a href="#introducción" id="toc-introducción" class="nav-link" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#instalación-y-carga" id="toc-instalación-y-carga" class="nav-link" data-scroll-target="#instalación-y-carga"><span class="header-section-number">9.1</span> Instalación y carga</a></li>
  <li><a href="#conjuntos-de-datos-de-ejemplo" id="toc-conjuntos-de-datos-de-ejemplo" class="nav-link" data-scroll-target="#conjuntos-de-datos-de-ejemplo"><span class="header-section-number">9.2</span> Conjuntos de datos de ejemplo</a>
  <ul class="collapse">
  <li><a href="#países" id="toc-países" class="nav-link" data-scroll-target="#países"><span class="header-section-number">9.2.1</span> Países</a></li>
  </ul></li>
  <li><a href="#paquetes-de-graficación" id="toc-paquetes-de-graficación" class="nav-link" data-scroll-target="#paquetes-de-graficación"><span class="header-section-number">9.3</span> Paquetes de graficación</a>
  <ul class="collapse">
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2"><span class="header-section-number">9.3.1</span> ggplot2</a></li>
  <li><a href="#plotly" id="toc-plotly" class="nav-link" data-scroll-target="#plotly"><span class="header-section-number">9.3.2</span> plotly</a></li>
  </ul></li>
  <li><a href="#tipos-de-gráficos" id="toc-tipos-de-gráficos" class="nav-link" data-scroll-target="#tipos-de-gráficos"><span class="header-section-number">9.4</span> Tipos de gráficos</a>
  <ul class="collapse">
  <li><a href="#gráficos-de-dispersión" id="toc-gráficos-de-dispersión" class="nav-link" data-scroll-target="#gráficos-de-dispersión"><span class="header-section-number">9.4.1</span> Gráficos de dispersión</a></li>
  <li><a href="#histogramas" id="toc-histogramas" class="nav-link" data-scroll-target="#histogramas"><span class="header-section-number">9.4.2</span> Histogramas</a></li>
  <li><a href="#gráficos-de-pastel" id="toc-gráficos-de-pastel" class="nav-link" data-scroll-target="#gráficos-de-pastel"><span class="header-section-number">9.4.3</span> Gráficos de pastel</a></li>
  <li><a href="#gráficos-de-barras" id="toc-gráficos-de-barras" class="nav-link" data-scroll-target="#gráficos-de-barras"><span class="header-section-number">9.4.4</span> Gráficos de barras</a></li>
  </ul></li>
  <li><a href="#recursos-de-interés" id="toc-recursos-de-interés" class="nav-link" data-scroll-target="#recursos-de-interés"><span class="header-section-number">9.5</span> Recursos de interés</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./parte-iv-graficacion-estadistica-r.html">IV - Graficación estadística en R</a></li><li class="breadcrumb-item"><a href="./09-ggplot2-plotly.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ggplot2 y plotly - creación declarativa de gráficos interactivos</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="trabajo-previo" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="trabajo-previo">Trabajo previo</h2>
<section id="lecturas" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="lecturas">Lecturas</h3>
<p>Chang, W. (2018). <em>R graphics cookbook: Practical recipes for visualizing data</em>. O’Reilly. <a href="https://r-graphics.org/" class="uri">https://r-graphics.org/</a></p>
<p>Wickham, H., &amp; Grolemund, G. (2017). <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em> (capítulo 3). O’Reilly Media. <a href="https://r4ds.had.co.nz/" class="uri">https://r4ds.had.co.nz/</a></p>
<p>Wickham, H., &amp; Grolemund, G. (s. f.). <em>R para Ciencia de Datos (1era ed.)</em> (capítulo 3). <a href="https://es.r4ds.hadley.nz/" class="uri">https://es.r4ds.hadley.nz/</a></p>
<p>Wickham, H., Çetinkaya-Rundel, M., &amp; Grolemund, G. (s. f.). <em>R for Data Science (2nd ed.)</em> (capítulo 2). <a href="https://r4ds.hadley.nz/" class="uri">https://r4ds.hadley.nz/</a></p>
<p>Wickham, H., Navarro, D., &amp; Pedersen, T. L. (s.f.). <em>ggplot2: Elegant graphics for data analysis</em>. <a href="https://ggplot2-book.org/" class="uri">https://ggplot2-book.org/</a></p>
</section>
</section>
<section id="introducción" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="introducción">Introducción</h2>
<p>R proporciona una gran cantidad de funciones para la elaboración de gráficos estadísticos y otros tipos de visualizaciones. El paquete base de R, por ejemplo, contiene un conjunto básico de funciones muy versátiles, especialmente para gráficos simples de conjuntos de datos relativamente pequeños. Sin embargo, para visualizaciones más avanzadas, puede ser conveniente explorar otras bibliotecas.</p>
<p>ggplot2 es una de las bibliotecas más populares de graficación de R. Implementa el concepto de “gramática de gráficos”, que permite crear visualizaciones complejas a partir de capas y componentes simples. Forma parte de Tidyverse, por lo que se comunica muy bien con los demás paquetes de esta familia, enfocada en conjuntos de datos grandes y en ciencia de datos.</p>
<p>plotly es una biblioteca para crear gráficos interactivos y dinámicos. Contiene capacidades para agregar controles y mecanismos que le permiten al usuario interactuar con los gráficos y realizar operaciones como filtrados, acercamientos y alejamientos, entre otras.</p>
<p>El paquete DT, por su parte, permite presentar conjuntos de datos en tablas interactivas en las que se pueden realizar operaciones como ordenamientos, consultas y filtrados.</p>
</section>
<section id="instalación-y-carga" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="instalación-y-carga"><span class="header-section-number">9.1</span> Instalación y carga</h2>
<p>Los paquetes necesarios pueden instalarse con la función <code>install.packages()</code>. Ya que se usaron en capítulos anteriores, en este punto se asumen instalados los paquetes de Tidyverse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de plotly</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"plotly"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de DT</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"DT"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Una vez instalados, los paquetes pueden cargarse con la función <code>library()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga conjunta de Tidyverse </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (incluye ggplot2, dplyr, readr y otros)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de plotly</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de DT</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de scales (para formatear ejes y leyendas en los gráficos)</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conjuntos-de-datos-de-ejemplo" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="conjuntos-de-datos-de-ejemplo"><span class="header-section-number">9.2</span> Conjuntos de datos de ejemplo</h2>
<section id="países" class="level3" data-number="9.2.1">
<h3 data-number="9.2.1" class="anchored" data-anchor-id="países"><span class="header-section-number">9.2.1</span> Países</h3>
<p>Se carga un archivo CSV con los datos de países de Natural Earth unidos con los del indicador de esperanza de vida al nacer en 2022 del Banco Mundial (columna <code>LIFE_EXPECTANCY</code>). También incluye la columna correspondiente al producto interno bruto per cápita (columna <code>GDP_PC</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de los datos de países</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>paises <span class="ot">&lt;-</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/pf0953-programacionr/2024-ii/refs/heads/main/datos/natural-earth/paises-join-esperanzavida.csv"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En el siguiente bloque de código, se utiliza la función <a href="https://rdrr.io/cran/DT/man/datatable.html">datatable()</a> del paquete <a href="https://rstudio.github.io/DT/">DT</a>, para desplegar las observaciones de países en una tabla.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabla de datos de paises</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">pageLength =</span> <span class="dv">5</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">language =</span> <span class="fu">list</span>(<span class="at">url =</span> <span class="st">'//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json'</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6ca6c180d4503f871d94" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6ca6c180d4503f871d94">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201"],["IDN","MYS","CHL","BOL","PER","ARG","GBR","CYP","IND","CHN","ISR","LBN","ETH","SSD","SOM","KEN","MWI","TZA","SYR","SOM","FRA","SUR","GUY","KOR","PRK","MAR","B28","CRI","NIC","COG","COD","BTN","UKR","BLR","NAM","ZAF","NLD","OMN","UZB","KAZ","TJK","LTU","BRA","URY","MNG","RUS","CZE","DEU","EST","LVA","NOR","SWE","FIN","VNM","KHM","LUX","ARE","BEL","GEO","MKD","ALB","AZE","SRB","TUR","ESP","LAO","KGZ","ARM","DNK","LBY","TUN","ROU","HUN","SVK","POL","IRL","GRC","ZMB","SLE","GIN","LBR","CAF","SDZ","DJI","ERI","AUT","IRQ","ITA","CHE","IRN","LIE","CIV","SRB","MLI","SEN","NGA","BEN","AGO","HRV","SVN","QAT","SAU","BWA","ZWE","PAK","BGR","THA","SMR","HTI","DOM","TCD","KWT","SLV","GTM","TLS","BRN","MCO","DZA","MOZ","SWZ","BDI","RWA","MMR","BGD","AND","AFG","MNE","BIH","UGA","CUB","HND","ECU","COL","PRY","PR1","MDA","TKM","JOR","NPL","LSO","CMR","GAB","NER","BFA","TGO","GHA","GNB","USA","CAN","MEX","BLZ","PAN","VEN","PN1","EGY","YEM","MRT","GNQ","GMB","VAT","CYP","CYP","ATA","AUS","FJI","NZL","MDG","PHL","LKA","BHS","TWN","JPN","ISL","SYC","KIR","MHL","TTO","GRD","VCT","BRB","LCA","DMA","ATG","KNA","JAM","MUS","COM","STP","CPV","MLT","SGP","TON","WSM","SLB","TUV","MDV","NRU","FSM","VUT","PLW","BHR"],["Indonesia","Malaysia","Chile","Bolivia","Peru","Argentina","United Kingdom","Cyprus","India","China","Israel","Lebanon","Ethiopia","S. Sudan","Somalia","Kenya","Malawi","Tanzania","Syria","Somaliland","France","Suriname","Guyana","South Korea","North Korea","Morocco","W. Sahara","Costa Rica","Nicaragua","Congo","Dem. Rep. Congo","Bhutan","Ukraine","Belarus","Namibia","South Africa","Netherlands","Oman","Uzbekistan","Kazakhstan","Tajikistan","Lithuania","Brazil","Uruguay","Mongolia","Russia","Czechia","Germany","Estonia","Latvia","Norway","Sweden","Finland","Vietnam","Cambodia","Luxembourg","United Arab Emirates","Belgium","Georgia","North Macedonia","Albania","Azerbaijan","Kosovo","Turkey","Spain","Laos","Kyrgyzstan","Armenia","Denmark","Libya","Tunisia","Romania","Hungary","Slovakia","Poland","Ireland","Greece","Zambia","Sierra Leone","Guinea","Liberia","Central African Rep.","Sudan","Djibouti","Eritrea","Austria","Iraq","Italy","Switzerland","Iran","Liechtenstein","Côte d'Ivoire","Serbia","Mali","Senegal","Nigeria","Benin","Angola","Croatia","Slovenia","Qatar","Saudi Arabia","Botswana","Zimbabwe","Pakistan","Bulgaria","Thailand","San Marino","Haiti","Dominican Rep.","Chad","Kuwait","El Salvador","Guatemala","Timor-Leste","Brunei","Monaco","Algeria","Mozambique","eSwatini","Burundi","Rwanda","Myanmar","Bangladesh","Andorra","Afghanistan","Montenegro","Bosnia and Herz.","Uganda","Cuba","Honduras","Ecuador","Colombia","Paraguay","Portugal","Moldova","Turkmenistan","Jordan","Nepal","Lesotho","Cameroon","Gabon","Niger","Burkina Faso","Togo","Ghana","Guinea-Bissau","United States of America","Canada","Mexico","Belize","Panama","Venezuela","Papua New Guinea","Egypt","Yemen","Mauritania","Eq. Guinea","Gambia","Vatican","N. Cyprus","Cyprus U.N. Buffer Zone","Antarctica","Australia","Fiji","New Zealand","Madagascar","Philippines","Sri Lanka","Bahamas","Taiwan","Japan","Iceland","Seychelles","Kiribati","Marshall Is.","Trinidad and Tobago","Grenada","St. Vin. and Gren.","Barbados","Saint Lucia","Dominica","Antigua and Barb.","St. Kitts and Nevis","Jamaica","Mauritius","Comoros","São Tomé and Principe","Cabo Verde","Malta","Singapore","Tonga","Samoa","Solomon Is.","Tuvalu","Maldives","Nauru","Micronesia","Vanuatu","Palau","Bahrain"],["Asia","Asia","South America","South America","South America","South America","Europe","Asia","Asia","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Asia","Africa","Europe","South America","South America","Asia","Asia","Africa","Africa","North America","North America","Africa","Africa","Asia","Europe","Europe","Africa","Africa","Europe","Asia","Asia","Asia","Asia","Europe","South America","South America","Asia","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Asia","Asia","Europe","Asia","Europe","Asia","Europe","Europe","Asia","Europe","Asia","Europe","Asia","Asia","Asia","Europe","Africa","Africa","Europe","Europe","Europe","Europe","Europe","Europe","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Europe","Asia","Europe","Europe","Asia","Europe","Africa","Europe","Africa","Africa","Africa","Africa","Africa","Europe","Europe","Asia","Asia","Africa","Africa","Asia","Europe","Asia","Europe","North America","North America","Africa","Asia","North America","North America","Asia","Asia","Europe","Africa","Africa","Africa","Africa","Africa","Asia","Asia","Europe","Asia","Europe","Europe","Africa","North America","North America","South America","South America","South America","Europe","Europe","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","North America","North America","North America","North America","North America","South America","Oceania","Africa","Asia","Africa","Africa","Africa","Europe","Asia","Asia","Antarctica","Oceania","Oceania","Oceania","Africa","Asia","Asia","North America","Asia","Asia","Europe","Seven seas (open ocean)","Oceania","Oceania","North America","North America","North America","North America","North America","North America","North America","North America","North America","Seven seas (open ocean)","Africa","Africa","Africa","Europe","Asia","Oceania","Oceania","Oceania","Oceania","Seven seas (open ocean)","Oceania","Oceania","Oceania","Oceania","Asia"],["Asia","Asia","Americas","Americas","Americas","Americas","Europe","Asia","Asia","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Asia","Africa","Europe","Americas","Americas","Asia","Asia","Africa","Africa","Americas","Americas","Africa","Africa","Asia","Europe","Europe","Africa","Africa","Europe","Asia","Asia","Asia","Asia","Europe","Americas","Americas","Asia","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Asia","Asia","Europe","Asia","Europe","Asia","Europe","Europe","Asia","Europe","Asia","Europe","Asia","Asia","Asia","Europe","Africa","Africa","Europe","Europe","Europe","Europe","Europe","Europe","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Europe","Asia","Europe","Europe","Asia","Europe","Africa","Europe","Africa","Africa","Africa","Africa","Africa","Europe","Europe","Asia","Asia","Africa","Africa","Asia","Europe","Asia","Europe","Americas","Americas","Africa","Asia","Americas","Americas","Asia","Asia","Europe","Africa","Africa","Africa","Africa","Africa","Asia","Asia","Europe","Asia","Europe","Europe","Africa","Americas","Americas","Americas","Americas","Americas","Europe","Europe","Asia","Asia","Asia","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Africa","Americas","Americas","Americas","Americas","Americas","Americas","Oceania","Africa","Asia","Africa","Africa","Africa","Europe","Asia","Asia","Antarctica","Oceania","Oceania","Oceania","Africa","Asia","Asia","Americas","Asia","Asia","Europe","Africa","Oceania","Oceania","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Americas","Africa","Africa","Africa","Africa","Europe","Asia","Oceania","Oceania","Oceania","Oceania","Asia","Oceania","Oceania","Oceania","Oceania","Asia"],["South-Eastern Asia","South-Eastern Asia","South America","South America","South America","South America","Northern Europe","Western Asia","Southern Asia","Eastern Asia","Western Asia","Western Asia","Eastern Africa","Eastern Africa","Eastern Africa","Eastern Africa","Eastern Africa","Eastern Africa","Western Asia","Eastern Africa","Western Europe","South America","South America","Eastern Asia","Eastern Asia","Northern Africa","Northern Africa","Central America","Central America","Middle Africa","Middle Africa","Southern Asia","Eastern Europe","Eastern Europe","Southern Africa","Southern Africa","Western Europe","Western Asia","Central Asia","Central Asia","Central Asia","Northern Europe","South America","South America","Eastern Asia","Eastern Europe","Eastern Europe","Western Europe","Northern Europe","Northern Europe","Northern Europe","Northern Europe","Northern Europe","South-Eastern Asia","South-Eastern Asia","Western Europe","Western Asia","Western Europe","Western Asia","Southern Europe","Southern Europe","Western Asia","Southern Europe","Western Asia","Southern Europe","South-Eastern Asia","Central Asia","Western Asia","Northern Europe","Northern Africa","Northern Africa","Eastern Europe","Eastern Europe","Eastern Europe","Eastern Europe","Northern Europe","Southern Europe","Eastern Africa","Western Africa","Western Africa","Western Africa","Middle Africa","Northern Africa","Eastern Africa","Eastern Africa","Western Europe","Western Asia","Southern Europe","Western Europe","Southern Asia","Western Europe","Western Africa","Southern Europe","Western Africa","Western Africa","Western Africa","Western Africa","Middle Africa","Southern Europe","Southern Europe","Western Asia","Western Asia","Southern Africa","Eastern Africa","Southern Asia","Eastern Europe","South-Eastern Asia","Southern Europe","Caribbean","Caribbean","Middle Africa","Western Asia","Central America","Central America","South-Eastern Asia","South-Eastern Asia","Western Europe","Northern Africa","Eastern Africa","Southern Africa","Eastern Africa","Eastern Africa","South-Eastern Asia","Southern Asia","Southern Europe","Southern Asia","Southern Europe","Southern Europe","Eastern Africa","Caribbean","Central America","South America","South America","South America","Southern Europe","Eastern Europe","Central Asia","Western Asia","Southern Asia","Southern Africa","Middle Africa","Middle Africa","Western Africa","Western Africa","Western Africa","Western Africa","Western Africa","Northern America","Northern America","Central America","Central America","Central America","South America","Melanesia","Northern Africa","Western Asia","Western Africa","Middle Africa","Western Africa","Southern Europe","Western Asia","Western Asia","Antarctica","Australia and New Zealand","Melanesia","Australia and New Zealand","Eastern Africa","South-Eastern Asia","Southern Asia","Caribbean","Eastern Asia","Eastern Asia","Northern Europe","Eastern Africa","Micronesia","Micronesia","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Caribbean","Eastern Africa","Eastern Africa","Middle Africa","Western Africa","Southern Europe","South-Eastern Asia","Polynesia","Polynesia","Melanesia","Polynesia","Southern Asia","Micronesia","Micronesia","Melanesia","Micronesia","Western Asia"],["East Asia &amp; Pacific","East Asia &amp; Pacific","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","South Asia","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Europe &amp; Central Asia","Sub-Saharan Africa","Europe &amp; Central Asia","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","South Asia","Europe &amp; Central Asia","East Asia &amp; Pacific","Europe &amp; Central Asia","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Middle East &amp; North Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","East Asia &amp; Pacific","Europe &amp; Central Asia","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","East Asia &amp; Pacific","South Asia","Europe &amp; Central Asia","South Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Sub-Saharan Africa","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Middle East &amp; North Africa","South Asia","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","North America","North America","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","East Asia &amp; Pacific","Middle East &amp; North Africa","Middle East &amp; North Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Europe &amp; Central Asia","Europe &amp; Central Asia","Europe &amp; Central Asia","Antarctica","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","Sub-Saharan Africa","East Asia &amp; Pacific","South Asia","Latin America &amp; Caribbean","East Asia &amp; Pacific","East Asia &amp; Pacific","Europe &amp; Central Asia","Sub-Saharan Africa","East Asia &amp; Pacific","East Asia &amp; Pacific","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Latin America &amp; Caribbean","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Sub-Saharan Africa","Middle East &amp; North Africa","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","South Asia","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","East Asia &amp; Pacific","Middle East &amp; North Africa"],["4. Emerging region: MIKT","6. Developing region","5. Emerging region: G20","5. Emerging region: G20","5. Emerging region: G20","5. Emerging region: G20","1. Developed region: G7","6. Developing region","3. Emerging region: BRIC","3. Emerging region: BRIC","2. Developed region: nonG7","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","5. Emerging region: G20","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","1. Developed region: G7","6. Developing region","6. Developing region","4. Emerging region: MIKT","7. Least developed region","6. Developing region","7. Least developed region","5. Emerging region: G20","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","5. Emerging region: G20","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","6. Developing region","2. Developed region: nonG7","3. Emerging region: BRIC","5. Emerging region: G20","6. Developing region","3. Emerging region: BRIC","2. Developed region: nonG7","1. Developed region: G7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","5. Emerging region: G20","7. Least developed region","2. Developed region: nonG7","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","4. Emerging region: MIKT","2. Developed region: nonG7","7. Least developed region","6. Developing region","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","2. Developed region: nonG7","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","6. Developing region","7. Least developed region","7. Least developed region","2. Developed region: nonG7","6. Developing region","1. Developed region: G7","2. Developed region: nonG7","5. Emerging region: G20","2. Developed region: nonG7","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","5. Emerging region: G20","7. Least developed region","7. Least developed region","2. Developed region: nonG7","2. Developed region: nonG7","6. Developing region","2. Developed region: nonG7","6. Developing region","5. Emerging region: G20","5. Emerging region: G20","2. Developed region: nonG7","5. Emerging region: G20","2. Developed region: nonG7","7. Least developed region","6. Developing region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","6. Developing region","2. Developed region: nonG7","6. Developing region","7. Least developed region","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","2. Developed region: nonG7","7. Least developed region","6. Developing region","6. Developing region","7. Least developed region","5. Emerging region: G20","6. Developing region","6. Developing region","6. Developing region","5. Emerging region: G20","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","6. Developing region","7. Least developed region","1. Developed region: G7","1. Developed region: G7","4. Emerging region: MIKT","6. Developing region","6. Developing region","5. Emerging region: G20","6. Developing region","5. Emerging region: G20","7. Least developed region","7. Least developed region","7. Least developed region","7. Least developed region","2. Developed region: nonG7","6. Developing region","6. Developing region","6. Developing region","2. Developed region: nonG7","6. Developing region","1. Developed region: G7","7. Least developed region","5. Emerging region: G20","6. Developing region","6. Developing region","2. Developed region: nonG7","1. Developed region: G7","2. Developed region: nonG7","6. Developing region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","6. Developing region","2. Developed region: nonG7","6. Developing region","6. Developing region","7. Least developed region","7. Least developed region","7. Least developed region","6. Developing region","6. Developing region","6. Developing region","7. Least developed region","6. Developing region","6. Developing region"],["4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","1. High income: OECD","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","1. High income: OECD","3. Upper middle income","5. Low income","5. Low income","5. Low income","5. Low income","5. Low income","5. Low income","4. Lower middle income","4. Lower middle income","1. High income: OECD","3. Upper middle income","4. Lower middle income","1. High income: OECD","5. Low income","4. Lower middle income","5. Low income","3. Upper middle income","4. Lower middle income","4. Lower middle income","5. Low income","4. Lower middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","3. Upper middle income","1. High income: OECD","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","5. Low income","3. Upper middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","1. High income: OECD","1. High income: OECD","1. High income: OECD","3. Upper middle income","1. High income: OECD","1. High income: OECD","1. High income: OECD","4. Lower middle income","5. Low income","1. High income: OECD","2. High income: nonOECD","1. High income: OECD","4. Lower middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","4. Lower middle income","3. Upper middle income","1. High income: OECD","4. Lower middle income","5. Low income","4. Lower middle income","1. High income: OECD","3. Upper middle income","3. Upper middle income","3. Upper middle income","1. High income: OECD","1. High income: OECD","1. High income: OECD","1. High income: OECD","1. High income: OECD","4. Lower middle income","5. Low income","5. Low income","5. Low income","5. Low income","4. Lower middle income","4. Lower middle income","5. Low income","1. High income: OECD","4. Lower middle income","1. High income: OECD","1. High income: OECD","3. Upper middle income","2. High income: nonOECD","4. Lower middle income","3. Upper middle income","5. Low income","4. Lower middle income","4. Lower middle income","5. Low income","3. Upper middle income","2. High income: nonOECD","1. High income: OECD","2. High income: nonOECD","2. High income: nonOECD","3. Upper middle income","5. Low income","4. Lower middle income","3. Upper middle income","3. Upper middle income","2. High income: nonOECD","5. Low income","3. Upper middle income","5. Low income","2. High income: nonOECD","4. Lower middle income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","2. High income: nonOECD","3. Upper middle income","5. Low income","4. Lower middle income","5. Low income","5. Low income","5. Low income","5. Low income","2. High income: nonOECD","5. Low income","3. Upper middle income","3. Upper middle income","5. Low income","3. Upper middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","1. High income: OECD","4. Lower middle income","3. Upper middle income","3. Upper middle income","5. Low income","4. Lower middle income","4. Lower middle income","3. Upper middle income","5. Low income","5. Low income","5. Low income","4. Lower middle income","5. Low income","1. High income: OECD","1. High income: OECD","3. Upper middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","4. Lower middle income","4. Lower middle income","5. Low income","2. High income: nonOECD","5. Low income","2. High income: nonOECD","3. Upper middle income","2. High income: nonOECD","2. High income: nonOECD","1. High income: OECD","4. Lower middle income","1. High income: OECD","5. Low income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","2. High income: nonOECD","1. High income: OECD","1. High income: OECD","3. Upper middle income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","3. Upper middle income","2. High income: nonOECD","3. Upper middle income","3. Upper middle income","5. Low income","4. Lower middle income","4. Lower middle income","2. High income: nonOECD","2. High income: nonOECD","4. Lower middle income","4. Lower middle income","4. Lower middle income","3. Upper middle income","3. Upper middle income","4. Lower middle income","4. Lower middle income","4. Lower middle income","3. Upper middle income","2. High income: nonOECD"],[270625568,31949777,18952038,11513100,32510453,44938712,67366465,1198575,1366417754,1405862845,13738606,6855713,112078730,11062113,10192317.3,52573973,18628747,58005463,17070135,5096159,67692632,581363,782766,51709098,25666161,36471769,603253,5047561,6545502,5380508,86790567,763092,44385155,9466856,2494530,58558270,17637435,4974986,33580650,18513930,9321018,2786844,211049527,3461734,3225167,144373535,10669709,83132799,1326590,1912789,5347896,10285453,5550198,96462106,16486542,619896,9770529,11484055,245246,2083459,2854191,10023318,1794248,83429615,47076781,7169455,6456900,2957731,5923456,6777452,11694719,19356544,9769949,5454073,37970874,4941444,10716322,17861030,7813215,12771246,4937374,4745185,42813238,973560,6081196,8877067,39309783,60297396,8574832,82913906,38019,25716544,6944975,19658031,16296364,200963599,11801151,31825295,4067500,2087946,2832067,34268528,2303697,14645468,216565318,6975761,69625582,33860,11263077,10738958,15946876,4207083,6453553,16604026,1293119,433285,38964,43053054,30366036,1148130,11530580,12626950,54045420,163046161,77142,38041754,622137,3301000,44269594,11333483,9746117,17373662,50339443,7044636,10269417,2657637,5942089,10101694,28608710,2125268,25876380,2172579,23310715,20321378,8082366,30417856,1920922,331595460,37589262,127575529,390353,4246439,28515829,8776109,100388073,29161922,4525696,1355986,2347706,825,326000,10000,4490,25368867,889953,4950828,26969307,108116615,21803000,389482,23568378,126264931,361313,97625,117606,58791,1394973,112003,110589,287025,182790,71808,97118,52834,2948279,1265711,850886,215056,549935,502653,5703569,104494,197097,669823,11646,530953,12581,113815,299882,18008,1641172],[1119190,364681,282318,40895,226848,445445,2863166,24948,2868929,14762473,410928,51991,95912,11998,4719,95503,7666,63177,98830,17836,2732886,3697,5173,1646739,40000,119700,907,61801,12520,12267,50400,2530,153781,63080,12366,351431,914392,76331,57921,181665,8116,54627,1839758,56045,13996,1699876,250680,3861123,31471,34102,403336,530883,225700,261921,27089,71104,421142,533097,500,12547,15279,48047,7926,761425,1393490,18173,8454,13672,356271,52091,38796,250077,163469,105079,595858,388698,209852,23309,4121,12296,3070,2220,30513,3324,2065,445075,234094,2003576,703082,453996,6876,58539,51475,17279,23578,448120,14390,88815,60752,54174,175837,792966,18340,21440,278221,68558,543548,1655,14332,88941,11314,134628,27022,76710,2017,13469,7188,171091,15291,4471,3012,10354,76085,302571,3154,19291,5542,20164,35165,100023,25095,107435,323615,38145,238785,11968,40761,44502,30641,2376,39007,16874,12911,15990,5490,66983,1339,21542705,1736425,1268870,1879,66800,482359,24829,303092,22581,7600,11026,1826,-99,3600,280,898,1396634,5496,207302,14114,376795,84008,13578,1127000,5081769,24188,1703,194,221,24269,1210,824,5209,2122,582,1661,1053,16458,14048,1165,418,1981,14989,372062,512,852,1589,47,5642,118,401,934,268,38574],[68.25,76.26000000000001,79.51900000000001,64.928,73.38500000000001,76.06399999999999,82.0585365853659,81.889,67.744,78.587,82.7,74.416,65.645,55.567,56.107,62.055,62.898,66.782,72.3,56.107,82.2292682926829,70.289,65.989,82.6804878048781,73.578,74.973,null,77.31999999999999,74.61499999999999,63.053,59.743,72.229,68.5879268292683,73.1114634146342,58.059,61.48,81.7146341463415,73.935,71.67400000000001,74.44,71.288,75.7926829268293,73.425,78,72.667,72.5456097560976,79.0292682926829,80.7056097560976,77.9439024390244,74.580487804878,82.5609756097561,83.109756097561,81.18780487804879,74.58,69.896,83.04634146341461,79.196,81.6975609756098,71.587,74.4248780487805,76.833,73.488,75.48219512195119,78.47499999999999,83.0829268292683,68.999,72.0487804878049,73.372,81.30487804878049,72.151,74.26300000000001,75.30487804878049,76.01707317073171,77.0658536585366,77.30487804878049,83.0560975609756,80.6365853658537,61.803,60.411,58.985,61.1,54.477,null,62.859,66.604,81.0926829268293,71.336,82.90000000000001,83.45365853658539,74.556,84.319512195122,58.916,75.48219512195119,59.417,67.913,53.633,59.954,61.929,77.57560975609761,81.28292682926831,81.559,77.905,65.913,59.391,66.431,74.3609756097561,79.68000000000001,null,63.728,74.17,52.997,80.264,71.47499999999999,68.67400000000001,69.056,74.551,null,77.129,59.625,56.36,61.977,67.129,67.256,73.69799999999999,null,62.879,76.18780487804879,75.29300000000001,63.638,78.155,70.72799999999999,77.89400000000001,73.65900000000001,70.47499999999999,null,68.621,69.41,74.215,70.48399999999999,53.036,60.958,65.694,62.08,59.766,61.588,63.945,59.861,77.4341463414634,81.2956097560976,74.83199999999999,70.962,76.82599999999999,71.105,null,70.15900000000001,63.72,64.691,61.19,62.906,null,81.889,81.889,null,83.2,68.312,82.7609756097561,65.23,72.187,76.61,74.358,null,83.99634146341459,82.1707317073171,73.8487804878049,67.661,65.146,74.708,75.33499999999999,68.97199999999999,77.706,71.294,72.98099999999999,79.236,72.027,70.629,73.51463414634151,63.68,68.794,74.72199999999999,82.7,82.89512195121949,71.27,72.598,70.742,64.854,80.839,64.014,70.925,70.492,null,79.246],[4135.566377822808,11414.19547310142,14896.44543768855,3552.040718833329,6977.694220378904,9912.277859676977,42501.35434596428,20814.71747700395,2099.598743943135,10500.64951392894,29910.45816438727,7583.602172377986,855.7555925196511,1084.602914470319,462.995789976044,1816.545232371919,411.5145264466794,1089.156033458435,5789.643725723317,3499.890800110436,40371.98612693919,6359.193825544453,6608.61611260581,31846.21398733353,1558.472262369117,3281.990517103791,1503.515108917817,12243.73514257678,1912.763910239428,2279.8962477149,580.708269828448,3315.458686501759,3464.694445699243,6663.247016749806,4957.246455244074,6001.389726848146,51843.81969373664,15342.95774902683,1724.832604490979,9812.341301927792,870.7203440654229,19601.74304697357,8717.18608495152,16189.86323039263,4339.620242920754,11774.15237494878,23494.5489141269,46445.2423886269,23723.23023692324,17828.41703920297,75419.56687265422,51614.93616275336,40665.21590761266,2715.273498175542,1643.097746028245,114703.1114896692,43103.29563527215,46420.6240739878,2038.769235787739,6022.196741092577,5353.180638576746,4793.522464317704,4417.449538748267,9126.555360467622,29600.36711091185,2534.781235114803,1309.297031083027,4622.46228612406,60145.80001944811,7685.926805531046,3317.394800165784,12919.50670532922,16731.81712616924,19266.15210320801,15692.5015737062,78660.81250743709,19582.46495392729,1305.019923263104,527.439728716028,962.7878125595576,621.788019299328,467.8426657759392,712.7001232656124,3414.273388389006,339.5713606336648,50137.61865264732,5955.107918046762,33228.23426736372,81993.67637756634,5475.510947463988,180856.9399510771,2276.31675547072,7411.833735902577,878.9791815874133,1446.825807278237,2229.856562232447,1219.372584928368,2790.704689461638,14935.9557467732,25946.07331798811,62087.86727150169,23139.77419747939,7961.116414181205,1463.934098930809,1284.69785729957,9828.031665649096,7806.728279844037,48877.73183697578,1272.476428954539,8282.088448432334,709.4806531385834,32000.31946125142,4187.150860928856,4619.963856958548,1559.794574203921,31085.77495182155,184477.9796735448,3973.957341098264,503.5560123817281,3894.158327018718,261.2184296019801,819.9921596268299,1407.797367473506,1855.738265435149,40885.63947006818,507.1006978279708,8908.005792936283,6108.451984247198,794.3375310828466,8825.442275777004,2574.871612971607,6183.785548492885,6428.656749340671,5414.758122350111,23252.05023810018,4503.248562538827,6859.708765721954,4405.399728006016,1071.037456774528,1117.976650474199,1507.436511598608,7766.806178279363,553.8654648731281,786.8560882042547,679.2565444326575,2202.094716997805,697.0610987848544,64966.82735041065,46194.70847818188,9946.029696651309,4813.591800242345,15730.82764170167,16915.48227477448,2829.158115515657,3019.203287227159,774.3316781383614,1679.29971434228,8131.352388593982,777.7805227741463,-120000,11042.94478527607,28000,200000,55053.06957539728,6175.607026438475,41872.18784413436,523.3356570860349,3485.079513449436,3853.047745723065,34861.68808828136,47818.30977082937,40246.87583284705,66944.72659439323,17444.30217669654,1649.57570191997,3759.07877056012,17397.46934170052,10803.28205494496,7451.012306829793,18148.24492640014,11608.95016138738,8104.946524064171,17102.90574352849,19930.34788204565,5582.239672703974,11098.90014387171,1369.161086208963,1943.679785730228,3602.243901552002,29819.77626712662,65233.18995527187,4899.802859494325,4322.744638426764,2372.268494811316,4035.720419027993,10626.17595154373,9379.222637310229,3523.261433027281,3114.558392967901,14882.27454464682,23503.93499279783]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>ADM0_ISO<\/th>\n      <th>NAME<\/th>\n      <th>CONTINENT<\/th>\n      <th>REGION_UN<\/th>\n      <th>SUBREGION<\/th>\n      <th>REGION_WB<\/th>\n      <th>ECONOMY<\/th>\n      <th>INCOME_GRP<\/th>\n      <th>POP_EST<\/th>\n      <th>GDP_MD<\/th>\n      <th>LIFE_EXPECTANCY<\/th>\n      <th>GDP_PC<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"language":{"url":"//cdn.datatables.net/plug-ins/1.10.11/i18n/Spanish.json"},"columnDefs":[{"className":"dt-right","targets":[9,10,11,12]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"ADM0_ISO","targets":1},{"name":"NAME","targets":2},{"name":"CONTINENT","targets":3},{"name":"REGION_UN","targets":4},{"name":"SUBREGION","targets":5},{"name":"REGION_WB","targets":6},{"name":"ECONOMY","targets":7},{"name":"INCOME_GRP","targets":8},{"name":"POP_EST","targets":9},{"name":"GDP_MD","targets":10},{"name":"LIFE_EXPECTANCY","targets":11},{"name":"GDP_PC","targets":12}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>DT es un “envoltorio” (<em>wrapper</em>) de la biblioteca <a href="https://datatables.net/">DataTables</a> de <a href="https://es.wikipedia.org/wiki/JavaScript">JavaScript</a>, un lenguaje ampliamente utilizado en el desarrollo de páginas web interactivas.</p>
</section>
</section>
<section id="paquetes-de-graficación" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="paquetes-de-graficación"><span class="header-section-number">9.3</span> Paquetes de graficación</h2>
<p>Se introducen los paquetes de graficación estadística ggplot2 y plotly. Se utiliza ggplot2 para elaborar los gráficos y plotly para hacerlos interactivos.</p>
<section id="ggplot2" class="level3" data-number="9.3.1">
<h3 data-number="9.3.1" class="anchored" data-anchor-id="ggplot2"><span class="header-section-number">9.3.1</span> ggplot2</h3>
<p><a href="https://ggplot2.tidyverse.org/">ggplot2</a> es un sistema para la creación declarativa de gráficos, creado por Hadley Wickham en 2005. Está basado en el libro <a href="https://www.springer.com/gp/book/9780387245447"><em>The Grammar of Graphics</em>, de Leland Wilkinson</a>, un esquema general para visualización de datos que descompone un gráfico en sus principales componentes semánticos, tales como capas y geometrías.</p>
<section id="principales-componentes-de-un-gráfico" class="level4" data-number="9.3.1.1">
<h4 data-number="9.3.1.1" class="anchored" data-anchor-id="principales-componentes-de-un-gráfico"><span class="header-section-number">9.3.1.1</span> Principales componentes de un gráfico</h4>
<p>De acuerdo con <em>The Grammar of Graphics</em>, los tres principales componentes de un gráfico son:</p>
<ol type="1">
<li>Datos (observaciones y variables).</li>
<li>Conjunto de mapeos de las variables del conjunto de datos a propiedades visuales (<em>aesthetics</em>) del gráfico, tales como posición en el eje x, posición en el eje y, color, tamaño y forma, entre otras.</li>
<li>Al menos una capa, la cual describe como graficar cada observación. Por lo general, las capas se crean con funciones de geometrías (ej. puntos, líneas, barras).</li>
</ol>
</section>
<section id="opciones-básicas" class="level4" data-number="9.3.1.2">
<h4 data-number="9.3.1.2" class="anchored" data-anchor-id="opciones-básicas"><span class="header-section-number">9.3.1.2</span> Opciones básicas</h4>
<p>ggplot2 implementa un gráfico estadístico por medio de la función <a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a>, cuya sintaxis básica puede resumirse de la siguiente forma:</p>
<pre><code>ggplot(data = &lt;DATOS&gt;) + 
    &lt;FUNCION_GEOMETRIA&gt;(mapping = aes(&lt;MAPEOS&gt;))</code></pre>
<p>El llamado a <code>ggplot()</code> crea un sistema de coordenadas (i.e.&nbsp;un “canvas”), al cual se le agregan capas. Su primer argumento es <code>&lt;DATOS&gt;</code>, el cual es usualmente un dataframe o un tibble.</p>
<p>La función <a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a> realiza los mapeos (<code>&lt;MAPEOS&gt;</code>) de las variables del conjunto de datos a las propiedades visuales del gráfico. Las capas se crean con funciones de geometrías (<code>&lt;FUNCION_GEOMETRIA&gt;</code>) como <a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a>, <a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a> o <a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a>, entre muchas otras. Note el uso del operador <code>+</code> para agregar las capas al gráfico.</p>
<p>Como ejemplo, seguidamente se crea un <a href="https://es.wikipedia.org/wiki/Diagrama_de_dispersi%C3%B3n">gráfico de dispersión</a> que muestra la variable producto interno bruto (PIB) per cápita (<code>GDP_PC</code>) en el eje X, y la variable esperanza de vida al nacer (<code>LIFE_EXPECTANCY</code>) en el eje Y.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> paises) <span class="sc">+</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-basico-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El bloque de código anterior puede reescribirse mediante un <em>pipe</em>, para pasar el conjunto de datos a <code>ggplot()</code>. También puede llamarse a <code>aes()</code> como un argumento de <code>ggplot()</code> y no de la función de geometría. Esto último acostumbra hacerse cuando los mapeos de las variables a las propiedades estéticas son los mismos en todas las capas del gráfico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-pipe-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La función <code>scale_x_continuous()</code> permite usar comas como separadores de miles y establecer los límites del eje X. También evita la notación científica.</p>
<p>El gráfico muestra una relación positiva entre el PIB per cápita y la esperanza de vida al nacer. En otras palabras, mientras mayor es el PIB per cápita de un país, mayor es la esperanza de vida al nacer de sus habitantes.</p>
</section>
<section id="variables-adicionales" class="level4" data-number="9.3.1.3">
<h4 data-number="9.3.1.3" class="anchored" data-anchor-id="variables-adicionales"><span class="header-section-number">9.3.1.3</span> Variables adicionales</h4>
<p>Se pueden incluir variables adicionales en el gráfico mediante su mapeo a otras propiedades visuales. En el siguiente bloque de código, la variable correspondiente al continente (<code>CONTINENT</code>), se mapea a la propiedad <code>color</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># coloreado por continente</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-color-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La misma variable puede mapearse a la propiedad visual <code>shape</code> (forma).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con formas de puntos correspondientes al continente</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">shape =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-shape-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Los últimos continentes de la leyenda no se incluyen en el gráfico debido a que <code>ggplot()</code> solo muestra, por defecto, seis formas diferentes cuando se asignan de manera automática. Esto puede solucionarse si se asigna explícitamente una forma a cada categoría. En el siguiente bloque de código, se asignan manualmente tanto formas como colores a cada continente, mediante las funciones <a href="https://ggplot2.tidyverse.org/reference/scale_shape.html">scale_shape_manual()</a> y <a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con formas y colores correspondientes al continente</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">shape =</span> CONTINENT, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"purple"</span>, <span class="st">"orange"</span>, <span class="st">"brown"</span>, <span class="st">"pink"</span>, <span class="st">"yellow"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-shape-color-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El siguiente bloque de código mapea la variable de la cilindrada con la propiedad visual tamaño (<code>size</code>) y compara el rendimiento en autopista de los automóviles con el rendimiento en ciudad.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># con tamaño de puntos correspondiente a la población</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">size =</span> POP_EST, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-size-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La función <code>scale_size_continuous()</code> permite usar comas como separadores de miles y evitar la notación científica en la leyenda del gráfico.</p>
</section>
<section id="capas-adicionales" class="level4" data-number="9.3.1.4">
<h4 data-number="9.3.1.4" class="anchored" data-anchor-id="capas-adicionales"><span class="header-section-number">9.3.1.4</span> Capas adicionales</h4>
<p>Un mismo gráfico puede contener múltiples capas, cada una con su propia función de geometría. El siguiente bloque de código agrega una capa con la función <a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a>, la cual muestra una curva de tendencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'lm'</span>) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-smooth-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Ejercicios</strong><br>
1. Revise la documentación de <code>geom_smooth()</code> para agregar otros tipos de curvas de tendencia al gráfico.</p>
<p>En el siguiente ejemplo, se mapea la variable continente (<code>CONTINENT</code>) a la propiedad visual del color, tanto para la capa de puntos como para la de la curva de tendencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-smooth-drv-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="paneles" class="level4" data-number="9.3.1.5">
<h4 data-number="9.3.1.5" class="anchored" data-anchor-id="paneles"><span class="header-section-number">9.3.1.5</span> Paneles</h4>
<p>Como se mostró anteriormente, una forma de mostrar variables adicionales en un gráfico es mediante propiedades visuales (color, forma, tamaño, etc.). Otra forma es mediante el uso de paneles (<em>facets</em>), los cuales dividen un gráfico en subgráficos, de acuerdo con los valores de una variable. Este método es particularmente apropiado cuando la variable adicional es categórica.</p>
<p>La función <a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap()</a> divide un gráfico en paneles de acuerdo con una sola variable. El primer argumento es una <a href="https://www.datacamp.com/tutorial/r-formula-tutorial">fórmula</a>, la cual se crea con el caracter <code>~</code> (tilde) seguido por el nombre de la variable.</p>
<p>En el siguiente bloque de código, se generan paneles para cada continente con el gráfico de dispersión de PIB per cápita vs esperanza vida. Es decir, un panel (subgráfico) por cada continente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + paneles por continente</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> CONTINENT, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-facet_wrap-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>La función <a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid()</a> genera paneles con la combinación de dos variables. El primer argumento es también una fórmula, la cual contiene dos variables separadas por <code>~</code>.</p>
<p>En el siguiente bloque de código, se generan paneles para el gráfico anterior, organizados por región de la ONU y grupo de ingresos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + paneles por región y subregión de la ONU</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(REGION_UN <span class="sc">~</span> INCOME_GRP) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-facet_grid-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="títulos-etiquetas-estilos-y-colores" class="level4" data-number="9.3.1.6">
<h4 data-number="9.3.1.6" class="anchored" data-anchor-id="títulos-etiquetas-estilos-y-colores"><span class="header-section-number">9.3.1.6</span> Títulos, etiquetas, estilos y colores</h4>
<section id="titulos-subtítulos-y-etiquetas" class="level5" data-number="9.3.1.6.1">
<h5 data-number="9.3.1.6.1" class="anchored" data-anchor-id="titulos-subtítulos-y-etiquetas"><span class="header-section-number">9.3.1.6.1</span> Titulos, subtítulos y etiquetas</h5>
<p>ggplot2 incluye las funciones <a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle()</a>, <a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab()</a>, <a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab()</a> y <a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a>, las cuales permiten agregar títulos, subtítulos, etiquetas en los ejes y de otros tipos a un gráfico.</p>
<p>Algunas de las opciones que ofrecen estas funciones se ilustran en el siguiente gráfico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-etiquetas-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El títulos y las etiquetas de los ejes se pueden agregar también mediante argumentos de <code>labs()</code>.</p>
</section>
<section id="estilos" class="level5" data-number="9.3.1.6.2">
<h5 data-number="9.3.1.6.2" class="anchored" data-anchor-id="estilos"><span class="header-section-number">9.3.1.6.2</span> Estilos</h5>
<p>ggplot2 incluye un conjunto de <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">estilos</a> (<em>themes</em>) que pueden ayudar a mejorar el aspecto visual de los gráficos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="co"># tema de ggplot2</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-etiquetas-estilo-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Ejercicios</strong><br>
1. Revise la documentación de estilos de ggplot2 y pruebe diferentes opciones en el gráfico anterior.</p>
<p>Existen paquetes que ofrecen estilos adicionales como, por ejemplo, <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">ggthemes</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de ggthemes</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggthemes"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de ggthemes</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>() <span class="co"># estilo de ggthemes</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-ggthemes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Otro paquete de estilos y recursos relacionados (escalas de colores, fuentes, etc.) es <a href="https://github.com/hrbrmstr/hrbrthemes">hrbrthemes</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalación de hbrthemes</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"hrbrthemes"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga de hbrthemes</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en África y Europa coloreado por continente</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># + curva de tendencia</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CONTINENT <span class="sc">==</span> <span class="st">'Africa'</span> <span class="sc">|</span> CONTINENT <span class="sc">==</span> <span class="st">'Europe'</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de África y Europa"</span>, </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="co"># tema de hrbrthemes</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion-paises-hbrthemes-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="colores" class="level5" data-number="9.3.1.6.3">
<h5 data-number="9.3.1.6.3" class="anchored" data-anchor-id="colores"><span class="header-section-number">9.3.1.6.3</span> Colores</h5>
<p>ggplot2 incluye múltiples funciones para escalas de colores, entre las que pueden mencionarse:</p>
<ul>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer()</a>: para escalas de colores secuenciales, divergentes y cualitativas de <a href="https://colorbrewer2.org/">ColorBrewer</a>.</li>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_color_viridis_d()</a>: para escalas <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">viridis</a>, diseñadas para mejorar la legibilidad de gráficos para lectores con formas comunes de daltonismo y discapacidades relacionadas con la percepción de colores.</li>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a>: para especificar directamente los colores a utilizar.</li>
</ul>
<p>El siguiente bloque de código genera un gráfico de dispersión para los datos de diamonds. Muestra el peso en quilates (<code>carat</code>) de los diamantes en el eje X y su precio (<code>price</code>) en el eje Y. La variable correspondiente a su claridad (<code>clarity</code>) se muestra mediante el color de los puntos, de acuerdo con una escala de ColorBrewer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  coloreado por continente</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Población estimada"</span>) <span class="sc">+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrBr"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="co"># estilo de hrbrthemes</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-dispersion--scale_color-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Para más información sobre etiquetas, estilos, colores y otros temas relacionados en ggplot2, se recomienda leer <a href="https://ggplot2-book.org/themes.html">ggplot2: Elegant Graphics for Data Analysis - Themes</a>.</p>
</section>
</section>
<section id="opciones-avanzadas" class="level4" data-number="9.3.1.7">
<h4 data-number="9.3.1.7" class="anchored" data-anchor-id="opciones-avanzadas"><span class="header-section-number">9.3.1.7</span> Opciones avanzadas</h4>
<p>En las secciones y ejemplos anteriores, se han estudiado las opciones básicas para crear un gráfico en ggplot2: datos, mapeos de variables a propiedades visuales y capas. También se mostró la forma de implementar paneles, como un mecanismo para visualizar variables adicionales y algunos recursos para mejorar la apariencia de los gráficos.</p>
<p>ggplot2 incluye otras opciones para la creación de gráficos, como transformaciones estadísticas, transformaciones de sistemas de coordenadas y posicionamiento de las geometrías, las cuales pueden esquematizarse de la siguiente forma:</p>
<pre><code>ggplot(data = &lt;DATOS&gt;) + 
  &lt;FUNCION_GEOMETRIA&gt;(
    mapping = aes(&lt;MAPEOS&gt;),
    stat = &lt;ESTADISTICA&gt;,
    position = &lt;POSICION&gt;
  ) +
  &lt;FUNCION_COORDENADAS&gt; +
  &lt;FUNCION_FACET&gt;</code></pre>
<p>En las secciones siguientes, se explicarán y ejemplificarán alguna de estas opciones.</p>
</section>
</section>
<section id="plotly" class="level3" data-number="9.3.2">
<h3 data-number="9.3.2" class="anchored" data-anchor-id="plotly"><span class="header-section-number">9.3.2</span> plotly</h3>
<p><a href="https://plotly.com/r/">plotly R</a> es una biblioteca para gráficos interactivos que forma parte del <a href="https://plotly.com/graphing-libraries/">grupo de bibliotecas de graficación de Plotly</a>, el cual también incluye bibliotecas para otros lenguajes como Python, Julia, F# y MATLAB. Plotly fue originalmente escrita en JavaScript, por lo que es particularmente adecuada para gráficos interactivos en la Web.</p>
<p>plotly implementa la función <a href="https://rdrr.io/cran/plotly/man/ggplotly.html">ggplotly()</a>, la cual convierte graficos de ggplot2 a plotly, haciéndolos interactivos.</p>
<p>El siguiente bloque de código muestra un gráfico generado con ggplot2 y convertido a plotly con la función <code>ggplotly()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión de PIB per cápita vs esperanza de vida al nacer</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>grafico_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># datos que se muestran al colocar el ratón sobre un punto</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"PIB per cápita: "</span>, GDP_PC, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Esperanza de vida: "</span>, LIFE_EXPECTANCY</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer por continente"</span>) <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita  (USD)"</span>) <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>,</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Población estimada"</span>) <span class="sc">+</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="co"># estilo de hrbrthemes</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico plotly</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>) <span class="co"># para mostrar los controles en español</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-89568a10dc933e42856a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-89568a10dc933e42856a">{"x":{"data":[{"x":[855.75559251965115,1084.6029144703186,462.99578997604402,1816.5452323719192,411.51452644667944,1089.1560334584349,3499.890800110436,3281.9905171037908,1503.5151089178171,2279.8962477148998,580.70826982844801,4957.2464552440742,6001.389726848146,7685.9268055310458,3317.3948001657841,1305.0199232631039,527.43972871602796,962.78781255955755,621.78801929932797,467.84266577593922,712.70012326561243,3414.2733883890055,339.57136063366482,2276.3167554707197,878.97918158741334,1446.8258072782371,2229.8565622324468,1219.3725849283685,2790.7046894616378,7961.1164141812051,1463.9340989308091,709.48065313858342,3973.9573410982639,503.55601238172807,3894.1583270187175,261.21842960198012,819.9921596268299,794.33753108284657,1117.976650474199,1507.4365115986084,7766.8061782793629,553.86546487312808,786.85608820425466,679.25654443265751,2202.0947169978053,697.06109878485438,3019.2032872271589,1679.2997143422799,8131.3523885939821,777.78052277414633,523.33565708603487,1369.1610862089633,1943.6797857302283,3602.2439015520017],"y":[65.644999999999996,55.567,56.106999999999999,62.055,62.898000000000003,66.781999999999996,56.106999999999999,74.972999999999999,null,63.052999999999997,59.743000000000002,58.058999999999997,61.479999999999997,72.150999999999996,74.263000000000005,61.802999999999997,60.411000000000001,58.984999999999999,61.100000000000001,54.476999999999997,null,62.859000000000002,66.603999999999999,58.915999999999997,59.417000000000002,67.912999999999997,53.633000000000003,59.954000000000001,61.929000000000002,65.912999999999997,59.390999999999998,52.997,77.129000000000005,59.625,56.359999999999999,61.976999999999997,67.129000000000005,63.637999999999998,53.036000000000001,60.957999999999998,65.694000000000003,62.079999999999998,59.765999999999998,61.588000000000001,63.945,59.860999999999997,70.159000000000006,64.691000000000003,61.189999999999998,62.905999999999999,65.230000000000004,63.68,68.793999999999997,74.721999999999994],"text":["PIB per cápita: 855.755592519651<br />Esperanza de vida: 65.645","PIB per cápita: 1084.60291447032<br />Esperanza de vida: 55.567","PIB per cápita: 462.995789976044<br />Esperanza de vida: 56.107","PIB per cápita: 1816.54523237192<br />Esperanza de vida: 62.055","PIB per cápita: 411.514526446679<br />Esperanza de vida: 62.898","PIB per cápita: 1089.15603345843<br />Esperanza de vida: 66.782","PIB per cápita: 3499.89080011044<br />Esperanza de vida: 56.107","PIB per cápita: 3281.99051710379<br />Esperanza de vida: 74.973","PIB per cápita: 1503.51510891782<br />Esperanza de vida: NA","PIB per cápita: 2279.8962477149<br />Esperanza de vida: 63.053","PIB per cápita: 580.708269828448<br />Esperanza de vida: 59.743","PIB per cápita: 4957.24645524407<br />Esperanza de vida: 58.059","PIB per cápita: 6001.38972684815<br />Esperanza de vida: 61.48","PIB per cápita: 7685.92680553105<br />Esperanza de vida: 72.151","PIB per cápita: 3317.39480016578<br />Esperanza de vida: 74.263","PIB per cápita: 1305.0199232631<br />Esperanza de vida: 61.803","PIB per cápita: 527.439728716028<br />Esperanza de vida: 60.411","PIB per cápita: 962.787812559558<br />Esperanza de vida: 58.985","PIB per cápita: 621.788019299328<br />Esperanza de vida: 61.1","PIB per cápita: 467.842665775939<br />Esperanza de vida: 54.477","PIB per cápita: 712.700123265612<br />Esperanza de vida: NA","PIB per cápita: 3414.27338838901<br />Esperanza de vida: 62.859","PIB per cápita: 339.571360633665<br />Esperanza de vida: 66.604","PIB per cápita: 2276.31675547072<br />Esperanza de vida: 58.916","PIB per cápita: 878.979181587413<br />Esperanza de vida: 59.417","PIB per cápita: 1446.82580727824<br />Esperanza de vida: 67.913","PIB per cápita: 2229.85656223245<br />Esperanza de vida: 53.633","PIB per cápita: 1219.37258492837<br />Esperanza de vida: 59.954","PIB per cápita: 2790.70468946164<br />Esperanza de vida: 61.929","PIB per cápita: 7961.11641418121<br />Esperanza de vida: 65.913","PIB per cápita: 1463.93409893081<br />Esperanza de vida: 59.391","PIB per cápita: 709.480653138583<br />Esperanza de vida: 52.997","PIB per cápita: 3973.95734109826<br />Esperanza de vida: 77.129","PIB per cápita: 503.556012381728<br />Esperanza de vida: 59.625","PIB per cápita: 3894.15832701872<br />Esperanza de vida: 56.36","PIB per cápita: 261.21842960198<br />Esperanza de vida: 61.977","PIB per cápita: 819.99215962683<br />Esperanza de vida: 67.129","PIB per cápita: 794.337531082847<br />Esperanza de vida: 63.638","PIB per cápita: 1117.9766504742<br />Esperanza de vida: 53.036","PIB per cápita: 1507.43651159861<br />Esperanza de vida: 60.958","PIB per cápita: 7766.80617827936<br />Esperanza de vida: 65.694","PIB per cápita: 553.865464873128<br />Esperanza de vida: 62.08","PIB per cápita: 786.856088204255<br />Esperanza de vida: 59.766","PIB per cápita: 679.256544432658<br />Esperanza de vida: 61.588","PIB per cápita: 2202.09471699781<br />Esperanza de vida: 63.945","PIB per cápita: 697.061098784854<br />Esperanza de vida: 59.861","PIB per cápita: 3019.20328722716<br />Esperanza de vida: 70.159","PIB per cápita: 1679.29971434228<br />Esperanza de vida: 64.691","PIB per cápita: 8131.35238859398<br />Esperanza de vida: 61.19","PIB per cápita: 777.780522774146<br />Esperanza de vida: 62.906","PIB per cápita: 523.335657086035<br />Esperanza de vida: 65.23","PIB per cápita: 1369.16108620896<br />Esperanza de vida: 63.68","PIB per cápita: 1943.67978573023<br />Esperanza de vida: 68.794","PIB per cápita: 3602.243901552<br />Esperanza de vida: 74.722"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Africa","legendgroup":"Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[200000],"y":[null],"text":"PIB per cápita: 2e+05<br />Esperanza de vida: NA","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(205,150,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(205,150,0,1)"}},"hoveron":"points","name":"Antarctica","legendgroup":"Antarctica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4135.5663778228081,11414.195473101425,20814.717477003946,2099.5987439431351,10500.649513928936,29910.458164387273,7583.6021723779859,5789.6437257233174,31846.213987333525,1558.4722623691171,3315.4586865017586,15342.957749026831,1724.8326044909793,9812.3413019277923,870.72034406542286,4339.6202429207542,2715.2734981755425,1643.0977460282454,43103.295635272152,2038.7692357877395,4793.5224643177044,9126.5553604676224,2534.7812351148032,1309.2970310830274,4622.4622861240596,5955.1079180467623,5475.5109474639876,62087.867271501695,23139.77419747939,1284.6978572995699,7806.7282798440374,32000.31946125142,1559.794574203921,31085.77495182155,1407.7973674735065,1855.7382654351488,507.10069782797081,6859.7087657219536,4405.3997280060157,1071.0374567745278,774.33167813836144,11042.944785276071,28000,3485.079513449436,3853.0477457230654,47818.309770829372,40246.87583284705,65233.189955271868,23503.934992797829],"y":[68.25,76.260000000000005,81.888999999999996,67.744,78.587000000000003,82.700000000000003,74.415999999999997,72.299999999999997,82.680487804878098,73.578000000000003,72.228999999999999,73.935000000000002,71.674000000000007,74.439999999999998,71.287999999999997,72.667000000000002,74.579999999999998,69.896000000000001,79.195999999999998,71.587000000000003,73.488,78.474999999999994,68.998999999999995,72.048780487804905,73.372,71.335999999999999,74.555999999999997,81.558999999999997,77.905000000000001,66.430999999999997,79.680000000000007,80.263999999999996,69.055999999999997,74.551000000000002,67.256,73.697999999999993,62.878999999999998,69.409999999999997,74.215000000000003,70.483999999999995,63.719999999999999,81.888999999999996,81.888999999999996,72.186999999999998,76.609999999999999,null,83.996341463414595,82.895121951219494,79.245999999999995],"text":["PIB per cápita: 4135.56637782281<br />Esperanza de vida: 68.25","PIB per cápita: 11414.1954731014<br />Esperanza de vida: 76.26","PIB per cápita: 20814.7174770039<br />Esperanza de vida: 81.889","PIB per cápita: 2099.59874394314<br />Esperanza de vida: 67.744","PIB per cápita: 10500.6495139289<br />Esperanza de vida: 78.587","PIB per cápita: 29910.4581643873<br />Esperanza de vida: 82.7","PIB per cápita: 7583.60217237799<br />Esperanza de vida: 74.416","PIB per cápita: 5789.64372572332<br />Esperanza de vida: 72.3","PIB per cápita: 31846.2139873335<br />Esperanza de vida: 82.6804878048781","PIB per cápita: 1558.47226236912<br />Esperanza de vida: 73.578","PIB per cápita: 3315.45868650176<br />Esperanza de vida: 72.229","PIB per cápita: 15342.9577490268<br />Esperanza de vida: 73.935","PIB per cápita: 1724.83260449098<br />Esperanza de vida: 71.674","PIB per cápita: 9812.34130192779<br />Esperanza de vida: 74.44","PIB per cápita: 870.720344065423<br />Esperanza de vida: 71.288","PIB per cápita: 4339.62024292075<br />Esperanza de vida: 72.667","PIB per cápita: 2715.27349817554<br />Esperanza de vida: 74.58","PIB per cápita: 1643.09774602825<br />Esperanza de vida: 69.896","PIB per cápita: 43103.2956352722<br />Esperanza de vida: 79.196","PIB per cápita: 2038.76923578774<br />Esperanza de vida: 71.587","PIB per cápita: 4793.5224643177<br />Esperanza de vida: 73.488","PIB per cápita: 9126.55536046762<br />Esperanza de vida: 78.475","PIB per cápita: 2534.7812351148<br />Esperanza de vida: 68.999","PIB per cápita: 1309.29703108303<br />Esperanza de vida: 72.0487804878049","PIB per cápita: 4622.46228612406<br />Esperanza de vida: 73.372","PIB per cápita: 5955.10791804676<br />Esperanza de vida: 71.336","PIB per cápita: 5475.51094746399<br />Esperanza de vida: 74.556","PIB per cápita: 62087.8672715017<br />Esperanza de vida: 81.559","PIB per cápita: 23139.7741974794<br />Esperanza de vida: 77.905","PIB per cápita: 1284.69785729957<br />Esperanza de vida: 66.431","PIB per cápita: 7806.72827984404<br />Esperanza de vida: 79.68","PIB per cápita: 32000.3194612514<br />Esperanza de vida: 80.264","PIB per cápita: 1559.79457420392<br />Esperanza de vida: 69.056","PIB per cápita: 31085.7749518215<br />Esperanza de vida: 74.551","PIB per cápita: 1407.79736747351<br />Esperanza de vida: 67.256","PIB per cápita: 1855.73826543515<br />Esperanza de vida: 73.698","PIB per cápita: 507.100697827971<br />Esperanza de vida: 62.879","PIB per cápita: 6859.70876572195<br />Esperanza de vida: 69.41","PIB per cápita: 4405.39972800602<br />Esperanza de vida: 74.215","PIB per cápita: 1071.03745677453<br />Esperanza de vida: 70.484","PIB per cápita: 774.331678138361<br />Esperanza de vida: 63.72","PIB per cápita: 11042.9447852761<br />Esperanza de vida: 81.889","PIB per cápita: 28000<br />Esperanza de vida: 81.889","PIB per cápita: 3485.07951344944<br />Esperanza de vida: 72.187","PIB per cápita: 3853.04774572307<br />Esperanza de vida: 76.61","PIB per cápita: 47818.3097708294<br />Esperanza de vida: NA","PIB per cápita: 40246.8758328471<br />Esperanza de vida: 83.9963414634146","PIB per cápita: 65233.1899552719<br />Esperanza de vida: 82.8951219512195","PIB per cápita: 23503.9349927978<br />Esperanza de vida: 79.246"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"Asia","legendgroup":"Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[42501.354345964275,40371.986126939191,3464.6944456992433,6663.2470167498059,51843.819693736645,19601.743046973566,11774.152374948775,23494.548914126899,46445.242388626903,23723.230236923238,17828.417039202966,75419.566872654221,51614.936162753358,40665.215907612663,114703.11148966925,46420.624073987805,6022.1967410925772,5353.1806385767459,4417.4495387482666,29600.367110911851,60145.800019448106,12919.506705329217,16731.817126169237,19266.152103208005,15692.501573706204,78660.812507437091,19582.46495392729,50137.618652647325,33228.234267363718,81993.676377566342,180856.9399510771,7411.8337359025772,14935.955746773205,25946.07331798811,9828.0316656490959,48877.731836975785,184477.97967354479,40885.639470068185,8908.0057929362829,6108.4519842471982,23252.050238100175,4503.2485625388272,null,66944.726594393229,29819.776267126625],"y":[82.0585365853659,82.229268292682903,68.587926829268298,73.111463414634201,81.714634146341496,75.792682926829301,72.545609756097605,79.0292682926829,80.705609756097601,77.943902439024399,74.580487804878004,82.560975609756099,83.109756097561004,81.187804878048794,83.046341463414606,81.697560975609804,74.424878048780499,76.832999999999998,75.482195121951193,83.082926829268303,81.304878048780495,75.304878048780495,76.017073170731706,77.065853658536597,77.304878048780495,83.056097560975601,80.636585365853705,81.092682926829298,82.900000000000006,83.453658536585394,84.319512195122002,75.482195121951193,77.575609756097606,81.282926829268305,74.360975609756096,null,null,null,76.187804878048794,75.293000000000006,null,68.620999999999995,null,82.170731707317103,82.700000000000003],"text":["PIB per cápita: 42501.3543459643<br />Esperanza de vida: 82.0585365853659","PIB per cápita: 40371.9861269392<br />Esperanza de vida: 82.2292682926829","PIB per cápita: 3464.69444569924<br />Esperanza de vida: 68.5879268292683","PIB per cápita: 6663.24701674981<br />Esperanza de vida: 73.1114634146342","PIB per cápita: 51843.8196937366<br />Esperanza de vida: 81.7146341463415","PIB per cápita: 19601.7430469736<br />Esperanza de vida: 75.7926829268293","PIB per cápita: 11774.1523749488<br />Esperanza de vida: 72.5456097560976","PIB per cápita: 23494.5489141269<br />Esperanza de vida: 79.0292682926829","PIB per cápita: 46445.2423886269<br />Esperanza de vida: 80.7056097560976","PIB per cápita: 23723.2302369232<br />Esperanza de vida: 77.9439024390244","PIB per cápita: 17828.417039203<br />Esperanza de vida: 74.580487804878","PIB per cápita: 75419.5668726542<br />Esperanza de vida: 82.5609756097561","PIB per cápita: 51614.9361627534<br />Esperanza de vida: 83.109756097561","PIB per cápita: 40665.2159076127<br />Esperanza de vida: 81.1878048780488","PIB per cápita: 114703.111489669<br />Esperanza de vida: 83.0463414634146","PIB per cápita: 46420.6240739878<br />Esperanza de vida: 81.6975609756098","PIB per cápita: 6022.19674109258<br />Esperanza de vida: 74.4248780487805","PIB per cápita: 5353.18063857675<br />Esperanza de vida: 76.833","PIB per cápita: 4417.44953874827<br />Esperanza de vida: 75.4821951219512","PIB per cápita: 29600.3671109119<br />Esperanza de vida: 83.0829268292683","PIB per cápita: 60145.8000194481<br />Esperanza de vida: 81.3048780487805","PIB per cápita: 12919.5067053292<br />Esperanza de vida: 75.3048780487805","PIB per cápita: 16731.8171261692<br />Esperanza de vida: 76.0170731707317","PIB per cápita: 19266.152103208<br />Esperanza de vida: 77.0658536585366","PIB per cápita: 15692.5015737062<br />Esperanza de vida: 77.3048780487805","PIB per cápita: 78660.8125074371<br />Esperanza de vida: 83.0560975609756","PIB per cápita: 19582.4649539273<br />Esperanza de vida: 80.6365853658537","PIB per cápita: 50137.6186526473<br />Esperanza de vida: 81.0926829268293","PIB per cápita: 33228.2342673637<br />Esperanza de vida: 82.9","PIB per cápita: 81993.6763775663<br />Esperanza de vida: 83.4536585365854","PIB per cápita: 180856.939951077<br />Esperanza de vida: 84.319512195122","PIB per cápita: 7411.83373590258<br />Esperanza de vida: 75.4821951219512","PIB per cápita: 14935.9557467732<br />Esperanza de vida: 77.5756097560976","PIB per cápita: 25946.0733179881<br />Esperanza de vida: 81.2829268292683","PIB per cápita: 9828.0316656491<br />Esperanza de vida: 74.3609756097561","PIB per cápita: 48877.7318369758<br />Esperanza de vida: NA","PIB per cápita: 184477.979673545<br />Esperanza de vida: NA","PIB per cápita: 40885.6394700682<br />Esperanza de vida: NA","PIB per cápita: 8908.00579293628<br />Esperanza de vida: 76.1878048780488","PIB per cápita: 6108.4519842472<br />Esperanza de vida: 75.293","PIB per cápita: 23252.0502381002<br />Esperanza de vida: NA","PIB per cápita: 4503.24856253883<br />Esperanza de vida: 68.621","PIB per cápita: -120000<br />Esperanza de vida: NA","PIB per cápita: 66944.7265943932<br />Esperanza de vida: 82.1707317073171","PIB per cápita: 29819.7762671266<br />Esperanza de vida: 82.7"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,190,103,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,190,103,1)"}},"hoveron":"points","name":"Europe","legendgroup":"Europe","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12243.735142576779,1912.7639102394285,1272.4764289545387,8282.0884484323342,4187.1508609288558,4619.9638569585477,8825.4422757770044,2574.8716129716072,64966.827350410647,46194.708478181878,9946.0296966513088,4813.591800242345,15730.827641701671,34861.688088281357,17397.469341700522,10803.282054944955,7451.0123068297935,18148.244926400141,11608.950161387384,8104.9465240641712,17102.905743528492,19930.347882045651,5582.2396727039741],"y":[77.319999999999993,74.614999999999995,63.728000000000002,74.170000000000002,71.474999999999994,68.674000000000007,78.155000000000001,70.727999999999994,77.434146341463403,81.295609756097605,74.831999999999994,70.962000000000003,76.825999999999993,74.358000000000004,74.707999999999998,75.334999999999994,68.971999999999994,77.706000000000003,71.293999999999997,72.980999999999995,79.236000000000004,72.027000000000001,70.629000000000005],"text":["PIB per cápita: 12243.7351425768<br />Esperanza de vida: 77.32","PIB per cápita: 1912.76391023943<br />Esperanza de vida: 74.615","PIB per cápita: 1272.47642895454<br />Esperanza de vida: 63.728","PIB per cápita: 8282.08844843233<br />Esperanza de vida: 74.17","PIB per cápita: 4187.15086092886<br />Esperanza de vida: 71.475","PIB per cápita: 4619.96385695855<br />Esperanza de vida: 68.674","PIB per cápita: 8825.442275777<br />Esperanza de vida: 78.155","PIB per cápita: 2574.87161297161<br />Esperanza de vida: 70.728","PIB per cápita: 64966.8273504106<br />Esperanza de vida: 77.4341463414634","PIB per cápita: 46194.7084781819<br />Esperanza de vida: 81.2956097560976","PIB per cápita: 9946.02969665131<br />Esperanza de vida: 74.832","PIB per cápita: 4813.59180024235<br />Esperanza de vida: 70.962","PIB per cápita: 15730.8276417017<br />Esperanza de vida: 76.826","PIB per cápita: 34861.6880882814<br />Esperanza de vida: 74.358","PIB per cápita: 17397.4693417005<br />Esperanza de vida: 74.708","PIB per cápita: 10803.282054945<br />Esperanza de vida: 75.335","PIB per cápita: 7451.01230682979<br />Esperanza de vida: 68.972","PIB per cápita: 18148.2449264001<br />Esperanza de vida: 77.706","PIB per cápita: 11608.9501613874<br />Esperanza de vida: 71.294","PIB per cápita: 8104.94652406417<br />Esperanza de vida: 72.981","PIB per cápita: 17102.9057435285<br />Esperanza de vida: 79.236","PIB per cápita: 19930.3478820457<br />Esperanza de vida: 72.027","PIB per cápita: 5582.23967270397<br />Esperanza de vida: 70.629"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"North America","legendgroup":"North America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2829.1581155156573,55053.069575397283,6175.6070264384753,41872.187844134358,1649.57570191997,3759.0787705601201,4899.8028594943253,4322.7446384267641,2372.268494811316,4035.7204190279926,9379.2226373102294,3523.2614330272813,3114.5583929679005,14882.274544646823],"y":[null,83.200000000000003,68.311999999999998,82.760975609756102,67.661000000000001,65.146000000000001,71.269999999999996,72.597999999999999,70.742000000000004,64.853999999999999,64.013999999999996,70.924999999999997,70.492000000000004,null],"text":["PIB per cápita: 2829.15811551566<br />Esperanza de vida: NA","PIB per cápita: 55053.0695753973<br />Esperanza de vida: 83.2","PIB per cápita: 6175.60702643848<br />Esperanza de vida: 68.312","PIB per cápita: 41872.1878441344<br />Esperanza de vida: 82.7609756097561","PIB per cápita: 1649.57570191997<br />Esperanza de vida: 67.661","PIB per cápita: 3759.07877056012<br />Esperanza de vida: 65.146","PIB per cápita: 4899.80285949433<br />Esperanza de vida: 71.27","PIB per cápita: 4322.74463842676<br />Esperanza de vida: 72.598","PIB per cápita: 2372.26849481132<br />Esperanza de vida: 70.742","PIB per cápita: 4035.72041902799<br />Esperanza de vida: 64.854","PIB per cápita: 9379.22263731023<br />Esperanza de vida: 64.014","PIB per cápita: 3523.26143302728<br />Esperanza de vida: 70.925","PIB per cápita: 3114.5583929679<br />Esperanza de vida: 70.492","PIB per cápita: 14882.2745446468<br />Esperanza de vida: NA"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,169,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,169,255,1)"}},"hoveron":"points","name":"Oceania","legendgroup":"Oceania","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[17444.302176696543,11098.900143871706,10626.175951543732],"y":[73.848780487804902,73.514634146341507,80.838999999999999],"text":["PIB per cápita: 17444.3021766965<br />Esperanza de vida: 73.8487804878049","PIB per cápita: 11098.9001438717<br />Esperanza de vida: 73.5146341463415","PIB per cápita: 10626.1759515437<br />Esperanza de vida: 80.839"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"Seven seas (open ocean)","legendgroup":"Seven seas (open ocean)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14896.445437688548,3552.0407188333288,6977.694220378904,9912.2778596769767,6359.1938255444529,6608.6161126058105,8717.1860849515197,16189.86323039263,6183.785548492885,6428.656749340671,5414.7581223501111,16915.482274774477],"y":[79.519000000000005,64.927999999999997,73.385000000000005,76.063999999999993,70.289000000000001,65.989000000000004,73.424999999999997,78,77.894000000000005,73.659000000000006,70.474999999999994,71.105000000000004],"text":["PIB per cápita: 14896.4454376885<br />Esperanza de vida: 79.519","PIB per cápita: 3552.04071883333<br />Esperanza de vida: 64.928","PIB per cápita: 6977.6942203789<br />Esperanza de vida: 73.385","PIB per cápita: 9912.27785967698<br />Esperanza de vida: 76.064","PIB per cápita: 6359.19382554445<br />Esperanza de vida: 70.289","PIB per cápita: 6608.61611260581<br />Esperanza de vida: 65.989","PIB per cápita: 8717.18608495152<br />Esperanza de vida: 73.425","PIB per cápita: 16189.8632303926<br />Esperanza de vida: 78","PIB per cápita: 6183.78554849289<br />Esperanza de vida: 77.894","PIB per cápita: 6428.65674934067<br />Esperanza de vida: 73.659","PIB per cápita: 5414.75812235011<br />Esperanza de vida: 70.475","PIB per cápita: 16915.4822747745<br />Esperanza de vida: 71.105"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,97,204,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,97,204,1)"}},"hoveron":"points","name":"South America","legendgroup":"South America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":95.701120797011214,"r":39.850560398505614,"b":86.841012868410132,"l":70.900788709007898},"font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":15.276048152760483},"title":{"text":"<b> PIB per cápita vs esperanza de vida al nacer por continente <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":23.910336239103366},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10000,210000],"tickmode":"array","ticktext":["0","50,000","100,000","150,000","200,000"],"tickvals":[0,49999.999999999993,100000,150000,200000],"categoryorder":"array","categoryarray":["0","50,000","100,000","150,000","200,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.8190120381901207,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Arial Narrow","size":15.276048152760483},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"y","title":{"text":"PIB per cápita  (USD)","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":11.955168119551683}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[48,92],"tickmode":"array","ticktext":["50","60","70","80","90"],"tickvals":[50,60,70,80,90],"categoryorder":"array","categoryarray":["50","60","70","80","90"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.8190120381901207,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Arial Narrow","size":15.276048152760483},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.26567040265670405,"zeroline":false,"anchor":"x","title":{"text":"Esperanza de vida (años)","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":11.955168119551683}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":12.220838522208389},"title":{"text":"Población estimada","font":{"color":"rgba(0,0,0,1)","family":"Arial Narrow","size":15.276048152760483}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c6a64454c":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"}},"cur_data":"2e3c6a64454c","visdat":{"2e3c6a64454c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="tipos-de-gráficos" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="tipos-de-gráficos"><span class="header-section-number">9.4</span> Tipos de gráficos</h2>
<p>En esta sección, se ejemplifican varios tipos de gráficos, los cuales se construyen con ggplot2 y luego se convierten a plotly.</p>
<section id="gráficos-de-dispersión" class="level3" data-number="9.4.1">
<h3 data-number="9.4.1" class="anchored" data-anchor-id="gráficos-de-dispersión"><span class="header-section-number">9.4.1</span> Gráficos de dispersión</h3>
<p>Un <a href="https://es.wikipedia.org/wiki/Diagrama_de_dispersi%C3%B3n">gráfico de dispersión (<em>scatterplot</em>)</a> despliega los valores de dos variables numéricas, como puntos en un sistema de coordenadas. El valor de una variable se despliega en el eje X y el de la otra variable en el eje Y. Variables adicionales pueden ser mostradas mediante atributos de los puntos, tales como su tamaño, color o forma.</p>
<p>En <code>ggplot2</code>, los gráficos de dispersión se implementan con la función de geometría <a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a>.</p>
<p>El siguiente bloque de código muestra la relación entre el PIB per cápita y la esperanza de vida de países.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión PIB per cápita vs esperanza de vida</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + línea de tendencia</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>grafico_dispersion_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"País: "</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>      NAME,</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"PIB per cápita: "</span>,</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>      scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">round</span>(GDP_PC, <span class="dv">2</span>)),</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Esperanza de vida: "</span>,</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(LIFE_EXPECTANCY, <span class="dv">2</span>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer"</span>) <span class="sc">+</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita (USD)"</span>) <span class="sc">+</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>) <span class="sc">+</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()  </span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión plotly</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_dispersion_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-41f4399b60375000c3f1" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-41f4399b60375000c3f1">{"x":{"data":[{"x":[4135.5663778228081,11414.195473101425,14896.445437688548,3552.0407188333288,6977.694220378904,9912.2778596769767,42501.354345964275,20814.717477003946,2099.5987439431351,10500.649513928936,29910.458164387273,7583.6021723779859,855.75559251965115,1084.6029144703186,462.99578997604402,1816.5452323719192,411.51452644667944,1089.1560334584349,5789.6437257233174,3499.890800110436,40371.986126939191,6359.1938255444529,6608.6161126058105,31846.213987333525,1558.4722623691171,3281.9905171037908,1503.5151089178171,12243.735142576779,1912.7639102394285,2279.8962477148998,580.70826982844801,3315.4586865017586,3464.6944456992433,6663.2470167498059,4957.2464552440742,6001.389726848146,51843.819693736645,15342.957749026831,1724.8326044909793,9812.3413019277923,870.72034406542286,19601.743046973566,8717.1860849515197,16189.86323039263,4339.6202429207542,11774.152374948775,23494.548914126899,46445.242388626903,23723.230236923238,17828.417039202966,75419.566872654221,51614.936162753358,40665.215907612663,2715.2734981755425,1643.0977460282454,114703.11148966925,43103.295635272152,46420.624073987805,2038.7692357877395,6022.1967410925772,5353.1806385767459,4793.5224643177044,4417.4495387482666,9126.5553604676224,29600.367110911851,2534.7812351148032,1309.2970310830274,4622.4622861240596,60145.800019448106,7685.9268055310458,3317.3948001657841,12919.506705329217,16731.817126169237,19266.152103208005,15692.501573706204,78660.812507437091,19582.46495392729,1305.0199232631039,527.43972871602796,962.78781255955755,621.78801929932797,467.84266577593922,712.70012326561243,3414.2733883890055,339.57136063366482,50137.618652647325,5955.1079180467623,33228.234267363718,81993.676377566342,5475.5109474639876,180856.9399510771,2276.3167554707197,7411.8337359025772,878.97918158741334,1446.8258072782371,2229.8565622324468,1219.3725849283685,2790.7046894616378,14935.955746773205,25946.07331798811,62087.867271501695,23139.77419747939,7961.1164141812051,1463.9340989308091,1284.6978572995699,9828.0316656490959,7806.7282798440374,48877.731836975785,1272.4764289545387,8282.0884484323342,709.48065313858342,32000.31946125142,4187.1508609288558,4619.9638569585477,1559.794574203921,31085.77495182155,184477.97967354479,3973.9573410982639,503.55601238172807,3894.1583270187175,261.21842960198012,819.9921596268299,1407.7973674735065,1855.7382654351488,40885.639470068185,507.10069782797081,8908.0057929362829,6108.4519842471982,794.33753108284657,8825.4422757770044,2574.8716129716072,6183.785548492885,6428.656749340671,5414.7581223501111,23252.050238100175,4503.2485625388272,6859.7087657219536,4405.3997280060157,1071.0374567745278,1117.976650474199,1507.4365115986084,7766.8061782793629,553.86546487312808,786.85608820425466,679.25654443265751,2202.0947169978053,697.06109878485438,64966.827350410647,46194.708478181878,9946.0296966513088,4813.591800242345,15730.827641701671,16915.482274774477,2829.1581155156573,3019.2032872271589,774.33167813836144,1679.2997143422799,8131.3523885939821,777.78052277414633,null,11042.944785276071,28000,200000,55053.069575397283,6175.6070264384753,41872.187844134358,523.33565708603487,3485.079513449436,3853.0477457230654,34861.688088281357,47818.309770829372,40246.87583284705,66944.726594393229,17444.302176696543,1649.57570191997,3759.0787705601201,17397.469341700522,10803.282054944955,7451.0123068297935,18148.244926400141,11608.950161387384,8104.9465240641712,17102.905743528492,19930.347882045651,5582.2396727039741,11098.900143871706,1369.1610862089633,1943.6797857302283,3602.2439015520017,29819.776267126625,65233.189955271868,4899.8028594943253,4322.7446384267641,2372.268494811316,4035.7204190279926,10626.175951543732,9379.2226373102294,3523.2614330272813,3114.5583929679005,14882.274544646823,23503.934992797829],"y":[68.25,76.260000000000005,79.519000000000005,64.927999999999997,73.385000000000005,76.063999999999993,82.0585365853659,81.888999999999996,67.744,78.587000000000003,82.700000000000003,74.415999999999997,65.644999999999996,55.567,56.106999999999999,62.055,62.898000000000003,66.781999999999996,72.299999999999997,56.106999999999999,82.229268292682903,70.289000000000001,65.989000000000004,82.680487804878098,73.578000000000003,74.972999999999999,null,77.319999999999993,74.614999999999995,63.052999999999997,59.743000000000002,72.228999999999999,68.587926829268298,73.111463414634201,58.058999999999997,61.479999999999997,81.714634146341496,73.935000000000002,71.674000000000007,74.439999999999998,71.287999999999997,75.792682926829301,73.424999999999997,78,72.667000000000002,72.545609756097605,79.0292682926829,80.705609756097601,77.943902439024399,74.580487804878004,82.560975609756099,83.109756097561004,81.187804878048794,74.579999999999998,69.896000000000001,83.046341463414606,79.195999999999998,81.697560975609804,71.587000000000003,74.424878048780499,76.832999999999998,73.488,75.482195121951193,78.474999999999994,83.082926829268303,68.998999999999995,72.048780487804905,73.372,81.304878048780495,72.150999999999996,74.263000000000005,75.304878048780495,76.017073170731706,77.065853658536597,77.304878048780495,83.056097560975601,80.636585365853705,61.802999999999997,60.411000000000001,58.984999999999999,61.100000000000001,54.476999999999997,null,62.859000000000002,66.603999999999999,81.092682926829298,71.335999999999999,82.900000000000006,83.453658536585394,74.555999999999997,84.319512195122002,58.915999999999997,75.482195121951193,59.417000000000002,67.912999999999997,53.633000000000003,59.954000000000001,61.929000000000002,77.575609756097606,81.282926829268305,81.558999999999997,77.905000000000001,65.912999999999997,59.390999999999998,66.430999999999997,74.360975609756096,79.680000000000007,null,63.728000000000002,74.170000000000002,52.997,80.263999999999996,71.474999999999994,68.674000000000007,69.055999999999997,74.551000000000002,null,77.129000000000005,59.625,56.359999999999999,61.976999999999997,67.129000000000005,67.256,73.697999999999993,null,62.878999999999998,76.187804878048794,75.293000000000006,63.637999999999998,78.155000000000001,70.727999999999994,77.894000000000005,73.659000000000006,70.474999999999994,null,68.620999999999995,69.409999999999997,74.215000000000003,70.483999999999995,53.036000000000001,60.957999999999998,65.694000000000003,62.079999999999998,59.765999999999998,61.588000000000001,63.945,59.860999999999997,77.434146341463403,81.295609756097605,74.831999999999994,70.962000000000003,76.825999999999993,71.105000000000004,null,70.159000000000006,63.719999999999999,64.691000000000003,61.189999999999998,62.905999999999999,null,81.888999999999996,81.888999999999996,null,83.200000000000003,68.311999999999998,82.760975609756102,65.230000000000004,72.186999999999998,76.609999999999999,74.358000000000004,null,83.996341463414595,82.170731707317103,73.848780487804902,67.661000000000001,65.146000000000001,74.707999999999998,75.334999999999994,68.971999999999994,77.706000000000003,71.293999999999997,72.980999999999995,79.236000000000004,72.027000000000001,70.629000000000005,73.514634146341507,63.68,68.793999999999997,74.721999999999994,82.700000000000003,82.895121951219494,71.269999999999996,72.597999999999999,70.742000000000004,64.853999999999999,80.838999999999999,64.013999999999996,70.924999999999997,70.492000000000004,null,79.245999999999995],"text":["País: Indonesia<br />PIB per cápita: 4,135.6<br />Esperanza de vida: 68.25","País: Malaysia<br />PIB per cápita: 11,414.2<br />Esperanza de vida: 76.26","País: Chile<br />PIB per cápita: 14,896.4<br />Esperanza de vida: 79.52","País: Bolivia<br />PIB per cápita: 3,552.0<br />Esperanza de vida: 64.93","País: Peru<br />PIB per cápita: 6,977.7<br />Esperanza de vida: 73.39","País: Argentina<br />PIB per cápita: 9,912.3<br />Esperanza de vida: 76.06","País: United Kingdom<br />PIB per cápita: 42,501.3<br />Esperanza de vida: 82.06","País: Cyprus<br />PIB per cápita: 20,814.7<br />Esperanza de vida: 81.89","País: India<br />PIB per cápita: 2,099.6<br />Esperanza de vida: 67.74","País: China<br />PIB per cápita: 10,500.6<br />Esperanza de vida: 78.59","País: Israel<br />PIB per cápita: 29,910.5<br />Esperanza de vida: 82.7","País: Lebanon<br />PIB per cápita: 7,583.6<br />Esperanza de vida: 74.42","País: Ethiopia<br />PIB per cápita: 855.8<br />Esperanza de vida: 65.64","País: S. Sudan<br />PIB per cápita: 1,084.6<br />Esperanza de vida: 55.57","País: Somalia<br />PIB per cápita: 463.0<br />Esperanza de vida: 56.11","País: Kenya<br />PIB per cápita: 1,816.6<br />Esperanza de vida: 62.06","País: Malawi<br />PIB per cápita: 411.5<br />Esperanza de vida: 62.9","País: Tanzania<br />PIB per cápita: 1,089.2<br />Esperanza de vida: 66.78","País: Syria<br />PIB per cápita: 5,789.6<br />Esperanza de vida: 72.3","País: Somaliland<br />PIB per cápita: 3,499.9<br />Esperanza de vida: 56.11","País: France<br />PIB per cápita: 40,372.0<br />Esperanza de vida: 82.23","País: Suriname<br />PIB per cápita: 6,359.2<br />Esperanza de vida: 70.29","País: Guyana<br />PIB per cápita: 6,608.6<br />Esperanza de vida: 65.99","País: South Korea<br />PIB per cápita: 31,846.2<br />Esperanza de vida: 82.68","País: North Korea<br />PIB per cápita: 1,558.5<br />Esperanza de vida: 73.58","País: Morocco<br />PIB per cápita: 3,282.0<br />Esperanza de vida: 74.97","País: W. Sahara<br />PIB per cápita: 1,503.5<br />Esperanza de vida: NA","País: Costa Rica<br />PIB per cápita: 12,243.7<br />Esperanza de vida: 77.32","País: Nicaragua<br />PIB per cápita: 1,912.8<br />Esperanza de vida: 74.61","País: Congo<br />PIB per cápita: 2,279.9<br />Esperanza de vida: 63.05","País: Dem. Rep. Congo<br />PIB per cápita: 580.7<br />Esperanza de vida: 59.74","País: Bhutan<br />PIB per cápita: 3,315.5<br />Esperanza de vida: 72.23","País: Ukraine<br />PIB per cápita: 3,464.7<br />Esperanza de vida: 68.59","País: Belarus<br />PIB per cápita: 6,663.2<br />Esperanza de vida: 73.11","País: Namibia<br />PIB per cápita: 4,957.2<br />Esperanza de vida: 58.06","País: South Africa<br />PIB per cápita: 6,001.4<br />Esperanza de vida: 61.48","País: Netherlands<br />PIB per cápita: 51,843.8<br />Esperanza de vida: 81.71","País: Oman<br />PIB per cápita: 15,343.0<br />Esperanza de vida: 73.94","País: Uzbekistan<br />PIB per cápita: 1,724.8<br />Esperanza de vida: 71.67","País: Kazakhstan<br />PIB per cápita: 9,812.3<br />Esperanza de vida: 74.44","País: Tajikistan<br />PIB per cápita: 870.7<br />Esperanza de vida: 71.29","País: Lithuania<br />PIB per cápita: 19,601.7<br />Esperanza de vida: 75.79","País: Brazil<br />PIB per cápita: 8,717.2<br />Esperanza de vida: 73.42","País: Uruguay<br />PIB per cápita: 16,189.9<br />Esperanza de vida: 78","País: Mongolia<br />PIB per cápita: 4,339.6<br />Esperanza de vida: 72.67","País: Russia<br />PIB per cápita: 11,774.1<br />Esperanza de vida: 72.55","País: Czechia<br />PIB per cápita: 23,494.5<br />Esperanza de vida: 79.03","País: Germany<br />PIB per cápita: 46,445.2<br />Esperanza de vida: 80.71","País: Estonia<br />PIB per cápita: 23,723.2<br />Esperanza de vida: 77.94","País: Latvia<br />PIB per cápita: 17,828.4<br />Esperanza de vida: 74.58","País: Norway<br />PIB per cápita: 75,419.6<br />Esperanza de vida: 82.56","País: Sweden<br />PIB per cápita: 51,614.9<br />Esperanza de vida: 83.11","País: Finland<br />PIB per cápita: 40,665.2<br />Esperanza de vida: 81.19","País: Vietnam<br />PIB per cápita: 2,715.3<br />Esperanza de vida: 74.58","País: Cambodia<br />PIB per cápita: 1,643.1<br />Esperanza de vida: 69.9","País: Luxembourg<br />PIB per cápita: 114,703.1<br />Esperanza de vida: 83.05","País: United Arab Emirates<br />PIB per cápita: 43,103.3<br />Esperanza de vida: 79.2","País: Belgium<br />PIB per cápita: 46,420.6<br />Esperanza de vida: 81.7","País: Georgia<br />PIB per cápita: 2,038.8<br />Esperanza de vida: 71.59","País: North Macedonia<br />PIB per cápita: 6,022.2<br />Esperanza de vida: 74.42","País: Albania<br />PIB per cápita: 5,353.2<br />Esperanza de vida: 76.83","País: Azerbaijan<br />PIB per cápita: 4,793.5<br />Esperanza de vida: 73.49","País: Kosovo<br />PIB per cápita: 4,417.4<br />Esperanza de vida: 75.48","País: Turkey<br />PIB per cápita: 9,126.6<br />Esperanza de vida: 78.47","País: Spain<br />PIB per cápita: 29,600.4<br />Esperanza de vida: 83.08","País: Laos<br />PIB per cápita: 2,534.8<br />Esperanza de vida: 69","País: Kyrgyzstan<br />PIB per cápita: 1,309.3<br />Esperanza de vida: 72.05","País: Armenia<br />PIB per cápita: 4,622.5<br />Esperanza de vida: 73.37","País: Denmark<br />PIB per cápita: 60,145.8<br />Esperanza de vida: 81.3","País: Libya<br />PIB per cápita: 7,685.9<br />Esperanza de vida: 72.15","País: Tunisia<br />PIB per cápita: 3,317.4<br />Esperanza de vida: 74.26","País: Romania<br />PIB per cápita: 12,919.5<br />Esperanza de vida: 75.3","País: Hungary<br />PIB per cápita: 16,731.8<br />Esperanza de vida: 76.02","País: Slovakia<br />PIB per cápita: 19,266.2<br />Esperanza de vida: 77.07","País: Poland<br />PIB per cápita: 15,692.5<br />Esperanza de vida: 77.3","País: Ireland<br />PIB per cápita: 78,660.8<br />Esperanza de vida: 83.06","País: Greece<br />PIB per cápita: 19,582.5<br />Esperanza de vida: 80.64","País: Zambia<br />PIB per cápita: 1,305.0<br />Esperanza de vida: 61.8","País: Sierra Leone<br />PIB per cápita: 527.4<br />Esperanza de vida: 60.41","País: Guinea<br />PIB per cápita: 962.8<br />Esperanza de vida: 58.98","País: Liberia<br />PIB per cápita: 621.8<br />Esperanza de vida: 61.1","País: Central African Rep.<br />PIB per cápita: 467.8<br />Esperanza de vida: 54.48","País: Sudan<br />PIB per cápita: 712.7<br />Esperanza de vida: NA","País: Djibouti<br />PIB per cápita: 3,414.3<br />Esperanza de vida: 62.86","País: Eritrea<br />PIB per cápita: 339.6<br />Esperanza de vida: 66.6","País: Austria<br />PIB per cápita: 50,137.6<br />Esperanza de vida: 81.09","País: Iraq<br />PIB per cápita: 5,955.1<br />Esperanza de vida: 71.34","País: Italy<br />PIB per cápita: 33,228.2<br />Esperanza de vida: 82.9","País: Switzerland<br />PIB per cápita: 81,993.7<br />Esperanza de vida: 83.45","País: Iran<br />PIB per cápita: 5,475.5<br />Esperanza de vida: 74.56","País: Liechtenstein<br />PIB per cápita: 180,856.9<br />Esperanza de vida: 84.32","País: Côte d'Ivoire<br />PIB per cápita: 2,276.3<br />Esperanza de vida: 58.92","País: Serbia<br />PIB per cápita: 7,411.8<br />Esperanza de vida: 75.48","País: Mali<br />PIB per cápita: 879.0<br />Esperanza de vida: 59.42","País: Senegal<br />PIB per cápita: 1,446.8<br />Esperanza de vida: 67.91","País: Nigeria<br />PIB per cápita: 2,229.9<br />Esperanza de vida: 53.63","País: Benin<br />PIB per cápita: 1,219.4<br />Esperanza de vida: 59.95","País: Angola<br />PIB per cápita: 2,790.7<br />Esperanza de vida: 61.93","País: Croatia<br />PIB per cápita: 14,936.0<br />Esperanza de vida: 77.58","País: Slovenia<br />PIB per cápita: 25,946.1<br />Esperanza de vida: 81.28","País: Qatar<br />PIB per cápita: 62,087.9<br />Esperanza de vida: 81.56","País: Saudi Arabia<br />PIB per cápita: 23,139.8<br />Esperanza de vida: 77.9","País: Botswana<br />PIB per cápita: 7,961.1<br />Esperanza de vida: 65.91","País: Zimbabwe<br />PIB per cápita: 1,463.9<br />Esperanza de vida: 59.39","País: Pakistan<br />PIB per cápita: 1,284.7<br />Esperanza de vida: 66.43","País: Bulgaria<br />PIB per cápita: 9,828.0<br />Esperanza de vida: 74.36","País: Thailand<br />PIB per cápita: 7,806.7<br />Esperanza de vida: 79.68","País: San Marino<br />PIB per cápita: 48,877.7<br />Esperanza de vida: NA","País: Haiti<br />PIB per cápita: 1,272.5<br />Esperanza de vida: 63.73","País: Dominican Rep.<br />PIB per cápita: 8,282.1<br />Esperanza de vida: 74.17","País: Chad<br />PIB per cápita: 709.5<br />Esperanza de vida: 53","País: Kuwait<br />PIB per cápita: 32,000.3<br />Esperanza de vida: 80.26","País: El Salvador<br />PIB per cápita: 4,187.1<br />Esperanza de vida: 71.47","País: Guatemala<br />PIB per cápita: 4,620.0<br />Esperanza de vida: 68.67","País: Timor-Leste<br />PIB per cápita: 1,559.8<br />Esperanza de vida: 69.06","País: Brunei<br />PIB per cápita: 31,085.8<br />Esperanza de vida: 74.55","País: Monaco<br />PIB per cápita: 184,478.0<br />Esperanza de vida: NA","País: Algeria<br />PIB per cápita: 3,974.0<br />Esperanza de vida: 77.13","País: Mozambique<br />PIB per cápita: 503.6<br />Esperanza de vida: 59.62","País: eSwatini<br />PIB per cápita: 3,894.2<br />Esperanza de vida: 56.36","País: Burundi<br />PIB per cápita: 261.2<br />Esperanza de vida: 61.98","País: Rwanda<br />PIB per cápita: 820.0<br />Esperanza de vida: 67.13","País: Myanmar<br />PIB per cápita: 1,407.8<br />Esperanza de vida: 67.26","País: Bangladesh<br />PIB per cápita: 1,855.7<br />Esperanza de vida: 73.7","País: Andorra<br />PIB per cápita: 40,885.6<br />Esperanza de vida: NA","País: Afghanistan<br />PIB per cápita: 507.1<br />Esperanza de vida: 62.88","País: Montenegro<br />PIB per cápita: 8,908.0<br />Esperanza de vida: 76.19","País: Bosnia and Herz.<br />PIB per cápita: 6,108.4<br />Esperanza de vida: 75.29","País: Uganda<br />PIB per cápita: 794.3<br />Esperanza de vida: 63.64","País: Cuba<br />PIB per cápita: 8,825.4<br />Esperanza de vida: 78.16","País: Honduras<br />PIB per cápita: 2,574.9<br />Esperanza de vida: 70.73","País: Ecuador<br />PIB per cápita: 6,183.8<br />Esperanza de vida: 77.89","País: Colombia<br />PIB per cápita: 6,428.7<br />Esperanza de vida: 73.66","País: Paraguay<br />PIB per cápita: 5,414.8<br />Esperanza de vida: 70.47","País: Portugal<br />PIB per cápita: 23,252.0<br />Esperanza de vida: NA","País: Moldova<br />PIB per cápita: 4,503.2<br />Esperanza de vida: 68.62","País: Turkmenistan<br />PIB per cápita: 6,859.7<br />Esperanza de vida: 69.41","País: Jordan<br />PIB per cápita: 4,405.4<br />Esperanza de vida: 74.22","País: Nepal<br />PIB per cápita: 1,071.0<br />Esperanza de vida: 70.48","País: Lesotho<br />PIB per cápita: 1,118.0<br />Esperanza de vida: 53.04","País: Cameroon<br />PIB per cápita: 1,507.4<br />Esperanza de vida: 60.96","País: Gabon<br />PIB per cápita: 7,766.8<br />Esperanza de vida: 65.69","País: Niger<br />PIB per cápita: 553.9<br />Esperanza de vida: 62.08","País: Burkina Faso<br />PIB per cápita: 786.9<br />Esperanza de vida: 59.77","País: Togo<br />PIB per cápita: 679.3<br />Esperanza de vida: 61.59","País: Ghana<br />PIB per cápita: 2,202.1<br />Esperanza de vida: 63.94","País: Guinea-Bissau<br />PIB per cápita: 697.1<br />Esperanza de vida: 59.86","País: United States of America<br />PIB per cápita: 64,966.8<br />Esperanza de vida: 77.43","País: Canada<br />PIB per cápita: 46,194.7<br />Esperanza de vida: 81.3","País: Mexico<br />PIB per cápita: 9,946.0<br />Esperanza de vida: 74.83","País: Belize<br />PIB per cápita: 4,813.6<br />Esperanza de vida: 70.96","País: Panama<br />PIB per cápita: 15,730.8<br />Esperanza de vida: 76.83","País: Venezuela<br />PIB per cápita: 16,915.5<br />Esperanza de vida: 71.11","País: Papua New Guinea<br />PIB per cápita: 2,829.2<br />Esperanza de vida: NA","País: Egypt<br />PIB per cápita: 3,019.2<br />Esperanza de vida: 70.16","País: Yemen<br />PIB per cápita: 774.3<br />Esperanza de vida: 63.72","País: Mauritania<br />PIB per cápita: 1,679.3<br />Esperanza de vida: 64.69","País: Eq. Guinea<br />PIB per cápita: 8,131.4<br />Esperanza de vida: 61.19","País: Gambia<br />PIB per cápita: 777.8<br />Esperanza de vida: 62.91","País: Vatican<br />PIB per cápita: -120,000.0<br />Esperanza de vida: NA","País: N. Cyprus<br />PIB per cápita: 11,042.9<br />Esperanza de vida: 81.89","País: Cyprus U.N. Buffer Zone<br />PIB per cápita: 28,000.0<br />Esperanza de vida: 81.89","País: Antarctica<br />PIB per cápita: 200,000.0<br />Esperanza de vida: NA","País: Australia<br />PIB per cápita: 55,053.1<br />Esperanza de vida: 83.2","País: Fiji<br />PIB per cápita: 6,175.6<br />Esperanza de vida: 68.31","País: New Zealand<br />PIB per cápita: 41,872.2<br />Esperanza de vida: 82.76","País: Madagascar<br />PIB per cápita: 523.3<br />Esperanza de vida: 65.23","País: Philippines<br />PIB per cápita: 3,485.1<br />Esperanza de vida: 72.19","País: Sri Lanka<br />PIB per cápita: 3,853.0<br />Esperanza de vida: 76.61","País: Bahamas<br />PIB per cápita: 34,861.7<br />Esperanza de vida: 74.36","País: Taiwan<br />PIB per cápita: 47,818.3<br />Esperanza de vida: NA","País: Japan<br />PIB per cápita: 40,246.9<br />Esperanza de vida: 84","País: Iceland<br />PIB per cápita: 66,944.7<br />Esperanza de vida: 82.17","País: Seychelles<br />PIB per cápita: 17,444.3<br />Esperanza de vida: 73.85","País: Kiribati<br />PIB per cápita: 1,649.6<br />Esperanza de vida: 67.66","País: Marshall Is.<br />PIB per cápita: 3,759.1<br />Esperanza de vida: 65.15","País: Trinidad and Tobago<br />PIB per cápita: 17,397.5<br />Esperanza de vida: 74.71","País: Grenada<br />PIB per cápita: 10,803.3<br />Esperanza de vida: 75.33","País: St. Vin. and Gren.<br />PIB per cápita: 7,451.0<br />Esperanza de vida: 68.97","País: Barbados<br />PIB per cápita: 18,148.2<br />Esperanza de vida: 77.71","País: Saint Lucia<br />PIB per cápita: 11,609.0<br />Esperanza de vida: 71.29","País: Dominica<br />PIB per cápita: 8,105.0<br />Esperanza de vida: 72.98","País: Antigua and Barb.<br />PIB per cápita: 17,102.9<br />Esperanza de vida: 79.24","País: St. Kitts and Nevis<br />PIB per cápita: 19,930.3<br />Esperanza de vida: 72.03","País: Jamaica<br />PIB per cápita: 5,582.2<br />Esperanza de vida: 70.63","País: Mauritius<br />PIB per cápita: 11,098.9<br />Esperanza de vida: 73.51","País: Comoros<br />PIB per cápita: 1,369.2<br />Esperanza de vida: 63.68","País: São Tomé and Principe<br />PIB per cápita: 1,943.7<br />Esperanza de vida: 68.79","País: Cabo Verde<br />PIB per cápita: 3,602.2<br />Esperanza de vida: 74.72","País: Malta<br />PIB per cápita: 29,819.8<br />Esperanza de vida: 82.7","País: Singapore<br />PIB per cápita: 65,233.2<br />Esperanza de vida: 82.9","País: Tonga<br />PIB per cápita: 4,899.8<br />Esperanza de vida: 71.27","País: Samoa<br />PIB per cápita: 4,322.7<br />Esperanza de vida: 72.6","País: Solomon Is.<br />PIB per cápita: 2,372.3<br />Esperanza de vida: 70.74","País: Tuvalu<br />PIB per cápita: 4,035.7<br />Esperanza de vida: 64.85","País: Maldives<br />PIB per cápita: 10,626.2<br />Esperanza de vida: 80.84","País: Nauru<br />PIB per cápita: 9,379.2<br />Esperanza de vida: 64.01","País: Micronesia<br />PIB per cápita: 3,523.3<br />Esperanza de vida: 70.92","País: Vanuatu<br />PIB per cápita: 3,114.6<br />Esperanza de vida: 70.49","País: Palau<br />PIB per cápita: 14,882.3<br />Esperanza de vida: NA","País: Bahrain<br />PIB per cápita: 23,503.9<br />Esperanza de vida: 79.25"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[261.21842960198012,2547.2402210130576,4833.2620124241357,7119.2838038352129,9405.305595246291,11691.327386657369,13977.349178068445,16263.370969479523,18549.392760890601,20835.414552301678,23121.436343712758,25407.458135123834,27693.47992653491,29979.50171794599,32265.523509357066,34551.545300768143,36837.567092179219,39123.588883590295,41409.610675001371,43695.632466412455,45981.654257823531,48267.676049234607,50553.697840645684,52839.71963205676,55125.741423467836,57411.76321487892,59697.785006289996,61983.806797701072,64269.828589112149,66555.850380523232,68841.872171934316,71127.893963345385,73413.915754756468,75699.937546167552,77985.959337578621,80271.981128989704,82558.002920400773,84844.024711811857,87130.04650322294,89416.068294634009,91702.090086045093,93988.111877456162,96274.133668867245,98560.155460278329,100846.1772516894,103132.19904310048,105418.22083451155,107704.24262592263,109990.2644173337,112276.28620874479,114562.30800015587,116848.32979156694,119134.35158297802,121420.37337438909,123706.39516580018,125992.41695721126,128278.43874862233,130564.46054003341,132850.48233144448,135136.50412285558,137422.52591426665,139708.54770567772,141994.56949708879,144280.59128849988,146566.61307991095,148852.63487132202,151138.65666273312,153424.67845414419,155710.70024555526,157996.72203696633,160282.74382837742,162568.76561978849,164854.78741119956,167140.80920261066,169426.83099402173,171712.8527854328,173998.8745768439,176284.89636825497,178570.91815966603,180856.9399510771],"y":[68.720059679038016,69.20713900872147,69.694218338404909,70.181297668088362,70.668376997771801,71.155456327455255,71.642535657138694,72.129614986822148,72.616694316505587,73.10377364618904,73.59085297587248,74.077932305555933,74.565011635239372,75.052090964922826,75.539170294606265,76.026249624289704,76.513328953973158,77.000408283656597,77.487487613340051,77.97456694302349,78.461646272706943,78.948725602390383,79.435804932073836,79.922884261757275,80.409963591440729,80.897042921124168,81.384122250807621,81.871201580491061,82.358280910174514,82.845360239857953,83.332439569541407,83.819518899224846,84.3065982289083,84.793677558591739,85.280756888275192,85.767836217958632,86.254915547642071,86.741994877325524,87.229074207008978,87.716153536692417,88.203232866375856,88.69031219605931,89.177391525742763,89.664470855426202,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"text":"","type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[261.21842960198012,2547.2402210130576,4833.2620124241357,7119.2838038352129,9405.305595246291,11691.327386657369,13977.349178068445,16263.370969479523,18549.392760890601,20835.414552301678,23121.436343712758,25407.458135123834,27693.47992653491,29979.50171794599,32265.523509357066,34551.545300768143,36837.567092179219,39123.588883590295,41409.610675001371,43695.632466412455,45981.654257823531,48267.676049234607,50553.697840645684,52839.71963205676,55125.741423467836,57411.76321487892,59697.785006289996,61983.806797701072,64269.828589112149,66555.850380523232,68841.872171934316,71127.893963345385,73413.915754756468,75699.937546167552,77985.959337578621,80271.981128989704,82558.002920400773,84844.024711811857,87130.04650322294,89416.068294634009,91702.090086045093,93988.111877456162,96274.133668867245,98560.155460278329,100846.1772516894,103132.19904310048,105418.22083451155,107704.24262592263,109990.2644173337,112276.28620874479,114562.30800015587,116848.32979156694,119134.35158297802,121420.37337438909,123706.39516580018,125992.41695721126,128278.43874862233,130564.46054003341,132850.48233144448,135136.50412285558,137422.52591426665,139708.54770567772,141994.56949708879,144280.59128849988,146566.61307991095,148852.63487132202,151138.65666273312,153424.67845414419,155710.70024555526,157996.72203696633,160282.74382837742,162568.76561978849,164854.78741119956,167140.80920261066,169426.83099402173,171712.8527854328,173998.8745768439,176284.89636825497,178570.91815966603,180856.9399510771,180856.9399510771,180856.9399510771,178570.91815966603,176284.89636825497,173998.8745768439,171712.8527854328,169426.83099402173,167140.80920261066,164854.78741119956,162568.76561978849,160282.74382837742,157996.72203696633,155710.70024555526,153424.67845414419,151138.65666273312,148852.63487132202,146566.61307991095,144280.59128849988,141994.56949708879,139708.54770567772,137422.52591426665,135136.50412285558,132850.48233144448,130564.46054003341,128278.43874862233,125992.41695721126,123706.39516580018,121420.37337438909,119134.35158297802,116848.32979156694,114562.30800015587,112276.28620874479,109990.2644173337,107704.24262592263,105418.22083451155,103132.19904310048,100846.1772516894,98560.155460278329,96274.133668867245,93988.111877456162,91702.090086045093,89416.068294634009,87130.04650322294,84844.024711811857,82558.002920400773,80271.981128989704,77985.959337578621,75699.937546167552,73413.915754756468,71127.893963345385,68841.872171934316,66555.850380523232,64269.828589112149,61983.806797701072,59697.785006289996,57411.76321487892,55125.741423467836,52839.71963205676,50553.697840645684,48267.676049234607,45981.654257823531,43695.632466412455,41409.610675001371,39123.588883590295,36837.567092179219,34551.545300768143,32265.523509357066,29979.50171794599,27693.47992653491,25407.458135123834,23121.436343712758,20835.414552301678,18549.392760890601,16263.370969479523,13977.349178068445,11691.327386657369,9405.305595246291,7119.2838038352129,4833.2620124241357,2547.2402210130576,261.21842960198012,261.21842960198012],"y":[67.683033454692435,68.215389240464589,68.741402293049788,69.260267901834155,69.771226037811388,70.273634089030196,70.767042838210074,71.251257717596417,71.726367461132071,72.19273087716644,72.650926092987987,73.101677849002186,73.545781738059816,73.984039934653339,74.417215293812419,74.846004037581423,75.27102348965532,75.692810222708573,76.111824459836399,76.528457633388953,76.943041070718209,77.35585461445875,77.767134560348822,78.177080654434008,78.585862097059319,78.99362260788341,79.400484653739525,79.806552955485301,80.211917387011283,80.616655368641318,81.020833843429074,81.424510911013257,81.827737181009311,82.230556896863945,82.633008871761447,83.035127270426813,83.436942264326561,83.838480582607644,84.23976597693742,84.640819615033237,85.041660414947117,85.442305329972029,85.842769592260851,86.243066921810836,86.643209706300581,87.043209156318554,87.443075439750004,87.842817798457588,88.242444649873278,88.641963675694626,89.041381899526669,89.440705755022137,89.839941145830792,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,89.645509172043404,89.072888830957581,88.50054516549045,87.928504904788937,87.356798220319533,86.785459276807288,86.214526887436435,85.64404529565374,85.074065111074589,84.504644433337745,83.93585020549682,83.367759847875718,82.800463234364926,82.234065085822138,81.668687869080543,81.10447530379885,80.541596590322015,79.980251474695677,79.420676252658026,78.863150766843702,78.308006344604621,77.755634418290995,77.206495210997986,76.661125295400112,76.120141995192313,75.584241532418929,75.05418676210968,74.530779858756972,74.014816415211641,73.507021171879103,73.007972256047879,72.518028476067315,72.037278565880314,71.565527957732215,71.10232743434257,70.64703438376003,70.19888877697835,69.757085903383597,67.683033454692435],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":35.865504358655052},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> PIB per cápita vs esperanza de vida al nacer <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10000,210000],"tickmode":"array","ticktext":["0","50,000","100,000","150,000","200,000"],"tickvals":[0,49999.999999999993,100000,150000,200000],"categoryorder":"array","categoryarray":["0","50,000","100,000","150,000","200,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"PIB per cápita (USD)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[48,92],"tickmode":"array","ticktext":["50","60","70","80","90"],"tickvals":[50,60,70,80,90],"categoryorder":"array","categoryarray":["50","60","70","80","90"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Esperanza de vida (años)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c5a26303b":{"x":{},"y":{},"text":{},"type":"scatter"},"2e3c5f147c31":{"x":{},"y":{}}},"cur_data":"2e3c5a26303b","visdat":{"2e3c5a26303b":["function (y) ","x"],"2e3c5f147c31":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Como se explicó anteriormente, se pueden agregar al gráfico variables adicionales mediante su mapeo a propiedades visuales. En el siguiente ejemplo, se agrega la variable de continente al gráfico anterior, mediante su mapeo a la propiedad correspondiente al color.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión PIB per cápita vs esperanza de vida</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># + línea de tendencia</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>grafico_dispersion_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC, <span class="at">y =</span> LIFE_EXPECTANCY, <span class="at">color =</span> CONTINENT)) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"País: "</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>      NAME,</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"PIB per cápita: "</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>      scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">round</span>(GDP_PC, <span class="dv">2</span>)),</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Esperanza de vida: "</span>,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(LIFE_EXPECTANCY, <span class="dv">2</span>)</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"PIB per cápita vs esperanza de vida al nacer"</span>) <span class="sc">+</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita (USD)"</span>) <span class="sc">+</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Esperanza de vida (años)"</span>) <span class="sc">+</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>, <span class="at">color =</span> <span class="st">"Continente"</span>) <span class="sc">+</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()  </span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de dispersión plotly</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_dispersion_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-f5e10f2c589aa47978c2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f5e10f2c589aa47978c2">{"x":{"data":[{"x":[855.75559251965115,1084.6029144703186,462.99578997604402,1816.5452323719192,411.51452644667944,1089.1560334584349,3499.890800110436,3281.9905171037908,1503.5151089178171,2279.8962477148998,580.70826982844801,4957.2464552440742,6001.389726848146,7685.9268055310458,3317.3948001657841,1305.0199232631039,527.43972871602796,962.78781255955755,621.78801929932797,467.84266577593922,712.70012326561243,3414.2733883890055,339.57136063366482,2276.3167554707197,878.97918158741334,1446.8258072782371,2229.8565622324468,1219.3725849283685,2790.7046894616378,7961.1164141812051,1463.9340989308091,709.48065313858342,3973.9573410982639,503.55601238172807,3894.1583270187175,261.21842960198012,819.9921596268299,794.33753108284657,1117.976650474199,1507.4365115986084,7766.8061782793629,553.86546487312808,786.85608820425466,679.25654443265751,2202.0947169978053,697.06109878485438,3019.2032872271589,1679.2997143422799,8131.3523885939821,777.78052277414633,523.33565708603487,1369.1610862089633,1943.6797857302283,3602.2439015520017],"y":[65.644999999999996,55.567,56.106999999999999,62.055,62.898000000000003,66.781999999999996,56.106999999999999,74.972999999999999,null,63.052999999999997,59.743000000000002,58.058999999999997,61.479999999999997,72.150999999999996,74.263000000000005,61.802999999999997,60.411000000000001,58.984999999999999,61.100000000000001,54.476999999999997,null,62.859000000000002,66.603999999999999,58.915999999999997,59.417000000000002,67.912999999999997,53.633000000000003,59.954000000000001,61.929000000000002,65.912999999999997,59.390999999999998,52.997,77.129000000000005,59.625,56.359999999999999,61.976999999999997,67.129000000000005,63.637999999999998,53.036000000000001,60.957999999999998,65.694000000000003,62.079999999999998,59.765999999999998,61.588000000000001,63.945,59.860999999999997,70.159000000000006,64.691000000000003,61.189999999999998,62.905999999999999,65.230000000000004,63.68,68.793999999999997,74.721999999999994],"text":["País: Ethiopia<br />PIB per cápita: 855.8<br />Esperanza de vida: 65.64","País: S. Sudan<br />PIB per cápita: 1,084.6<br />Esperanza de vida: 55.57","País: Somalia<br />PIB per cápita: 463.0<br />Esperanza de vida: 56.11","País: Kenya<br />PIB per cápita: 1,816.6<br />Esperanza de vida: 62.06","País: Malawi<br />PIB per cápita: 411.5<br />Esperanza de vida: 62.9","País: Tanzania<br />PIB per cápita: 1,089.2<br />Esperanza de vida: 66.78","País: Somaliland<br />PIB per cápita: 3,499.9<br />Esperanza de vida: 56.11","País: Morocco<br />PIB per cápita: 3,282.0<br />Esperanza de vida: 74.97","País: W. Sahara<br />PIB per cápita: 1,503.5<br />Esperanza de vida: NA","País: Congo<br />PIB per cápita: 2,279.9<br />Esperanza de vida: 63.05","País: Dem. Rep. Congo<br />PIB per cápita: 580.7<br />Esperanza de vida: 59.74","País: Namibia<br />PIB per cápita: 4,957.2<br />Esperanza de vida: 58.06","País: South Africa<br />PIB per cápita: 6,001.4<br />Esperanza de vida: 61.48","País: Libya<br />PIB per cápita: 7,685.9<br />Esperanza de vida: 72.15","País: Tunisia<br />PIB per cápita: 3,317.4<br />Esperanza de vida: 74.26","País: Zambia<br />PIB per cápita: 1,305.0<br />Esperanza de vida: 61.8","País: Sierra Leone<br />PIB per cápita: 527.4<br />Esperanza de vida: 60.41","País: Guinea<br />PIB per cápita: 962.8<br />Esperanza de vida: 58.98","País: Liberia<br />PIB per cápita: 621.8<br />Esperanza de vida: 61.1","País: Central African Rep.<br />PIB per cápita: 467.8<br />Esperanza de vida: 54.48","País: Sudan<br />PIB per cápita: 712.7<br />Esperanza de vida: NA","País: Djibouti<br />PIB per cápita: 3,414.3<br />Esperanza de vida: 62.86","País: Eritrea<br />PIB per cápita: 339.6<br />Esperanza de vida: 66.6","País: Côte d'Ivoire<br />PIB per cápita: 2,276.3<br />Esperanza de vida: 58.92","País: Mali<br />PIB per cápita: 879.0<br />Esperanza de vida: 59.42","País: Senegal<br />PIB per cápita: 1,446.8<br />Esperanza de vida: 67.91","País: Nigeria<br />PIB per cápita: 2,229.9<br />Esperanza de vida: 53.63","País: Benin<br />PIB per cápita: 1,219.4<br />Esperanza de vida: 59.95","País: Angola<br />PIB per cápita: 2,790.7<br />Esperanza de vida: 61.93","País: Botswana<br />PIB per cápita: 7,961.1<br />Esperanza de vida: 65.91","País: Zimbabwe<br />PIB per cápita: 1,463.9<br />Esperanza de vida: 59.39","País: Chad<br />PIB per cápita: 709.5<br />Esperanza de vida: 53","País: Algeria<br />PIB per cápita: 3,974.0<br />Esperanza de vida: 77.13","País: Mozambique<br />PIB per cápita: 503.6<br />Esperanza de vida: 59.62","País: eSwatini<br />PIB per cápita: 3,894.2<br />Esperanza de vida: 56.36","País: Burundi<br />PIB per cápita: 261.2<br />Esperanza de vida: 61.98","País: Rwanda<br />PIB per cápita: 820.0<br />Esperanza de vida: 67.13","País: Uganda<br />PIB per cápita: 794.3<br />Esperanza de vida: 63.64","País: Lesotho<br />PIB per cápita: 1,118.0<br />Esperanza de vida: 53.04","País: Cameroon<br />PIB per cápita: 1,507.4<br />Esperanza de vida: 60.96","País: Gabon<br />PIB per cápita: 7,766.8<br />Esperanza de vida: 65.69","País: Niger<br />PIB per cápita: 553.9<br />Esperanza de vida: 62.08","País: Burkina Faso<br />PIB per cápita: 786.9<br />Esperanza de vida: 59.77","País: Togo<br />PIB per cápita: 679.3<br />Esperanza de vida: 61.59","País: Ghana<br />PIB per cápita: 2,202.1<br />Esperanza de vida: 63.94","País: Guinea-Bissau<br />PIB per cápita: 697.1<br />Esperanza de vida: 59.86","País: Egypt<br />PIB per cápita: 3,019.2<br />Esperanza de vida: 70.16","País: Mauritania<br />PIB per cápita: 1,679.3<br />Esperanza de vida: 64.69","País: Eq. Guinea<br />PIB per cápita: 8,131.4<br />Esperanza de vida: 61.19","País: Gambia<br />PIB per cápita: 777.8<br />Esperanza de vida: 62.91","País: Madagascar<br />PIB per cápita: 523.3<br />Esperanza de vida: 65.23","País: Comoros<br />PIB per cápita: 1,369.2<br />Esperanza de vida: 63.68","País: São Tomé and Principe<br />PIB per cápita: 1,943.7<br />Esperanza de vida: 68.79","País: Cabo Verde<br />PIB per cápita: 3,602.2<br />Esperanza de vida: 74.72"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Africa","legendgroup":"Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[200000],"y":[null],"text":"País: Antarctica<br />PIB per cápita: 200,000.0<br />Esperanza de vida: NA","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(205,150,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(205,150,0,1)"}},"hoveron":"points","name":"Antarctica","legendgroup":"Antarctica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4135.5663778228081,11414.195473101425,20814.717477003946,2099.5987439431351,10500.649513928936,29910.458164387273,7583.6021723779859,5789.6437257233174,31846.213987333525,1558.4722623691171,3315.4586865017586,15342.957749026831,1724.8326044909793,9812.3413019277923,870.72034406542286,4339.6202429207542,2715.2734981755425,1643.0977460282454,43103.295635272152,2038.7692357877395,4793.5224643177044,9126.5553604676224,2534.7812351148032,1309.2970310830274,4622.4622861240596,5955.1079180467623,5475.5109474639876,62087.867271501695,23139.77419747939,1284.6978572995699,7806.7282798440374,32000.31946125142,1559.794574203921,31085.77495182155,1407.7973674735065,1855.7382654351488,507.10069782797081,6859.7087657219536,4405.3997280060157,1071.0374567745278,774.33167813836144,11042.944785276071,28000,3485.079513449436,3853.0477457230654,47818.309770829372,40246.87583284705,65233.189955271868,23503.934992797829],"y":[68.25,76.260000000000005,81.888999999999996,67.744,78.587000000000003,82.700000000000003,74.415999999999997,72.299999999999997,82.680487804878098,73.578000000000003,72.228999999999999,73.935000000000002,71.674000000000007,74.439999999999998,71.287999999999997,72.667000000000002,74.579999999999998,69.896000000000001,79.195999999999998,71.587000000000003,73.488,78.474999999999994,68.998999999999995,72.048780487804905,73.372,71.335999999999999,74.555999999999997,81.558999999999997,77.905000000000001,66.430999999999997,79.680000000000007,80.263999999999996,69.055999999999997,74.551000000000002,67.256,73.697999999999993,62.878999999999998,69.409999999999997,74.215000000000003,70.483999999999995,63.719999999999999,81.888999999999996,81.888999999999996,72.186999999999998,76.609999999999999,null,83.996341463414595,82.895121951219494,79.245999999999995],"text":["País: Indonesia<br />PIB per cápita: 4,135.6<br />Esperanza de vida: 68.25","País: Malaysia<br />PIB per cápita: 11,414.2<br />Esperanza de vida: 76.26","País: Cyprus<br />PIB per cápita: 20,814.7<br />Esperanza de vida: 81.89","País: India<br />PIB per cápita: 2,099.6<br />Esperanza de vida: 67.74","País: China<br />PIB per cápita: 10,500.6<br />Esperanza de vida: 78.59","País: Israel<br />PIB per cápita: 29,910.5<br />Esperanza de vida: 82.7","País: Lebanon<br />PIB per cápita: 7,583.6<br />Esperanza de vida: 74.42","País: Syria<br />PIB per cápita: 5,789.6<br />Esperanza de vida: 72.3","País: South Korea<br />PIB per cápita: 31,846.2<br />Esperanza de vida: 82.68","País: North Korea<br />PIB per cápita: 1,558.5<br />Esperanza de vida: 73.58","País: Bhutan<br />PIB per cápita: 3,315.5<br />Esperanza de vida: 72.23","País: Oman<br />PIB per cápita: 15,343.0<br />Esperanza de vida: 73.94","País: Uzbekistan<br />PIB per cápita: 1,724.8<br />Esperanza de vida: 71.67","País: Kazakhstan<br />PIB per cápita: 9,812.3<br />Esperanza de vida: 74.44","País: Tajikistan<br />PIB per cápita: 870.7<br />Esperanza de vida: 71.29","País: Mongolia<br />PIB per cápita: 4,339.6<br />Esperanza de vida: 72.67","País: Vietnam<br />PIB per cápita: 2,715.3<br />Esperanza de vida: 74.58","País: Cambodia<br />PIB per cápita: 1,643.1<br />Esperanza de vida: 69.9","País: United Arab Emirates<br />PIB per cápita: 43,103.3<br />Esperanza de vida: 79.2","País: Georgia<br />PIB per cápita: 2,038.8<br />Esperanza de vida: 71.59","País: Azerbaijan<br />PIB per cápita: 4,793.5<br />Esperanza de vida: 73.49","País: Turkey<br />PIB per cápita: 9,126.6<br />Esperanza de vida: 78.47","País: Laos<br />PIB per cápita: 2,534.8<br />Esperanza de vida: 69","País: Kyrgyzstan<br />PIB per cápita: 1,309.3<br />Esperanza de vida: 72.05","País: Armenia<br />PIB per cápita: 4,622.5<br />Esperanza de vida: 73.37","País: Iraq<br />PIB per cápita: 5,955.1<br />Esperanza de vida: 71.34","País: Iran<br />PIB per cápita: 5,475.5<br />Esperanza de vida: 74.56","País: Qatar<br />PIB per cápita: 62,087.9<br />Esperanza de vida: 81.56","País: Saudi Arabia<br />PIB per cápita: 23,139.8<br />Esperanza de vida: 77.9","País: Pakistan<br />PIB per cápita: 1,284.7<br />Esperanza de vida: 66.43","País: Thailand<br />PIB per cápita: 7,806.7<br />Esperanza de vida: 79.68","País: Kuwait<br />PIB per cápita: 32,000.3<br />Esperanza de vida: 80.26","País: Timor-Leste<br />PIB per cápita: 1,559.8<br />Esperanza de vida: 69.06","País: Brunei<br />PIB per cápita: 31,085.8<br />Esperanza de vida: 74.55","País: Myanmar<br />PIB per cápita: 1,407.8<br />Esperanza de vida: 67.26","País: Bangladesh<br />PIB per cápita: 1,855.7<br />Esperanza de vida: 73.7","País: Afghanistan<br />PIB per cápita: 507.1<br />Esperanza de vida: 62.88","País: Turkmenistan<br />PIB per cápita: 6,859.7<br />Esperanza de vida: 69.41","País: Jordan<br />PIB per cápita: 4,405.4<br />Esperanza de vida: 74.22","País: Nepal<br />PIB per cápita: 1,071.0<br />Esperanza de vida: 70.48","País: Yemen<br />PIB per cápita: 774.3<br />Esperanza de vida: 63.72","País: N. Cyprus<br />PIB per cápita: 11,042.9<br />Esperanza de vida: 81.89","País: Cyprus U.N. Buffer Zone<br />PIB per cápita: 28,000.0<br />Esperanza de vida: 81.89","País: Philippines<br />PIB per cápita: 3,485.1<br />Esperanza de vida: 72.19","País: Sri Lanka<br />PIB per cápita: 3,853.0<br />Esperanza de vida: 76.61","País: Taiwan<br />PIB per cápita: 47,818.3<br />Esperanza de vida: NA","País: Japan<br />PIB per cápita: 40,246.9<br />Esperanza de vida: 84","País: Singapore<br />PIB per cápita: 65,233.2<br />Esperanza de vida: 82.9","País: Bahrain<br />PIB per cápita: 23,503.9<br />Esperanza de vida: 79.25"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"Asia","legendgroup":"Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[42501.354345964275,40371.986126939191,3464.6944456992433,6663.2470167498059,51843.819693736645,19601.743046973566,11774.152374948775,23494.548914126899,46445.242388626903,23723.230236923238,17828.417039202966,75419.566872654221,51614.936162753358,40665.215907612663,114703.11148966925,46420.624073987805,6022.1967410925772,5353.1806385767459,4417.4495387482666,29600.367110911851,60145.800019448106,12919.506705329217,16731.817126169237,19266.152103208005,15692.501573706204,78660.812507437091,19582.46495392729,50137.618652647325,33228.234267363718,81993.676377566342,180856.9399510771,7411.8337359025772,14935.955746773205,25946.07331798811,9828.0316656490959,48877.731836975785,184477.97967354479,40885.639470068185,8908.0057929362829,6108.4519842471982,23252.050238100175,4503.2485625388272,null,66944.726594393229,29819.776267126625],"y":[82.0585365853659,82.229268292682903,68.587926829268298,73.111463414634201,81.714634146341496,75.792682926829301,72.545609756097605,79.0292682926829,80.705609756097601,77.943902439024399,74.580487804878004,82.560975609756099,83.109756097561004,81.187804878048794,83.046341463414606,81.697560975609804,74.424878048780499,76.832999999999998,75.482195121951193,83.082926829268303,81.304878048780495,75.304878048780495,76.017073170731706,77.065853658536597,77.304878048780495,83.056097560975601,80.636585365853705,81.092682926829298,82.900000000000006,83.453658536585394,84.319512195122002,75.482195121951193,77.575609756097606,81.282926829268305,74.360975609756096,null,null,null,76.187804878048794,75.293000000000006,null,68.620999999999995,null,82.170731707317103,82.700000000000003],"text":["País: United Kingdom<br />PIB per cápita: 42,501.3<br />Esperanza de vida: 82.06","País: France<br />PIB per cápita: 40,372.0<br />Esperanza de vida: 82.23","País: Ukraine<br />PIB per cápita: 3,464.7<br />Esperanza de vida: 68.59","País: Belarus<br />PIB per cápita: 6,663.2<br />Esperanza de vida: 73.11","País: Netherlands<br />PIB per cápita: 51,843.8<br />Esperanza de vida: 81.71","País: Lithuania<br />PIB per cápita: 19,601.7<br />Esperanza de vida: 75.79","País: Russia<br />PIB per cápita: 11,774.1<br />Esperanza de vida: 72.55","País: Czechia<br />PIB per cápita: 23,494.5<br />Esperanza de vida: 79.03","País: Germany<br />PIB per cápita: 46,445.2<br />Esperanza de vida: 80.71","País: Estonia<br />PIB per cápita: 23,723.2<br />Esperanza de vida: 77.94","País: Latvia<br />PIB per cápita: 17,828.4<br />Esperanza de vida: 74.58","País: Norway<br />PIB per cápita: 75,419.6<br />Esperanza de vida: 82.56","País: Sweden<br />PIB per cápita: 51,614.9<br />Esperanza de vida: 83.11","País: Finland<br />PIB per cápita: 40,665.2<br />Esperanza de vida: 81.19","País: Luxembourg<br />PIB per cápita: 114,703.1<br />Esperanza de vida: 83.05","País: Belgium<br />PIB per cápita: 46,420.6<br />Esperanza de vida: 81.7","País: North Macedonia<br />PIB per cápita: 6,022.2<br />Esperanza de vida: 74.42","País: Albania<br />PIB per cápita: 5,353.2<br />Esperanza de vida: 76.83","País: Kosovo<br />PIB per cápita: 4,417.4<br />Esperanza de vida: 75.48","País: Spain<br />PIB per cápita: 29,600.4<br />Esperanza de vida: 83.08","País: Denmark<br />PIB per cápita: 60,145.8<br />Esperanza de vida: 81.3","País: Romania<br />PIB per cápita: 12,919.5<br />Esperanza de vida: 75.3","País: Hungary<br />PIB per cápita: 16,731.8<br />Esperanza de vida: 76.02","País: Slovakia<br />PIB per cápita: 19,266.2<br />Esperanza de vida: 77.07","País: Poland<br />PIB per cápita: 15,692.5<br />Esperanza de vida: 77.3","País: Ireland<br />PIB per cápita: 78,660.8<br />Esperanza de vida: 83.06","País: Greece<br />PIB per cápita: 19,582.5<br />Esperanza de vida: 80.64","País: Austria<br />PIB per cápita: 50,137.6<br />Esperanza de vida: 81.09","País: Italy<br />PIB per cápita: 33,228.2<br />Esperanza de vida: 82.9","País: Switzerland<br />PIB per cápita: 81,993.7<br />Esperanza de vida: 83.45","País: Liechtenstein<br />PIB per cápita: 180,856.9<br />Esperanza de vida: 84.32","País: Serbia<br />PIB per cápita: 7,411.8<br />Esperanza de vida: 75.48","País: Croatia<br />PIB per cápita: 14,936.0<br />Esperanza de vida: 77.58","País: Slovenia<br />PIB per cápita: 25,946.1<br />Esperanza de vida: 81.28","País: Bulgaria<br />PIB per cápita: 9,828.0<br />Esperanza de vida: 74.36","País: San Marino<br />PIB per cápita: 48,877.7<br />Esperanza de vida: NA","País: Monaco<br />PIB per cápita: 184,478.0<br />Esperanza de vida: NA","País: Andorra<br />PIB per cápita: 40,885.6<br />Esperanza de vida: NA","País: Montenegro<br />PIB per cápita: 8,908.0<br />Esperanza de vida: 76.19","País: Bosnia and Herz.<br />PIB per cápita: 6,108.4<br />Esperanza de vida: 75.29","País: Portugal<br />PIB per cápita: 23,252.0<br />Esperanza de vida: NA","País: Moldova<br />PIB per cápita: 4,503.2<br />Esperanza de vida: 68.62","País: Vatican<br />PIB per cápita: -120,000.0<br />Esperanza de vida: NA","País: Iceland<br />PIB per cápita: 66,944.7<br />Esperanza de vida: 82.17","País: Malta<br />PIB per cápita: 29,819.8<br />Esperanza de vida: 82.7"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,190,103,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,190,103,1)"}},"hoveron":"points","name":"Europe","legendgroup":"Europe","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12243.735142576779,1912.7639102394285,1272.4764289545387,8282.0884484323342,4187.1508609288558,4619.9638569585477,8825.4422757770044,2574.8716129716072,64966.827350410647,46194.708478181878,9946.0296966513088,4813.591800242345,15730.827641701671,34861.688088281357,17397.469341700522,10803.282054944955,7451.0123068297935,18148.244926400141,11608.950161387384,8104.9465240641712,17102.905743528492,19930.347882045651,5582.2396727039741],"y":[77.319999999999993,74.614999999999995,63.728000000000002,74.170000000000002,71.474999999999994,68.674000000000007,78.155000000000001,70.727999999999994,77.434146341463403,81.295609756097605,74.831999999999994,70.962000000000003,76.825999999999993,74.358000000000004,74.707999999999998,75.334999999999994,68.971999999999994,77.706000000000003,71.293999999999997,72.980999999999995,79.236000000000004,72.027000000000001,70.629000000000005],"text":["País: Costa Rica<br />PIB per cápita: 12,243.7<br />Esperanza de vida: 77.32","País: Nicaragua<br />PIB per cápita: 1,912.8<br />Esperanza de vida: 74.61","País: Haiti<br />PIB per cápita: 1,272.5<br />Esperanza de vida: 63.73","País: Dominican Rep.<br />PIB per cápita: 8,282.1<br />Esperanza de vida: 74.17","País: El Salvador<br />PIB per cápita: 4,187.1<br />Esperanza de vida: 71.47","País: Guatemala<br />PIB per cápita: 4,620.0<br />Esperanza de vida: 68.67","País: Cuba<br />PIB per cápita: 8,825.4<br />Esperanza de vida: 78.16","País: Honduras<br />PIB per cápita: 2,574.9<br />Esperanza de vida: 70.73","País: United States of America<br />PIB per cápita: 64,966.8<br />Esperanza de vida: 77.43","País: Canada<br />PIB per cápita: 46,194.7<br />Esperanza de vida: 81.3","País: Mexico<br />PIB per cápita: 9,946.0<br />Esperanza de vida: 74.83","País: Belize<br />PIB per cápita: 4,813.6<br />Esperanza de vida: 70.96","País: Panama<br />PIB per cápita: 15,730.8<br />Esperanza de vida: 76.83","País: Bahamas<br />PIB per cápita: 34,861.7<br />Esperanza de vida: 74.36","País: Trinidad and Tobago<br />PIB per cápita: 17,397.5<br />Esperanza de vida: 74.71","País: Grenada<br />PIB per cápita: 10,803.3<br />Esperanza de vida: 75.33","País: St. Vin. and Gren.<br />PIB per cápita: 7,451.0<br />Esperanza de vida: 68.97","País: Barbados<br />PIB per cápita: 18,148.2<br />Esperanza de vida: 77.71","País: Saint Lucia<br />PIB per cápita: 11,609.0<br />Esperanza de vida: 71.29","País: Dominica<br />PIB per cápita: 8,105.0<br />Esperanza de vida: 72.98","País: Antigua and Barb.<br />PIB per cápita: 17,102.9<br />Esperanza de vida: 79.24","País: St. Kitts and Nevis<br />PIB per cápita: 19,930.3<br />Esperanza de vida: 72.03","País: Jamaica<br />PIB per cápita: 5,582.2<br />Esperanza de vida: 70.63"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"North America","legendgroup":"North America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2829.1581155156573,55053.069575397283,6175.6070264384753,41872.187844134358,1649.57570191997,3759.0787705601201,4899.8028594943253,4322.7446384267641,2372.268494811316,4035.7204190279926,9379.2226373102294,3523.2614330272813,3114.5583929679005,14882.274544646823],"y":[null,83.200000000000003,68.311999999999998,82.760975609756102,67.661000000000001,65.146000000000001,71.269999999999996,72.597999999999999,70.742000000000004,64.853999999999999,64.013999999999996,70.924999999999997,70.492000000000004,null],"text":["País: Papua New Guinea<br />PIB per cápita: 2,829.2<br />Esperanza de vida: NA","País: Australia<br />PIB per cápita: 55,053.1<br />Esperanza de vida: 83.2","País: Fiji<br />PIB per cápita: 6,175.6<br />Esperanza de vida: 68.31","País: New Zealand<br />PIB per cápita: 41,872.2<br />Esperanza de vida: 82.76","País: Kiribati<br />PIB per cápita: 1,649.6<br />Esperanza de vida: 67.66","País: Marshall Is.<br />PIB per cápita: 3,759.1<br />Esperanza de vida: 65.15","País: Tonga<br />PIB per cápita: 4,899.8<br />Esperanza de vida: 71.27","País: Samoa<br />PIB per cápita: 4,322.7<br />Esperanza de vida: 72.6","País: Solomon Is.<br />PIB per cápita: 2,372.3<br />Esperanza de vida: 70.74","País: Tuvalu<br />PIB per cápita: 4,035.7<br />Esperanza de vida: 64.85","País: Nauru<br />PIB per cápita: 9,379.2<br />Esperanza de vida: 64.01","País: Micronesia<br />PIB per cápita: 3,523.3<br />Esperanza de vida: 70.92","País: Vanuatu<br />PIB per cápita: 3,114.6<br />Esperanza de vida: 70.49","País: Palau<br />PIB per cápita: 14,882.3<br />Esperanza de vida: NA"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,169,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,169,255,1)"}},"hoveron":"points","name":"Oceania","legendgroup":"Oceania","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[17444.302176696543,11098.900143871706,10626.175951543732],"y":[73.848780487804902,73.514634146341507,80.838999999999999],"text":["País: Seychelles<br />PIB per cápita: 17,444.3<br />Esperanza de vida: 73.85","País: Mauritius<br />PIB per cápita: 11,098.9<br />Esperanza de vida: 73.51","País: Maldives<br />PIB per cápita: 10,626.2<br />Esperanza de vida: 80.84"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"Seven seas (open ocean)","legendgroup":"Seven seas (open ocean)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14896.445437688548,3552.0407188333288,6977.694220378904,9912.2778596769767,6359.1938255444529,6608.6161126058105,8717.1860849515197,16189.86323039263,6183.785548492885,6428.656749340671,5414.7581223501111,16915.482274774477],"y":[79.519000000000005,64.927999999999997,73.385000000000005,76.063999999999993,70.289000000000001,65.989000000000004,73.424999999999997,78,77.894000000000005,73.659000000000006,70.474999999999994,71.105000000000004],"text":["País: Chile<br />PIB per cápita: 14,896.4<br />Esperanza de vida: 79.52","País: Bolivia<br />PIB per cápita: 3,552.0<br />Esperanza de vida: 64.93","País: Peru<br />PIB per cápita: 6,977.7<br />Esperanza de vida: 73.39","País: Argentina<br />PIB per cápita: 9,912.3<br />Esperanza de vida: 76.06","País: Suriname<br />PIB per cápita: 6,359.2<br />Esperanza de vida: 70.29","País: Guyana<br />PIB per cápita: 6,608.6<br />Esperanza de vida: 65.99","País: Brazil<br />PIB per cápita: 8,717.2<br />Esperanza de vida: 73.42","País: Uruguay<br />PIB per cápita: 16,189.9<br />Esperanza de vida: 78","País: Ecuador<br />PIB per cápita: 6,183.8<br />Esperanza de vida: 77.89","País: Colombia<br />PIB per cápita: 6,428.7<br />Esperanza de vida: 73.66","País: Paraguay<br />PIB per cápita: 5,414.8<br />Esperanza de vida: 70.47","País: Venezuela<br />PIB per cápita: 16,915.5<br />Esperanza de vida: 71.11"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,97,204,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,97,204,1)"}},"hoveron":"points","name":"South America","legendgroup":"South America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[261.21842960198012,360.84037844998011,460.46232729798015,560.0842761459802,659.70622499398019,759.32817384198017,858.95012268998028,958.57207153798026,1058.1940203859804,1157.8159692339802,1257.4379180819801,1357.0598669299802,1456.6818157779803,1556.3037646259804,1655.9257134739805,1755.5476623219802,1855.1696111699803,1954.7915600179804,2054.4135088659805,2154.0354577139806,2253.6574065619802,2353.2793554099803,2452.9013042579804,2552.5232531059805,2652.1452019539806,2751.7671508019803,2851.3890996499804,2951.0110484979805,3050.6329973459806,3150.2549461939807,3249.8768950419803,3349.4988438899804,3449.1207927379805,3548.7427415859806,3648.3646904339807,3747.9866392819804,3847.6085881299805,3947.2305369779806,4046.8524858259807,4146.4744346739808,4246.0963835219809,4345.718332369981,4445.3402812179811,4544.9622300659812,4644.5841789139813,4744.2061277619814,4843.8280766099815,4943.4500254579816,5043.0719743059817,5142.6939231539809,5242.315872001981,5341.9378208499811,5441.5597696979812,5541.1817185459813,5640.8036673939814,5740.4256162419815,5840.0475650899816,5939.6695139379817,6039.2914627859818,6138.913411633981,6238.5353604819811,6338.1573093299812,6437.7792581779813,6537.4012070259814,6637.0231558739815,6736.6451047219816,6836.2670535699817,6935.8890024179818,7035.5109512659819,7135.132900113982,7234.7548489619812,7334.3767978099813,7433.9987466579814,7533.6206955059815,7633.2426443539816,7732.8645932019817,7832.4865420499818,7932.1084908979819,8031.730439745982,8131.3523885939821],"y":[61.138496738832274,61.219172677247371,61.299848615662469,61.380524554077574,61.461200492492672,61.54187643090777,61.622552369322868,61.703228307737966,61.783904246153064,61.864580184568162,61.94525612298326,62.025932061398358,62.106607999813455,62.18728393822856,62.267959876643658,62.348635815058756,62.429311753473854,62.509987691888952,62.59066363030405,62.671339568719148,62.752015507134246,62.832691445549344,62.913367383964442,62.99404332237954,63.074719260794645,63.155395199209742,63.23607113762484,63.316747076039938,63.397423014455036,63.478098952870134,63.558774891285232,63.63945082970033,63.720126768115428,63.800802706530526,63.881478644945631,63.962154583360729,64.042830521775826,64.123506460190924,64.204182398606022,64.28485833702112,64.365534275436218,64.446210213851316,64.526886152266414,64.607562090681512,64.68823802909661,64.768913967511708,64.849589905926805,64.930265844341903,65.010941782757001,65.091617721172099,65.172293659587211,65.252969598002309,65.333645536417407,65.414321474832505,65.494997413247603,65.575673351662701,65.656349290077799,65.737025228492897,65.817701166907995,65.898377105323092,65.97905304373819,66.059728982153288,66.140404920568386,66.221080858983484,66.301756797398582,66.38243273581368,66.463108674228778,66.543784612643876,66.624460551058974,66.705136489474071,66.785812427889169,66.866488366304281,66.947164304719365,67.027840243134477,67.108516181549575,67.189192119964673,67.269868058379771,67.350543996794869,67.431219935209967,67.511895873625065],"text":"","type":"scatter","mode":"lines","name":"Africa","line":{"width":3.7795275590551185,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","legendgroup":"Africa","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[507.10069782797081,1326.4182833652353,2145.7358689025,2965.0534544397642,3784.3710399770289,4603.6886255142936,5423.0062110515582,6242.3237965888229,7061.6413821260876,7880.9589676633523,8700.276553200616,9519.5941387378807,10338.911724275145,11158.22930981241,11977.546895349675,12796.864480886939,13616.182066424204,14435.499651961469,15254.817237498733,16074.134823035998,16893.452408573259,17712.769994110524,18532.087579647789,19351.405165185053,20170.722750722318,20990.040336259583,21809.357921796847,22628.675507334112,23447.993092871377,24267.310678408641,25086.628263945906,25905.945849483171,26725.263435020435,27544.5810205577,28363.898606094965,29183.216191632229,30002.533777169494,30821.851362706759,31641.168948244023,32460.486533781288,33279.804119318549,34099.121704855817,34918.439290393078,35737.756875930347,36557.074461467608,37376.392047004876,38195.709632542137,39015.027218079405,39834.344803616666,40653.662389153935,41472.979974691196,42292.297560228464,43111.615145765725,43930.932731302993,44750.250316840255,45569.567902377523,46388.885487914784,47208.203073452052,48027.520658989313,48846.838244526582,49666.155830063843,50485.473415601111,51304.791001138372,52124.10858667564,52943.426172212901,53762.743757750162,54582.061343287431,55401.378928824692,56220.69651436196,57040.014099899221,57859.331685436489,58678.64927097375,59497.966856511019,60317.28444204828,61136.602027585548,61955.919613122809,62775.237198660077,63594.554784197338,64413.872369734607,65233.189955271868],"y":[71.496129039449684,71.697180275396576,71.898231511343468,72.09928274729036,72.300333983237252,72.501385219184144,72.702436455131036,72.903487691077927,73.104538927024819,73.305590162971711,73.506641398918603,73.707692634865495,73.908743870812387,74.109795106759279,74.310846342706171,74.511897578653063,74.712948814599969,74.914000050546861,75.115051286493753,75.316102522440644,75.517153758387536,75.718204994334428,75.91925623028132,76.120307466228212,76.321358702175104,76.522409938121996,76.723461174068888,76.92451241001578,77.125563645962671,77.326614881909563,77.527666117856455,77.728717353803347,77.929768589750239,78.130819825697131,78.331871061644023,78.532922297590915,78.733973533537807,78.935024769484698,79.13607600543159,79.337127241378482,79.538178477325374,79.73922971327228,79.940280949219158,80.141332185166064,80.342383421112956,80.543434657059848,80.74448589300674,80.945537128953632,81.146588364900524,81.347639600847415,81.548690836794307,81.749742072741199,81.950793308688091,82.151844544634983,82.352895780581875,82.553947016528767,82.754998252475659,82.956049488422551,83.157100724369442,83.358151960316334,83.559203196263226,83.760254432210132,83.96130566815701,84.162356904103916,84.363408140050808,84.5644593759977,84.765510611944592,84.966561847891484,85.167613083838376,85.368664319785267,85.569715555732159,85.770766791679051,85.971818027625943,86.172869263572835,86.373920499519727,86.574971735466619,86.776022971413511,86.977074207360403,87.178125443307295,87.379176679254186],"text":"","type":"scatter","mode":"lines","name":"Asia","line":{"width":3.7795275590551185,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","legendgroup":"Asia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3464.6944456992433,5710.1659077926342,7955.6373698860243,10201.108831979414,12446.580294072806,14692.051756166195,16937.523218259586,19182.994680352978,21428.466142446367,23673.937604539758,25919.409066633147,28164.880528726539,30410.351990819931,32655.823452913319,34901.294915006714,37146.766377100103,39392.237839193491,41637.709301286879,43883.180763380275,46128.652225473663,48374.123687567051,50619.595149660447,52865.066611753835,55110.538073847223,57356.009535940619,59601.480998034007,61846.952460127395,64092.423922220783,66337.895384314179,68583.366846407574,70828.83830850097,73074.309770594351,75319.781232687747,77565.252694781142,79810.724156874523,82056.195618967919,84301.667081061314,86547.138543154695,88792.610005248091,91038.081467341486,93283.552929434867,95529.024391528263,97774.495853621658,100019.96731571504,102265.43877780843,104510.91023990183,106756.38170199521,109001.85316408861,111247.324626182,113492.79608827538,115738.26755036878,117983.73901246216,120229.21047455556,122474.68193664895,124720.15339874233,126965.62486083573,129211.09632292912,131456.56778502249,133702.0392471159,135947.51070920928,138192.98217130269,140438.45363339607,142683.92509548945,144929.39655758286,147174.86801967624,149420.33948176962,151665.81094386303,153911.28240595642,156156.7538680498,158402.22533014321,160647.69679223659,162893.16825432997,165138.63971642338,167384.11117851676,169629.58264061014,171875.05410270355,174120.52556479693,176365.99702689031,178611.46848898372,180856.9399510771],"y":[76.029125490530888,76.214670576600199,76.40021566266951,76.585760748738821,76.771305834808132,76.956850920877443,77.142396006946754,77.327941093016065,77.513486179085376,77.699031265154687,77.884576351223998,78.070121437293309,78.255666523362621,78.441211609431932,78.626756695501243,78.812301781570554,78.997846867639865,79.183391953709176,79.368937039778501,79.554482125847812,79.740027211917123,79.925572297986434,80.111117384055746,80.296662470125057,80.482207556194368,80.667752642263679,80.85329772833299,81.038842814402301,81.224387900471612,81.409932986540923,81.595478072610234,81.781023158679545,81.966568244748856,82.152113330818167,82.337658416887479,82.52320350295679,82.708748589026101,82.894293675095412,83.079838761164723,83.265383847234048,83.450928933303359,83.63647401937267,83.822019105441981,84.007564191511293,84.193109277580604,84.378654363649915,84.564199449719226,84.749744535788537,84.935289621857848,85.120834707927159,85.30637979399647,85.491924880065781,85.677469966135092,85.863015052204403,86.048560138273714,86.234105224343025,86.419650310412337,86.605195396481648,86.790740482550973,86.976285568620284,87.161830654689595,87.347375740758906,87.532920826828217,87.718465912897528,87.904010998966839,88.089556085036151,88.275101171105462,88.460646257174773,88.646191343244084,88.831736429313395,89.017281515382706,89.202826601452017,89.388371687521328,89.573916773590639,89.75946185965995,89.945006945729261,null,null,null,null],"text":"","type":"scatter","mode":"lines","name":"Europe","line":{"width":3.7795275590551185,"color":"rgba(0,190,103,1)","dash":"solid"},"hoveron":"points","legendgroup":"Europe","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1272.4764289545387,2078.7340355552487,2884.9916421559592,3691.2492487566692,4497.5068553573801,5303.7644619580897,6110.0220685587992,6916.2796751595106,7722.5372817602201,8528.7948883609315,9335.0524949616411,10141.310101562351,10947.56770816306,11753.825314763772,12560.082921364481,13366.340527965192,14172.598134565902,14978.855741166612,15785.113347767323,16591.370954368034,17397.628560968744,18203.886167569453,19010.143774170163,19816.401380770872,20622.658987371582,21428.916593972295,22235.174200573005,23041.431807173714,23847.689413774424,24653.947020375133,25460.204626975847,26266.462233576556,27072.719840177266,27878.977446777975,28685.235053378685,29491.492659979398,30297.750266580108,31104.007873180817,31910.265479781527,32716.523086382236,33522.780692982953,34329.038299583663,35135.295906184372,35941.553512785082,36747.811119385791,37554.068725986501,38360.32633258721,39166.58393918792,39972.841545788629,40779.099152389346,41585.356758990056,42391.614365590765,43197.871972191475,44004.129578792184,44810.387185392894,45616.644791993604,46422.902398594313,47229.160005195023,48035.417611795732,48841.675218396449,49647.932824997159,50454.190431597868,51260.448038198578,52066.705644799287,52872.963251399997,53679.220858000706,54485.478464601416,55291.736071202125,56097.993677802835,56904.251284403545,57710.508891004261,58516.766497604971,59323.02410420568,60129.28171080639,60935.5393174071,61741.796924007809,62548.054530608519,63354.312137209228,64160.569743809938,64966.827350410647],"y":[71.836549343879057,71.955194663150209,72.073839982421362,72.192485301692514,72.311130620963667,72.429775940234819,72.548421259505972,72.667066578777124,72.785711898048277,72.904357217319429,73.023002536590582,73.141647855861734,73.260293175132887,73.378938494404039,73.497583813675192,73.616229132946344,73.734874452217497,73.853519771488664,73.972165090759816,74.090810410030969,74.209455729302121,74.328101048573274,74.446746367844426,74.565391687115579,74.684037006386731,74.802682325657884,74.921327644929036,75.039972964200189,75.158618283471341,75.277263602742494,75.395908922013646,75.514554241284799,75.633199560555951,75.751844879827104,75.870490199098256,75.989135518369409,76.107780837640561,76.226426156911714,76.345071476182866,76.463716795454019,76.582362114725186,76.701007433996324,76.819652753267491,76.938298072538643,77.056943391809796,77.175588711080948,77.294234030352101,77.412879349623253,77.531524668894406,77.650169988165558,77.768815307436711,77.887460626707863,78.006105945979016,78.124751265250168,78.243396584521321,78.362041903792473,78.480687223063626,78.599332542334778,78.717977861605931,78.836623180877083,78.955268500148236,79.073913819419388,79.192559138690541,79.311204457961693,79.429849777232846,79.548495096504013,79.667140415775151,79.785785735046318,79.90443105431747,80.023076373588623,80.141721692859775,80.260367012130928,80.37901233140208,80.497657650673233,80.616302969944385,80.734948289215538,80.85359360848669,80.972238927757843,81.090884247028995,81.209529566300148],"text":"","type":"scatter","mode":"lines","name":"North America","line":{"width":3.7795275590551185,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","legendgroup":"North America","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1649.57570191997,2325.5692952551258,3001.5628885902815,3677.5564819254378,4353.5500752605931,5029.5436685957493,5705.5372619309055,6381.5308552660608,7057.524448601217,7733.5180419363733,8409.5116352715286,9085.5052286066857,9761.498821941841,10437.492415276996,11113.486008612152,11789.479601947309,12465.473195282464,13141.466788617619,13817.460381952777,14493.453975287932,15169.447568623087,15845.441161958244,16521.434755293398,17197.428348628557,17873.421941963712,18549.415535298867,19225.409128634023,19901.402721969178,20577.396315304333,21253.389908639492,21929.383501974648,22605.377095309803,23281.370688644958,23957.364281980113,24633.357875315269,25309.351468650424,25985.345061985583,26661.338655320738,27337.332248655894,28013.325841991049,28689.319435326204,29365.31302866136,30041.306621996519,30717.300215331674,31393.293808666829,32069.287402001984,32745.28099533714,33421.274588672299,34097.26818200745,34773.261775342602,35449.255368677768,36125.24896201292,36801.242555348072,37477.236148683238,38153.22974201839,38829.223335353541,39505.216928688693,40181.210522023859,40857.204115359011,41533.197708694162,42209.191302029329,42885.18489536448,43561.178488699632,44237.172082034784,44913.16567536995,45589.159268705102,46265.152862040253,46941.146455375419,47617.140048710571,48293.133642045723,48969.127235380874,49645.120828716041,50321.114422051192,50997.108015386344,51673.10160872151,52349.095202056662,53025.088795391814,53701.08238872698,54377.075982062132,55053.069575397283],"y":[67.921467175873332,68.128807249984831,68.336147324096345,68.543487398207844,68.750827472319344,68.958167546430843,69.165507620542343,69.372847694653856,69.580187768765356,69.787527842876855,69.994867916988355,70.202207991099854,70.409548065211368,70.616888139322867,70.824228213434367,71.031568287545866,71.238908361657366,71.446248435768865,71.653588509880379,71.860928583991878,72.068268658103378,72.275608732214877,72.482948806326377,72.69028888043789,72.89762895454939,73.104969028660889,73.312309102772389,73.519649176883888,73.726989250995388,73.934329325106901,74.141669399218401,74.3490094733299,74.5563495474414,74.763689621552913,74.971029695664413,75.178369769775912,75.385709843887412,75.593049917998911,75.800389992110411,76.007730066221924,76.215070140333424,76.422410214444923,76.629750288556423,76.837090362667922,77.044430436779436,77.251770510890935,77.459110585002435,77.666450659113934,77.873790733225434,78.081130807336933,78.288470881448447,78.495810955559946,78.703151029671446,78.910491103782959,79.117831177894459,79.325171252005958,79.532511326117458,79.739851400228957,79.947191474340457,80.154531548451956,80.36187162256347,80.569211696674969,80.776551770786469,80.983891844897968,81.191231919009482,81.398571993120981,81.605912067232481,81.81325214134398,82.02059221545548,82.227932289566979,82.435272363678479,82.642612437789992,82.849952511901492,83.057292586012991,83.264632660124491,83.471972734236004,83.679312808347504,83.886652882459003,84.093992956570503,84.301333030682002],"text":"","type":"scatter","mode":"lines","name":"Oceania","line":{"width":3.7795275590551185,"color":"rgba(0,169,255,1)","dash":"solid"},"hoveron":"points","legendgroup":"Oceania","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10626.175951543732,10712.48134679883,10798.78674205393,10885.092137309028,10971.397532564128,11057.702927819226,11144.008323074326,11230.313718329424,11316.619113584522,11402.924508839622,11489.22990409472,11575.53529934982,11661.840694604918,11748.146089860016,11834.451485115116,11920.756880370214,12007.062275625314,12093.367670880412,12179.67306613551,12265.97846139061,12352.283856645709,12438.589251900808,12524.894647155907,12611.200042411005,12697.505437666105,12783.810832921203,12870.116228176303,12956.421623431401,13042.727018686499,13129.032413941599,13215.337809196699,13301.643204451797,13387.948599706895,13474.253994961995,13560.559390217093,13646.864785472193,13733.170180727291,13819.475575982389,13905.780971237489,13992.086366492587,14078.391761747687,14164.697157002785,14251.002552257884,14337.307947512983,14423.613342768082,14509.918738023182,14596.22413327828,14682.529528533378,14768.834923788478,14855.140319043578,14941.445714298676,15027.751109553774,15114.056504808872,15200.361900063972,15286.667295319072,15372.97269057417,15459.278085829268,15545.583481084366,15631.888876339466,15718.194271594566,15804.499666849664,15890.805062104762,15977.11045735986,16063.41585261496,16149.72124787006,16236.026643125158,16322.332038380257,16408.637433635355,16494.942828890453,16581.248224145555,16667.553619400653,16753.859014655751,16840.164409910853,16926.469805165951,17012.775200421049,17099.080595676147,17185.385990931245,17271.691386186343,17357.996781441445,17444.302176696543],"y":[77.436718718375587,77.38809335435441,77.339467990333233,77.290842626312042,77.242217262290865,77.193591898269688,77.144966534248496,77.096341170227319,77.047715806206142,76.999090442184951,76.950465078163774,76.901839714142596,76.853214350121419,76.804588986100228,76.755963622079051,76.707338258057874,76.658712894036682,76.610087530015505,76.561462165994328,76.512836801973137,76.46421143795196,76.415586073930783,76.366960709909591,76.318335345888414,76.269709981867237,76.221084617846046,76.172459253824869,76.123833889803691,76.075208525782514,76.026583161761323,75.977957797740146,75.929332433718969,75.880707069697777,75.8320817056766,75.783456341655423,75.734830977634232,75.686205613613055,75.637580249591878,75.588954885570686,75.540329521549509,75.491704157528332,75.443078793507141,75.394453429485964,75.345828065464787,75.297202701443609,75.248577337422418,75.199951973401241,75.151326609380064,75.102701245358872,75.054075881337695,75.005450517316518,74.956825153295327,74.90819978927415,74.859574425252973,74.810949061231781,74.762323697210604,74.713698333189427,74.66507296916825,74.616447605147059,74.567822241125882,74.51919687710469,74.470571513083513,74.421946149062336,74.373320785041159,74.324695421019968,74.27607005699879,74.227444692977613,74.178819328956422,74.130193964935245,74.081568600914068,74.032943236892876,73.984317872871699,73.935692508850522,73.887067144829331,73.838441780808154,73.789816416786977,73.741191052765799,73.692565688744608,73.643940324723431,73.595314960702254],"text":"","type":"scatter","mode":"lines","name":"Seven seas (open ocean)","line":{"width":3.7795275590551185,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","legendgroup":"Seven seas (open ocean)","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3552.0407188333288,3721.1982068832167,3890.3556949331046,4059.5131829829925,4228.6706710328808,4397.8281590827683,4566.9856471326566,4736.1431351825449,4905.3006232324324,5074.4581112823198,5243.6155993322081,5412.7730873820965,5581.9305754319839,5751.0880634818723,5920.2455515317597,6089.403039581648,6258.5605276315364,6427.7180156814238,6596.8755037313113,6766.0329917811996,6935.1904798310879,7104.3479678809763,7273.5054559308637,7442.6629439807512,7611.8204320306395,7780.9779200805278,7950.1354081304162,8119.2928961803027,8288.450384230191,8457.6078722800794,8626.7653603299677,8795.9228483798543,8965.0803364297426,9134.2378244796309,9303.3953125295193,9472.5528005794076,9641.7102886292942,9810.8677766791825,9980.0252647290708,10149.182752778959,10318.340240828846,10487.497728878734,10656.655216928622,10825.812704978511,10994.970193028399,11164.127681078286,11333.285169128174,11502.442657178062,11671.600145227951,11840.757633277837,12009.915121327726,12179.072609377614,12348.230097427502,12517.387585477389,12686.545073527277,12855.702561577165,13024.860049627054,13194.017537676942,13363.175025726829,13532.332513776717,13701.490001826605,13870.647489876494,14039.80497792638,14208.962465976269,14378.119954026157,14547.277442076045,14716.434930125934,14885.59241817582,15054.749906225708,15223.907394275597,15393.064882325485,15562.222370375372,15731.37985842526,15900.537346475148,16069.694834525037,16238.852322574925,16408.009810624812,16577.1672986747,16746.324786724588,16915.482274774477],"y":[69.899575043693119,69.992340025462681,70.085105007232244,70.177869989001806,70.270634970771368,70.363399952540931,70.456164934310493,70.54892991608007,70.641694897849632,70.734459879619195,70.827224861388757,70.919989843158319,71.012754824927882,71.105519806697444,71.198284788467006,71.291049770236569,71.383814752006131,71.476579733775694,71.56934471554527,71.662109697314833,71.754874679084395,71.847639660853957,71.94040464262352,72.033169624393082,72.125934606162645,72.218699587932207,72.311464569701769,72.404229551471332,72.496994533240894,72.589759515010471,72.682524496780033,72.775289478549595,72.868054460319158,72.96081944208872,73.053584423858283,73.146349405627845,73.239114387397407,73.33187936916697,73.424644350936532,73.517409332706109,73.610174314475671,73.702939296245233,73.795704278014796,73.888469259784358,73.981234241553921,74.073999223323483,74.166764205093045,74.259529186862608,74.35229416863217,74.445059150401732,74.537824132171309,74.630589113940871,74.723354095710434,74.816119077479996,74.908884059249559,75.001649041019121,75.094414022788683,75.187179004558246,75.279943986327808,75.372708968097371,75.465473949866947,75.55823893163651,75.651003913406072,75.743768895175634,75.836533876945197,75.929298858714759,76.022063840484321,76.114828822253884,76.207593804023446,76.300358785793009,76.393123767562571,76.485888749332133,76.57865373110171,76.671418712871272,76.764183694640835,76.856948676410397,76.949713658179959,77.042478639949522,77.135243621719084,77.228008603488647],"text":"","type":"scatter","mode":"lines","name":"South America","line":{"width":3.7795275590551185,"color":"rgba(255,97,204,1)","dash":"solid"},"hoveron":"points","legendgroup":"South America","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[261.21842960198012,360.84037844998011,460.46232729798015,560.0842761459802,659.70622499398019,759.32817384198017,858.95012268998028,958.57207153798026,1058.1940203859804,1157.8159692339802,1257.4379180819801,1357.0598669299802,1456.6818157779803,1556.3037646259804,1655.9257134739805,1755.5476623219802,1855.1696111699803,1954.7915600179804,2054.4135088659805,2154.0354577139806,2253.6574065619802,2353.2793554099803,2452.9013042579804,2552.5232531059805,2652.1452019539806,2751.7671508019803,2851.3890996499804,2951.0110484979805,3050.6329973459806,3150.2549461939807,3249.8768950419803,3349.4988438899804,3449.1207927379805,3548.7427415859806,3648.3646904339807,3747.9866392819804,3847.6085881299805,3947.2305369779806,4046.8524858259807,4146.4744346739808,4246.0963835219809,4345.718332369981,4445.3402812179811,4544.9622300659812,4644.5841789139813,4744.2061277619814,4843.8280766099815,4943.4500254579816,5043.0719743059817,5142.6939231539809,5242.315872001981,5341.9378208499811,5441.5597696979812,5541.1817185459813,5640.8036673939814,5740.4256162419815,5840.0475650899816,5939.6695139379817,6039.2914627859818,6138.913411633981,6238.5353604819811,6338.1573093299812,6437.7792581779813,6537.4012070259814,6637.0231558739815,6736.6451047219816,6836.2670535699817,6935.8890024179818,7035.5109512659819,7135.132900113982,7234.7548489619812,7334.3767978099813,7433.9987466579814,7533.6206955059815,7633.2426443539816,7732.8645932019817,7832.4865420499818,7932.1084908979819,8031.730439745982,8131.3523885939821,8131.3523885939821,8031.730439745982,7932.1084908979819,7832.4865420499818,7732.8645932019817,7633.2426443539816,7533.6206955059815,7433.9987466579814,7334.3767978099813,7234.7548489619812,7135.132900113982,7035.5109512659819,6935.8890024179818,6836.2670535699817,6736.6451047219816,6637.0231558739815,6537.4012070259814,6437.7792581779813,6338.1573093299812,6238.5353604819811,6138.913411633981,6039.2914627859818,5939.6695139379817,5840.0475650899816,5740.4256162419815,5640.8036673939814,5541.1817185459813,5441.5597696979812,5341.9378208499811,5242.315872001981,5142.6939231539809,5043.0719743059817,4943.4500254579816,4843.8280766099815,4744.2061277619814,4644.5841789139813,4544.9622300659812,4445.3402812179811,4345.718332369981,4246.0963835219809,4146.4744346739808,4046.8524858259807,3947.2305369779806,3847.6085881299805,3747.9866392819804,3648.3646904339807,3548.7427415859806,3449.1207927379805,3349.4988438899804,3249.8768950419803,3150.2549461939807,3050.6329973459806,2951.0110484979805,2851.3890996499804,2751.7671508019803,2652.1452019539806,2552.5232531059805,2452.9013042579804,2353.2793554099803,2253.6574065619802,2154.0354577139806,2054.4135088659805,1954.7915600179804,1855.1696111699803,1755.5476623219802,1655.9257134739805,1556.3037646259804,1456.6818157779803,1357.0598669299802,1257.4379180819801,1157.8159692339802,1058.1940203859804,958.57207153798026,858.95012268998028,759.32817384198017,659.70622499398019,560.0842761459802,460.46232729798015,360.84037844998011,261.21842960198012,261.21842960198012],"y":[59.116879176857232,59.244869118952593,59.371384358383018,59.496317261656486,59.619553748971889,59.740973542651979,59.860450619753664,59.977853908762157,60.093048269037666,60.205895786633448,60.316257410136409,60.423994934398422,60.528973318030502,60.631063292764871,60.730144190851007,60.826106883487377,60.918856693111806,61.008316120214843,61.094427216205482,61.177153441600325,61.256480874979708,61.332418681225356,61.404998802791219,61.474274897958182,61.540320606935332,61.603227272739851,61.6631012736866,61.720061135833355,61.774234587824189,61.825755700714957,61.874762226416998,61.921393215465592,61.965786962341539,62.00807929777082,62.048402224169145,62.086882873341636,62.123642754440759,62.158797254206824,62.192455349583653,62.224719493797863,62.255685639906702,62.285443369827256,62.314076101330926,62.341661349980811,62.368271027220437,62.393971759629565,62.418825217672229,62.442888445061676,62.466214182180806,62.488851178871791,62.510844493399553,62.532235775559627,62.553063532795576,62.573363378864343,62.593168265084671,62.612508694559011,62.631412920005154,62.649907125995419,62.6680155964984,62.685760868667266,62.703163873832963,62.720244066649173,62.737019543307071,62.75350714969737,62.769722580349175,62.785680468923054,62.80139447098226,62.816877339712171,62.832140995206032,62.847196587884426,62.862054556568637,62.876724681683143,62.891216134020823,62.905537519466122,62.919696920035214,62.933701931560599,62.947559698316546,62.961276944855442,62.974860005299789,62.988314850312172,72.035476896937951,71.887579865120145,71.739811048734296,71.592176418443003,71.444682308368755,71.297335443063943,71.150142966802832,71.003112475417907,70.85625205092542,70.709570299209702,70.563076391063717,70.416780106911915,70.270691885575587,70.124822877475296,69.979185002704298,69.833791014447996,69.688654568269598,69.543790297829702,69.399213897657404,69.254942213643417,69.110993341978926,68.967386737317582,68.824143330990367,68.681285660150451,68.53883800876639,68.396826561410535,68.255279570800667,68.114227540039238,67.973703420444991,67.833742825774877,67.694384263472401,67.555669383333196,67.417643243622138,67.280354594181375,67.14385617539385,67.008205030972789,66.873462831382213,66.739696203201902,66.606977057875383,66.475382910965735,66.344997180244377,66.215909447628391,66.088215666175017,65.962018289110901,65.837426293379821,65.714555065722124,65.593526115290231,65.474466573889316,65.35750844393506,65.242787556153473,65.130442205025304,65.02061144108589,64.913433016246515,64.809041001563074,64.707563125679641,64.609117914653964,64.513811746800897,64.421735965137657,64.332964209873325,64.247550139288776,64.165525695837971,64.086900044402611,64.011659263563061,63.939766813835902,63.871164746630136,63.80577556243631,63.74350458369225,63.684242681596409,63.627869188398293,63.574254835830111,63.523264582502875,63.474760223268461,63.428602706713775,63.384654118892072,63.342779319163562,63.302847236013456,63.264731846498663,63.22831287294192,63.19347623554215,63.160114300807315,59.116879176857232],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Africa","legendgroup":"Africa","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[507.10069782797081,1326.4182833652353,2145.7358689025,2965.0534544397642,3784.3710399770289,4603.6886255142936,5423.0062110515582,6242.3237965888229,7061.6413821260876,7880.9589676633523,8700.276553200616,9519.5941387378807,10338.911724275145,11158.22930981241,11977.546895349675,12796.864480886939,13616.182066424204,14435.499651961469,15254.817237498733,16074.134823035998,16893.452408573259,17712.769994110524,18532.087579647789,19351.405165185053,20170.722750722318,20990.040336259583,21809.357921796847,22628.675507334112,23447.993092871377,24267.310678408641,25086.628263945906,25905.945849483171,26725.263435020435,27544.5810205577,28363.898606094965,29183.216191632229,30002.533777169494,30821.851362706759,31641.168948244023,32460.486533781288,33279.804119318549,34099.121704855817,34918.439290393078,35737.756875930347,36557.074461467608,37376.392047004876,38195.709632542137,39015.027218079405,39834.344803616666,40653.662389153935,41472.979974691196,42292.297560228464,43111.615145765725,43930.932731302993,44750.250316840255,45569.567902377523,46388.885487914784,47208.203073452052,48027.520658989313,48846.838244526582,49666.155830063843,50485.473415601111,51304.791001138372,52124.10858667564,52943.426172212901,53762.743757750162,54582.061343287431,55401.378928824692,56220.69651436196,57040.014099899221,57859.331685436489,58678.64927097375,59497.966856511019,60317.28444204828,61136.602027585548,61955.919613122809,62775.237198660077,63594.554784197338,64413.872369734607,65233.189955271868,65233.189955271868,64413.872369734607,63594.554784197338,62775.237198660077,61955.919613122809,61136.602027585548,60317.28444204828,59497.966856511019,58678.64927097375,57859.331685436489,57040.014099899221,56220.69651436196,55401.378928824692,54582.061343287431,53762.743757750162,52943.426172212901,52124.10858667564,51304.791001138372,50485.473415601111,49666.155830063843,48846.838244526582,48027.520658989313,47208.203073452052,46388.885487914784,45569.567902377523,44750.250316840255,43930.932731302993,43111.615145765725,42292.297560228464,41472.979974691196,40653.662389153935,39834.344803616666,39015.027218079405,38195.709632542137,37376.392047004876,36557.074461467608,35737.756875930347,34918.439290393078,34099.121704855817,33279.804119318549,32460.486533781288,31641.168948244023,30821.851362706759,30002.533777169494,29183.216191632229,28363.898606094965,27544.5810205577,26725.263435020435,25905.945849483171,25086.628263945906,24267.310678408641,23447.993092871377,22628.675507334112,21809.357921796847,20990.040336259583,20170.722750722318,19351.405165185053,18532.087579647789,17712.769994110524,16893.452408573259,16074.134823035998,15254.817237498733,14435.499651961469,13616.182066424204,12796.864480886939,11977.546895349675,11158.22930981241,10338.911724275145,9519.5941387378807,8700.276553200616,7880.9589676633523,7061.6413821260876,6242.3237965888229,5423.0062110515582,4603.6886255142936,3784.3710399770289,2965.0534544397642,2145.7358689025,1326.4182833652353,507.10069782797081,507.10069782797081],"y":[70.167840151390337,70.401881493732517,70.63434164918749,70.865099892206587,71.094030479907104,71.321003903357678,71.545888554869364,71.768552835375232,71.988867696769276,72.206709574557877,72.421963618466108,72.634527077524154,72.844312649097262,73.05125156759712,73.255296197481542,73.456421913321407,73.65462809885608,73.849938172233465,74.04239863505957,74.232077233704487,74.419060397669952,74.603450170471177,74.785360868247196,74.964915691547262,75.142243482953461,75.317475776583862,75.490744234408808,75.662178516289572,75.831904590640576,76.000043462865136,76.166710279309157,76.332013754120069,76.496055863119736,76.658931750509979,76.820729799056124,76.981531820839436,77.141413332648554,77.300443886873069,77.458687434949425,77.616202705784076,77.773043586083574,77.929259493188709,78.084895733922522,78.239993845223609,78.394591914054089,78.548724875350231,78.70242478770966,78.855721087162365,79.008640819816492,79.161208854453804,79.313448076318025,79.465379563420541,79.617022746709125,79.768395555423893,79.919514548915771,80.070395036134542,80.22105118391697,80.371496115122625,80.521741997581628,80.671800124737246,80.821680988787392,80.97139434705538,81.120949282250976,81.270354257219438,81.419617164716755,81.56874537269708,81.717745765548727,81.866624781671717,82.015388447750112,82.164042410036444,82.312591962933709,82.461042075131118,82.609397413524547,82.757662365128525,82.905841057166811,83.053937375509022,83.201954981604842,83.349897328051966,83.497767672920546,83.645569092945138,null,null,null,null,null,89.841999941872643,89.588076162017146,89.334238641727339,89.080491508226984,88.82683914853061,88.573286229534091,88.319837719926639,88.06649891411125,87.813275458340456,87.56017337929832,87.307199115384861,87.054359550988394,86.801662054063044,86.549114517364885,86.29672540373906,86.044503795895423,85.792459451157256,85.540602861722476,85.288945321034348,85.037498996922992,84.786277012247979,84.535293533846072,84.284563870667057,84.034104582061858,83.78393359727059,83.534070347241027,83.284535909984555,83.035353170744898,82.78654699830382,82.538144438769464,82.290174928171822,82.04267052510852,81.795666164515794,81.549199933355851,81.303313368567174,81.058051776972889,80.813464575913756,80.569605652096328,80.326533734427059,80.084312774342393,79.843012324231921,79.602707900884283,79.363481316380742,79.125420953486625,78.888621956403753,78.65318630095399,78.419222701284767,78.186846303741987,77.956178113728967,77.727344099660129,77.500473921396747,77.275699240909162,77.053151592315444,76.832959818197679,76.615247119105121,76.400127811176802,76.187703937927935,75.978061928860257,75.771269530343858,75.567373243984719,75.3663964879308,75.168338645921438,74.973175092527512,74.780858192206836,74.591319179371098,74.404470751385546,74.220210157280363,74.038422546780623,73.858984355392707,73.68176653501061,73.506637486567399,73.333465602374133,73.162121373499446,72.992479057060635,72.824417927509032,70.167840151390337],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Asia","legendgroup":"Asia","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[3464.6944456992433,5710.1659077926342,7955.6373698860243,10201.108831979414,12446.580294072806,14692.051756166195,16937.523218259586,19182.994680352978,21428.466142446367,23673.937604539758,25919.409066633147,28164.880528726539,30410.351990819931,32655.823452913319,34901.294915006714,37146.766377100103,39392.237839193491,41637.709301286879,43883.180763380275,46128.652225473663,48374.123687567051,50619.595149660447,52865.066611753835,55110.538073847223,57356.009535940619,59601.480998034007,61846.952460127395,64092.423922220783,66337.895384314179,68583.366846407574,70828.83830850097,73074.309770594351,75319.781232687747,77565.252694781142,79810.724156874523,82056.195618967919,84301.667081061314,86547.138543154695,88792.610005248091,91038.081467341486,93283.552929434867,95529.024391528263,97774.495853621658,100019.96731571504,102265.43877780843,104510.91023990183,106756.38170199521,109001.85316408861,111247.324626182,113492.79608827538,115738.26755036878,117983.73901246216,120229.21047455556,122474.68193664895,124720.15339874233,126965.62486083573,129211.09632292912,131456.56778502249,133702.0392471159,135947.51070920928,138192.98217130269,140438.45363339607,142683.92509548945,144929.39655758286,147174.86801967624,149420.33948176962,151665.81094386303,153911.28240595642,156156.7538680498,158402.22533014321,160647.69679223659,162893.16825432997,165138.63971642338,167384.11117851676,169629.58264061014,171875.05410270355,174120.52556479693,176365.99702689031,178611.46848898372,180856.9399510771,180856.9399510771,180856.9399510771,178611.46848898372,176365.99702689031,174120.52556479693,171875.05410270355,169629.58264061014,167384.11117851676,165138.63971642338,162893.16825432997,160647.69679223659,158402.22533014321,156156.7538680498,153911.28240595642,151665.81094386303,149420.33948176962,147174.86801967624,144929.39655758286,142683.92509548945,140438.45363339607,138192.98217130269,135947.51070920928,133702.0392471159,131456.56778502249,129211.09632292912,126965.62486083573,124720.15339874233,122474.68193664895,120229.21047455556,117983.73901246216,115738.26755036878,113492.79608827538,111247.324626182,109001.85316408861,106756.38170199521,104510.91023990183,102265.43877780843,100019.96731571504,97774.495853621658,95529.024391528263,93283.552929434867,91038.081467341486,88792.610005248091,86547.138543154695,84301.667081061314,82056.195618967919,79810.724156874523,77565.252694781142,75319.781232687747,73074.309770594351,70828.83830850097,68583.366846407574,66337.895384314179,64092.423922220783,61846.952460127395,59601.480998034007,57356.009535940619,55110.538073847223,52865.066611753835,50619.595149660447,48374.123687567051,46128.652225473663,43883.180763380275,41637.709301286879,39392.237839193491,37146.766377100103,34901.294915006714,32655.823452913319,30410.351990819931,28164.880528726539,25919.409066633147,23673.937604539758,21428.466142446367,19182.994680352978,16937.523218259586,14692.051756166195,12446.580294072806,10201.108831979414,7955.6373698860243,5710.1659077926342,3464.6944456992433,3464.6944456992433],"y":[74.730145827982909,74.956767974624498,75.181606120238953,75.404482226860949,75.625204554772765,75.84356892136023,76.059360945048496,76.272359476723665,76.482341368445489,76.689087622733851,76.892390799159998,77.09206333723769,77.28794621617368,77.479917165825341,77.667897534741158,77.85185696715395,78.031815262873465,78.207841160681483,78.380048215568252,78.548588328262539,78.713643742693904,78.875418410086937,79.034129538651825,79.18999995674227,79.343251680663087,79.494100852851957,79.642754037393658,79.7894057407334,79.934236962423981,80.077414561402406,80.219091233010374,80.359405917782638,80.498484495261607,80.636440648507318,80.773376814106257,80.909385156860253,81.044548527706141,81.178941378190046,81.312630615698751,81.44567639140341,81.578132818209255,81.710048619540359,81.841467712009276,81.972429726312768,82.102970471340399,82.233122346698153,82.362914708782569,82.492374195304365,82.621525012824279,82.750389191481673,82.878986810699715,83.007336199261303,83.13545411278038,83.263355891250157,83.391055599037429,83.518566149409423,83.645899415428687,83.7730663288268,83.900076968270895,84.026940638262658,84.153665939757261,84.280260833455429,84.406732696605715,84.533088374051218,84.659334224166201,84.785476160249786,84.91151968787608,85.037469938640712,85.163331700691316,85.289109446384657,85.414807357372908,85.540429347386919,85.665979082953626,85.791460002258191,85.916875332337668,86.042228104772448,86.167521170023292,86.2927572105461,86.417938752801888,86.543068178267291,86.543068178267291,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,89.92563049897791,89.681403996831051,89.437324464136495,89.193401205395986,88.949644299276628,88.70606467751,88.46267421315865,88.219485819489805,87.976513560870259,87.733772777293225,87.491280224372645,87.249054230891417,87.007114876272709,86.765484190655883,86.524186380601677,86.283248083820808,86.042698656709817,85.802570498874687,85.562899419204982,85.323725048397463,85.085091303064686,84.847046906630695,84.609645972000777,84.372948650346061,84.137021849053326,83.9019400196687,83.667786013129017,83.434651994236106,83.202640399576453,82.971864912210094,82.74245141167944,82.514538838519243,82.288279888071202,82.063841419272322,81.8414044316754,81.621163431725648,81.403324983507844,81.188105229459666,80.975726185885932,80.766410681140343,80.560375923433085,80.357825863988751,80.158942746736869,79.963878472406265,79.772746595987158,79.585615856261327,79.402506053038522,79.223386830551561,79.048179537348929,78.876761903287999,78.708974907575524,78.544630989725263,78.383522709308465,78.225431068845012,78.070132920394656,77.917407114843499,77.767039270616692,77.618825205100066,77.4725731785759,77.328105153078866,74.730145827982909],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Europe","legendgroup":"Europe","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[1272.4764289545387,2078.7340355552487,2884.9916421559592,3691.2492487566692,4497.5068553573801,5303.7644619580897,6110.0220685587992,6916.2796751595106,7722.5372817602201,8528.7948883609315,9335.0524949616411,10141.310101562351,10947.56770816306,11753.825314763772,12560.082921364481,13366.340527965192,14172.598134565902,14978.855741166612,15785.113347767323,16591.370954368034,17397.628560968744,18203.886167569453,19010.143774170163,19816.401380770872,20622.658987371582,21428.916593972295,22235.174200573005,23041.431807173714,23847.689413774424,24653.947020375133,25460.204626975847,26266.462233576556,27072.719840177266,27878.977446777975,28685.235053378685,29491.492659979398,30297.750266580108,31104.007873180817,31910.265479781527,32716.523086382236,33522.780692982953,34329.038299583663,35135.295906184372,35941.553512785082,36747.811119385791,37554.068725986501,38360.32633258721,39166.58393918792,39972.841545788629,40779.099152389346,41585.356758990056,42391.614365590765,43197.871972191475,44004.129578792184,44810.387185392894,45616.644791993604,46422.902398594313,47229.160005195023,48035.417611795732,48841.675218396449,49647.932824997159,50454.190431597868,51260.448038198578,52066.705644799287,52872.963251399997,53679.220858000706,54485.478464601416,55291.736071202125,56097.993677802835,56904.251284403545,57710.508891004261,58516.766497604971,59323.02410420568,60129.28171080639,60935.5393174071,61741.796924007809,62548.054530608519,63354.312137209228,64160.569743809938,64966.827350410647,64966.827350410647,64160.569743809938,63354.312137209228,62548.054530608519,61741.796924007809,60935.5393174071,60129.28171080639,59323.02410420568,58516.766497604971,57710.508891004261,56904.251284403545,56097.993677802835,55291.736071202125,54485.478464601416,53679.220858000706,52872.963251399997,52066.705644799287,51260.448038198578,50454.190431597868,49647.932824997159,48841.675218396449,48035.417611795732,47229.160005195023,46422.902398594313,45616.644791993604,44810.387185392894,44004.129578792184,43197.871972191475,42391.614365590765,41585.356758990056,40779.099152389346,39972.841545788629,39166.58393918792,38360.32633258721,37554.068725986501,36747.811119385791,35941.553512785082,35135.295906184372,34329.038299583663,33522.780692982953,32716.523086382236,31910.265479781527,31104.007873180817,30297.750266580108,29491.492659979398,28685.235053378685,27878.977446777975,27072.719840177266,26266.462233576556,25460.204626975847,24653.947020375133,23847.689413774424,23041.431807173714,22235.174200573005,21428.916593972295,20622.658987371582,19816.401380770872,19010.143774170163,18203.886167569453,17397.628560968744,16591.370954368034,15785.113347767323,14978.855741166612,14172.598134565902,13366.340527965192,12560.082921364481,11753.825314763772,10947.56770816306,10141.310101562351,9335.0524949616411,8528.7948883609315,7722.5372817602201,6916.2796751595106,6110.0220685587992,5303.7644619580897,4497.5068553573801,3691.2492487566692,2884.9916421559592,2078.7340355552487,1272.4764289545387,1272.4764289545387],"y":[69.849679617814019,70.020953874261238,70.190289034607773,70.357524392251506,70.522488810006749,70.685001416352307,70.844872794379384,71.001906757786841,71.15590279621911,71.306659245257919,71.453977191348102,71.597665057817466,71.737543737484174,71.873452047563063,72.005252196391766,72.132834885679216,72.256123644181812,72.375078012653816,72.489695280333081,72.600010602563103,72.706095487834602,72.808054803268931,72.906022582520805,73.00015700821929,73.090634973020158,73.177646602231036,73.26139005952119,73.342066872849628,73.419877927581297,73.495020191219979,73.567684167452626,73.638052029449298,73.70629635296693,73.772579355858738,73.837052548251265,73.899856703095082,73.961122066763011,74.020968741368051,74.079507182783317,74.136838769893373,74.193056410821526,74.248245160530828,74.30248283128681,74.355840583116532,74.408383485789173,74.460171047175976,74.511257705322748,74.561693283358892,74.611523407626564,74.660789890267154,74.709531078049736,74.757782169549657,74.805575502945544,74.852940816748088,74.89990548573995,74.946494734319813,74.992731829324384,75.038638254264526,75.084233866765743,75.129537040855837,75.1745647955983,75.219332911432474,75.26385603545198,75.308147776732355,75.352220792708508,75.396086867501154,75.439756982999285,75.483241383423135,75.526549634016007,75.569690674447287,75.612672867447117,75.6555040431397,75.698191539493791,75.740742239264819,75.783162603765447,75.825458703765634,75.8676362477932,75.909700608078126,75.951656844358737,75.993509725746634,86.425549406853662,86.230111649699253,86.03477724743756,85.839550969180181,85.644437874665442,85.449443336123323,85.254573062081647,85.059833123310369,84.865229981122155,84.670770518272434,84.476462072729959,84.282312474618934,84.088330086669501,83.894523848551017,83.700903325506872,83.507478761757184,83.314261139191032,83.121262241929102,82.928494727406303,82.735972204698172,82.54370932089833,82.351721856446119,82.16002683040503,81.968642616802867,81.777589073265133,81.586887683302692,81.396561713752249,81.206636389012488,81.01713908386607,80.828099536823686,80.639550086063963,80.451525930162248,80.264065415887615,80.077210355381453,79.891006374985921,79.705503297830418,79.520755561960755,79.336822675248172,79.153769707461819,78.971667818628845,78.790594821014665,78.610635769582416,78.431883572455376,78.254439608518112,78.078414333643735,77.903927849945248,77.731110403795469,77.560102768144972,77.391056453120299,77.224133676574667,77.059507014265009,76.897358639361386,76.737879055550749,76.581265230336882,76.427718049084731,76.277439039753304,76.130626366011867,75.987470153168047,75.848147293877616,75.71281597076964,75.581610217498834,75.454634901186552,75.331961530323511,75.213625260253181,75.099623380213473,74.989915430958618,74.884424941245015,74.7830426127816,74.685630653906003,74.592027881833062,74.50205518938094,74.415520999877444,74.332226399767407,74.251969724632559,74.174550464117331,74.099772431920584,74.027446211133523,73.957390930234951,73.88943545203918,73.823419069944094,69.849679617814019],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"North America","legendgroup":"North America","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[1649.57570191997,2325.5692952551258,3001.5628885902815,3677.5564819254378,4353.5500752605931,5029.5436685957493,5705.5372619309055,6381.5308552660608,7057.524448601217,7733.5180419363733,8409.5116352715286,9085.5052286066857,9761.498821941841,10437.492415276996,11113.486008612152,11789.479601947309,12465.473195282464,13141.466788617619,13817.460381952777,14493.453975287932,15169.447568623087,15845.441161958244,16521.434755293398,17197.428348628557,17873.421941963712,18549.415535298867,19225.409128634023,19901.402721969178,20577.396315304333,21253.389908639492,21929.383501974648,22605.377095309803,23281.370688644958,23957.364281980113,24633.357875315269,25309.351468650424,25985.345061985583,26661.338655320738,27337.332248655894,28013.325841991049,28689.319435326204,29365.31302866136,30041.306621996519,30717.300215331674,31393.293808666829,32069.287402001984,32745.28099533714,33421.274588672299,34097.26818200745,34773.261775342602,35449.255368677768,36125.24896201292,36801.242555348072,37477.236148683238,38153.22974201839,38829.223335353541,39505.216928688693,40181.210522023859,40857.204115359011,41533.197708694162,42209.191302029329,42885.18489536448,43561.178488699632,44237.172082034784,44913.16567536995,45589.159268705102,46265.152862040253,46941.146455375419,47617.140048710571,48293.133642045723,48969.127235380874,49645.120828716041,50321.114422051192,50997.108015386344,51673.10160872151,52349.095202056662,53025.088795391814,53701.08238872698,54377.075982062132,55053.069575397283,55053.069575397283,54377.075982062132,53701.08238872698,53025.088795391814,52349.095202056662,51673.10160872151,50997.108015386344,50321.114422051192,49645.120828716041,48969.127235380874,48293.133642045723,47617.140048710571,46941.146455375419,46265.152862040253,45589.159268705102,44913.16567536995,44237.172082034784,43561.178488699632,42885.18489536448,42209.191302029329,41533.197708694162,40857.204115359011,40181.210522023859,39505.216928688693,38829.223335353541,38153.22974201839,37477.236148683238,36801.242555348072,36125.24896201292,35449.255368677768,34773.261775342602,34097.26818200745,33421.274588672299,32745.28099533714,32069.287402001984,31393.293808666829,30717.300215331674,30041.306621996519,29365.31302866136,28689.319435326204,28013.325841991049,27337.332248655894,26661.338655320738,25985.345061985583,25309.351468650424,24633.357875315269,23957.364281980113,23281.370688644958,22605.377095309803,21929.383501974648,21253.389908639492,20577.396315304333,19901.402721969178,19225.409128634023,18549.415535298867,17873.421941963712,17197.428348628557,16521.434755293398,15845.441161958244,15169.447568623087,14493.453975287932,13817.460381952777,13141.466788617619,12465.473195282464,11789.479601947309,11113.486008612152,10437.492415276996,9761.498821941841,9085.5052286066857,8409.5116352715286,7733.5180419363733,7057.524448601217,6381.5308552660608,5705.5372619309055,5029.5436685957493,4353.5500752605931,3677.5564819254378,3001.5628885902815,2325.5692952551258,1649.57570191997,1649.57570191997],"y":[65.417240769148592,65.667906219521925,65.916246209913282,66.162140624172082,66.405468853879157,66.646111064623369,66.883949636151129,67.118870757703149,67.3507661479033,67.579534856039302,67.805085089542786,68.027336002241128,68.246219370915426,68.461681085162851,68.673682378504751,68.882200737530212,69.087230440340491,69.288782694627244,69.486885367682035,69.681582323362406,69.872932402282373,70.061008099229355,70.245894004536169,70.42768508306186,70.60648486552239,70.782403622787172,70.955556585528711,71.126062260642371,71.294040883527259,71.459613032877783,71.622898423052121,71.784014879022507,71.943077490733614,72.100197937501989,72.255483968790671,72.409039025070413,72.560961981246379,72.711346994983757,72.860283442913897,73.007855928889242,73.154144349965122,73.299224007453546,73.443165752091772,73.586036154011097,73.727897689721161,73.868808939709609,74.008824791482652,74.147996643934206,74.28637260983929,74.423997714030179,74.560914085447266,74.697161141775467,74.832775765797123,74.967792472927357,75.102243569662477,75.236159302877311,75.369568000062856,75.502496200713182,75.634968779154221,75.767009059165986,75.898638920788201,76.02987889972151,76.160748279746841,76.291265178585718,76.421446627618337,76.55130864586485,76.680866308619741,76.810133811112223,76.939124527546042,77.067851065852608,77.196325318471168,77.324558509449432,77.452561238139182,77.580343519741902,77.707914822941731,77.835284104845755,77.962459843435354,78.089450067717451,78.216262385749403,78.342904010698817,null,89.971723527391603,89.683855697200556,89.396165773259654,89.108661363626254,88.82135049730725,88.534241652284081,88.247343785663801,87.960666366130553,87.67421940888579,87.388013513281351,87.102059903364918,86.816370471575738,86.530957825845221,86.245835340377113,85.961017210400627,85.676518511210219,85.392355261826097,85.108544493628429,84.825104324338739,84.542054037737927,84.259414169526693,83.977206599744733,83.69545465217206,83.414183201134605,83.133418786126441,82.853189734638562,82.573526293545768,82.294460769344425,82.016027677449628,81.738263900643688,81.461208856611577,81.184904674293662,80.909396378522217,80.634732082072262,80.360963183837711,80.088144571324747,79.816334825021073,79.545596421436301,79.275995930701725,79.007604203554607,78.740496541306925,78.474752841014066,78.210457706528445,77.947700514481411,77.686575422538155,77.427181305603838,77.169621604149185,76.914004067637293,76.660440375384681,76.40904561733602,76.159937618463516,75.913236093125406,75.669061620016066,75.427534434534607,75.18877304357639,74.952892677813921,74.720003608116585,74.4902093652004,74.263604913924382,74.040274844621351,73.820291652078723,73.603714176910486,73.39058628297424,73.18093583756152,72.974774048363983,72.772095193482883,72.572876759507309,72.37707997995858,72.184650744433924,71.995520829714408,71.809609389627411,71.626824631604563,71.447065604933556,71.270224028238317,71.096186090759531,70.924834172243607,70.756048438279407,70.589708280447738,70.425693582598072,65.417240769148592],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Oceania","legendgroup":"Oceania","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[10626.175951543732,10712.48134679883,10798.78674205393,10885.092137309028,10971.397532564128,11057.702927819226,11144.008323074326,11230.313718329424,11316.619113584522,11402.924508839622,11489.22990409472,11575.53529934982,11661.840694604918,11748.146089860016,11834.451485115116,11920.756880370214,12007.062275625314,12093.367670880412,12179.67306613551,12265.97846139061,12352.283856645709,12438.589251900808,12524.894647155907,12611.200042411005,12697.505437666105,12783.810832921203,12870.116228176303,12956.421623431401,13042.727018686499,13129.032413941599,13215.337809196699,13301.643204451797,13387.948599706895,13474.253994961995,13560.559390217093,13646.864785472193,13733.170180727291,13819.475575982389,13905.780971237489,13992.086366492587,14078.391761747687,14164.697157002785,14251.002552257884,14337.307947512983,14423.613342768082,14509.918738023182,14596.22413327828,14682.529528533378,14768.834923788478,14855.140319043578,14941.445714298676,15027.751109553774,15114.056504808872,15200.361900063972,15286.667295319072,15372.97269057417,15459.278085829268,15545.583481084366,15631.888876339466,15718.194271594566,15804.499666849664,15890.805062104762,15977.11045735986,16063.41585261496,16149.72124787006,16236.026643125158,16322.332038380257,16408.637433635355,16494.942828890453,16581.248224145555,16667.553619400653,16753.859014655751,16840.164409910853,16926.469805165951,17012.775200421049,17099.080595676147,17185.385990931245,17271.691386186343,17357.996781441445,17444.302176696543,17444.302176696543,17357.996781441445,17271.691386186343,17185.385990931245,17099.080595676147,17012.775200421049,16926.469805165951,16840.164409910853,16753.859014655751,16667.553619400653,16581.248224145555,16494.942828890453,16408.637433635355,16322.332038380257,16236.026643125158,16149.72124787006,16063.41585261496,15977.11045735986,15890.805062104762,15804.499666849664,15718.194271594566,15631.888876339466,15545.583481084366,15459.278085829268,15372.97269057417,15286.667295319072,15200.361900063972,15114.056504808872,15027.751109553774,14941.445714298676,14855.140319043578,14768.834923788478,14682.529528533378,14596.22413327828,14509.918738023182,14423.613342768082,14337.307947512983,14251.002552257884,14164.697157002785,14078.391761747687,13992.086366492587,13905.780971237489,13819.475575982389,13733.170180727291,13646.864785472193,13560.559390217093,13474.253994961995,13387.948599706895,13301.643204451797,13215.337809196699,13129.032413941599,13042.727018686499,12956.421623431401,12870.116228176303,12783.810832921203,12697.505437666105,12611.200042411005,12524.894647155907,12438.589251900808,12352.283856645709,12265.97846139061,12179.67306613551,12093.367670880412,12007.062275625314,11920.756880370214,11834.451485115116,11748.146089860016,11661.840694604918,11575.53529934982,11489.22990409472,11402.924508839622,11316.619113584522,11230.313718329424,11144.008323074326,11057.702927819226,10971.397532564128,10885.092137309028,10798.78674205393,10712.48134679883,10626.175951543732,10626.175951543732],"y":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"Seven seas (open ocean)","legendgroup":"Seven seas (open ocean)","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[3552.0407188333288,3721.1982068832167,3890.3556949331046,4059.5131829829925,4228.6706710328808,4397.8281590827683,4566.9856471326566,4736.1431351825449,4905.3006232324324,5074.4581112823198,5243.6155993322081,5412.7730873820965,5581.9305754319839,5751.0880634818723,5920.2455515317597,6089.403039581648,6258.5605276315364,6427.7180156814238,6596.8755037313113,6766.0329917811996,6935.1904798310879,7104.3479678809763,7273.5054559308637,7442.6629439807512,7611.8204320306395,7780.9779200805278,7950.1354081304162,8119.2928961803027,8288.450384230191,8457.6078722800794,8626.7653603299677,8795.9228483798543,8965.0803364297426,9134.2378244796309,9303.3953125295193,9472.5528005794076,9641.7102886292942,9810.8677766791825,9980.0252647290708,10149.182752778959,10318.340240828846,10487.497728878734,10656.655216928622,10825.812704978511,10994.970193028399,11164.127681078286,11333.285169128174,11502.442657178062,11671.600145227951,11840.757633277837,12009.915121327726,12179.072609377614,12348.230097427502,12517.387585477389,12686.545073527277,12855.702561577165,13024.860049627054,13194.017537676942,13363.175025726829,13532.332513776717,13701.490001826605,13870.647489876494,14039.80497792638,14208.962465976269,14378.119954026157,14547.277442076045,14716.434930125934,14885.59241817582,15054.749906225708,15223.907394275597,15393.064882325485,15562.222370375372,15731.37985842526,15900.537346475148,16069.694834525037,16238.852322574925,16408.009810624812,16577.1672986747,16746.324786724588,16915.482274774477,16915.482274774477,16746.324786724588,16577.1672986747,16408.009810624812,16238.852322574925,16069.694834525037,15900.537346475148,15731.37985842526,15562.222370375372,15393.064882325485,15223.907394275597,15054.749906225708,14885.59241817582,14716.434930125934,14547.277442076045,14378.119954026157,14208.962465976269,14039.80497792638,13870.647489876494,13701.490001826605,13532.332513776717,13363.175025726829,13194.017537676942,13024.860049627054,12855.702561577165,12686.545073527277,12517.387585477389,12348.230097427502,12179.072609377614,12009.915121327726,11840.757633277837,11671.600145227951,11502.442657178062,11333.285169128174,11164.127681078286,10994.970193028399,10825.812704978511,10656.655216928622,10487.497728878734,10318.340240828846,10149.182752778959,9980.0252647290708,9810.8677766791825,9641.7102886292942,9472.5528005794076,9303.3953125295193,9134.2378244796309,8965.0803364297426,8795.9228483798543,8626.7653603299677,8457.6078722800794,8288.450384230191,8119.2928961803027,7950.1354081304162,7780.9779200805278,7611.8204320306395,7442.6629439807512,7273.5054559308637,7104.3479678809763,6935.1904798310879,6766.0329917811996,6596.8755037313113,6427.7180156814238,6258.5605276315364,6089.403039581648,5920.2455515317597,5751.0880634818723,5581.9305754319839,5412.7730873820965,5243.6155993322081,5074.4581112823198,4905.3006232324324,4736.1431351825449,4566.9856471326566,4397.8281590827683,4228.6706710328808,4059.5131829829925,3890.3556949331046,3721.1982068832167,3552.0407188333288,3552.0407188333288],"y":[65.678243612122913,65.850956392503591,66.022653365441826,66.19327416322534,66.362754464145013,66.531025777214282,66.698015231103298,66.863645372101502,67.027833977058151,67.190493888540047,67.35153288087713,67.510853567321675,67.66835336017769,67.823924497402515,67.977454150740911,68.128824631792256,68.277913713359141,68.424595083766263,68.568738951323098,68.710212814454806,68.848882409968809,68.984612847209746,69.117269929313281,69.246721654357714,69.372839879078867,69.495502116347708,69.614593425476073,69.730008342551699,69.841652787574375,69.949445877449875,70.053321570138024,70.153230066445673,70.249138902667866,70.341033679477874,70.428918389442771,70.512815325951678,70.592764578361866,70.668823139735366,70.741063672661355,70.809572993693976,70.874450346802263,70.935805540515986,70.993757022398597,71.048429958862741,71.099954379293237,71.148463432237705,71.19409178931221,71.236974220525369,71.27724435377047,71.315033621816156,71.350470392518432,71.383679272241181,71.414780568502849,71.443889895452671,71.471117904657319,71.496570123566826,71.520346884661237,71.542543329421164,71.563249472719434,71.582550314840674,71.600525989985456,71.617251941719786,71.632799117336177,71.647234174464657,71.660619694495139,71.673014398443129,71.684473361811001,71.695048225779615,71.704787402718949,71.713736274548765,71.721937382923059,71.729430610570049,71.736253353405147,71.742440683258948,71.74802550123708,71.753038681860389,71.757509208233017,71.761464298556817,71.76492952435872,71.767928920829718,82.688088286147575,82.505557719079448,82.323492981342227,82.141918108126902,81.960858670960405,81.780341888044589,81.600396742483596,81.421054108798273,81.242346888094218,81.064310152202083,80.886981297037252,80.710400205327943,80.534609418728152,80.359654319157642,80.185583318986389,80.012448059395254,79.840303615886612,79.669208709475967,79.499225921553233,79.330421909748438,79.162867621354067,78.996638499936182,78.831814679695327,78.66848116091613,78.506727958471416,78.346650213841798,78.188348259507322,78.031927622918019,77.877498955640561,77.725177871824187,77.575084678987309,77.42734398349387,77.282084153199847,77.13943662087388,76.999535014409261,76.862514103814604,76.728508560705976,76.597651533630994,76.470073051974481,76.345898282149079,76.225245671718241,76.10822502921171,75.994935598598573,75.885464196432949,75.779883485304012,75.678250458273794,75.580605204699566,75.486970017970449,75.397348890653518,75.311727423422042,75.230073152571066,75.152336278907413,75.078450760390965,75.008335713927465,74.941897059516705,74.879029333246422,74.819617594428451,74.763539355933759,74.710666474498169,74.660866948199981,74.614006580174859,74.569950479767442,74.528564383785124,74.489715790653122,74.453274908680882,74.419115426193102,74.387115115992373,74.357156289678073,74.329126118994964,74.302916841900384,74.278425870698342,74.255555818641113,74.234214460058638,74.214314637517688,74.19577412786758,74.178515477397724,74.162465814778272,74.147556649022661,74.133723658421772,74.120906475263325,65.678243612122913],"text":"","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","name":"South America","legendgroup":"South America","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":35.865504358655052},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> PIB per cápita vs esperanza de vida al nacer <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10000,210000],"tickmode":"array","ticktext":["0","50,000","100,000","150,000","200,000"],"tickvals":[0,49999.999999999993,100000,150000,200000],"categoryorder":"array","categoryarray":["0","50,000","100,000","150,000","200,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"PIB per cápita (USD)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[48,92],"tickmode":"array","ticktext":["50","60","70","80","90"],"tickvals":[50,60,70,80,90],"categoryorder":"array","categoryarray":["50","60","70","80","90"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Esperanza de vida (años)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406},"title":{"text":"Continente","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c75fc9de6":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"2e3c3e96261b":{"x":{},"y":{},"colour":{}}},"cur_data":"2e3c75fc9de6","visdat":{"2e3c75fc9de6":["function (y) ","x"],"2e3c3e96261b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="histogramas" class="level3" data-number="9.4.2">
<h3 data-number="9.4.2" class="anchored" data-anchor-id="histogramas"><span class="header-section-number">9.4.2</span> Histogramas</h3>
<p>Un <a href="https://es.wikipedia.org/wiki/Histograma">histograma</a> es una representación gráfica de la distribución de una variable numérica en forma de barras (en este caso, llamadas en inglés <em>bins</em>). La longitud de cada barra representa la frecuencia de un rango de valores de la variable. La graficación de la distribución de las variables es, frecuentemente, una de las primeras tareas que se realiza cuando se explora un conjunto de datos.</p>
<p>En ggplot2, los histogramas se implementan con la función <a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a>.</p>
<p>El siguiente bloque de código muestra, mediante un histograma, la distribución del <a href="https://es.wikipedia.org/wiki/Renta_per_c%C3%A1pita">producto interno bruto (PIB) per cápita</a> para el año 2007, entre los países incluídos en gapminder.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma ggplot2 de distribución del PIB per cápita</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>histograma_ggplot2 <span class="ot">&lt;-</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> GDP_PC)) <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"PIB per cápita (valor medio del rango): $"</span>, <span class="fu">round</span>(<span class="fu">after_stat</span>(x), <span class="dv">2</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Frecuencia: "</span>, <span class="fu">after_stat</span>(count)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">bins =</span> <span class="dv">10</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  )  <span class="sc">+</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">40</span>)) <span class="sc">+</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribución del PIB per cápita"</span>) <span class="sc">+</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"PIB per cápita ($ EE.UU.)"</span>) <span class="sc">+</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Frecuencia"</span>) <span class="sc">+</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">"Datos de 201 países"</span>, <span class="at">caption =</span> <span class="st">"Fuentes: Natural Earth y Banco Mundial"</span>) <span class="sc">+</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma plotly</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(histograma_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-d3c288dcc7039d3ae577" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d3c288dcc7039d3ae577">{"x":{"data":[{"orientation":"v","width":[null,22222.222222222226,22222.222222222219,22222.222222222219,22222.222222222219,22222.222222222248,22222.22222222219,22222.222222222248,22222.222222222248,22222.222222222248],"base":[0,0,0,0,0,0,0,0,0,0],"x":[null,22222.222222222223,44444.444444444453,66666.666666666672,88888.888888888891,111111.11111111112,133333.33333333334,155555.55555555556,177777.77777777775,200000],"y":[133,38,17,6,2,1,0,0,2,1],"text":["PIB per cápita (valor medio del rango): $0<br />Frecuencia: 133","PIB per cápita (valor medio del rango): $22222.22<br />Frecuencia: 38","PIB per cápita (valor medio del rango): $44444.44<br />Frecuencia: 17","PIB per cápita (valor medio del rango): $66666.67<br />Frecuencia: 6","PIB per cápita (valor medio del rango): $88888.89<br />Frecuencia: 2","PIB per cápita (valor medio del rango): $111111.11<br />Frecuencia: 1","PIB per cápita (valor medio del rango): $133333.33<br />Frecuencia: 0","PIB per cápita (valor medio del rango): $155555.56<br />Frecuencia: 0","PIB per cápita (valor medio del rango): $177777.78<br />Frecuencia: 2","PIB per cápita (valor medio del rango): $2e+05<br />Frecuencia: 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":35.865504358655052},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Distribución del PIB per cápita <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10555.555555555557,221666.66666666669],"tickmode":"array","ticktext":["0","50,000","100,000","150,000","200,000"],"tickvals":[0,50000,100000,150000,200000],"categoryorder":"array","categoryarray":["0","50,000","100,000","150,000","200,000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"PIB per cápita ($ EE.UU.)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2,42],"tickmode":"array","ticktext":["0","10","20","30","40"],"tickvals":[0,10,20,30,40],"categoryorder":"array","categoryarray":["0","10","20","30","40"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Frecuencia","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c6bbf93eb":{"x":{},"text":{},"type":"bar"}},"cur_data":"2e3c6bbf93eb","visdat":{"2e3c6bbf93eb":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="gráficos-de-pastel" class="level3" data-number="9.4.3">
<h3 data-number="9.4.3" class="anchored" data-anchor-id="gráficos-de-pastel"><span class="header-section-number">9.4.3</span> Gráficos de pastel</h3>
<p>Un <a href="https://es.wikipedia.org/wiki/Gr%C3%A1fico_circular">gráfico de pastel</a> representa porcentajes y porciones en secciones (<em>slices</em>) de un círculo. Son muy populares, pero también criticados debido a la dificultad del cerebro humano de comparar áreas de sectores circulares, por lo que <a href="https://www.data-to-viz.com/caveat/pie.html">algunos expertos recomiendan sustituirlos por otros tipos de gráficos como, por ejemplo, gráficos de barras</a>.</p>
<p>En ggplot2, los gráficos de pastel se implementan con la función de geometría <code>geom_bar(stat = "identity", width = 1)</code> y la función <a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar()</a>, la cual implementa un sistema de coordenadas polares.</p>
<p>El siguiente gráfico de pastel muestre la distribución de la población según la regiones de la Organización de Naciones Unidas (ONU).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupar y resumir los datos</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>suma_poblacion_por_region <span class="ot">&lt;-</span> paises <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(REGION_UN) <span class="sc">|&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">POP_TOTAL =</span> <span class="fu">sum</span>(POP_EST))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular porcentajes</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>porcentaje_poblacion_por_region <span class="ot">&lt;-</span> suma_poblacion_por_region <span class="sc">|&gt;</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">POP_PCT =</span> <span class="fu">round</span>(POP_TOTAL <span class="sc">/</span> <span class="fu">sum</span>(POP_TOTAL) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de pastel</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>grafico_pastel_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(porcentaje_poblacion_por_region, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> POP_TOTAL, <span class="at">fill =</span> REGION_UN)) <span class="sc">+</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(POP_PCT, <span class="st">"%"</span>)), </span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.6</span>) <span class="co"># para ajustar la posición del texto en cada porción</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución de la población por región de la ONU"</span>,</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Despliegue del gráfico</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>grafico_pastel_ggplot2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="09-ggplot2-plotly_files/figure-html/grafico-pastel-poblacion-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de pastel plotly (está generando un error)</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplotly(grafico_pastel_ggplot2) |&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   config(locale = 'es')</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>El gráfico interactivo no se presenta en este caso, debido a que la función <code>ggplotly()</code> produce un error al procesar el gráfico de pastel generado por ggplot2.</p>
</section>
<section id="gráficos-de-barras" class="level3" data-number="9.4.4">
<h3 data-number="9.4.4" class="anchored" data-anchor-id="gráficos-de-barras"><span class="header-section-number">9.4.4</span> Gráficos de barras</h3>
<p>Un <a href="https://es.wikipedia.org/wiki/Diagrama_de_barras">gráfico de barras</a> se compone de barras rectangulares con longitud proporcional a estadísticas (ej. frecuencias, promedios, mínimos, máximos) asociadas a una variable categórica o discreta. Las barras pueden ser horizontales o verticales y se recomienda que estén ordenadas según su longitud, a menos que exista un orden inherente a la variable (ej. el orden de los días de la semana). Es uno de los tipos de gráficos estadísticos más antiguos y comunes y tiene la ventaja de ser muy fácil de comprender.</p>
<p>En ggplot2, los gráficos de barras se implementan con las funciones <a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a>, que se utiliza en gráficos que requieren transformaciones estadísticas, y <a href="https://ggplot2.tidyverse.org/reference/geom_col.html">geom_col()</a>, para gráficos que no requieren estas transformaciones.</p>
<section id="barras-con-transformaciones-estadísticas" class="level4" data-number="9.4.4.1">
<h4 data-number="9.4.4.1" class="anchored" data-anchor-id="barras-con-transformaciones-estadísticas"><span class="header-section-number">9.4.4.1</span> Barras con transformaciones estadísticas</h4>
<p>Los gráficos de barras y otros tipos de gráficos (ej. histogramas, gráficos de caja, líneas de ajuste) pueden requerir de alguna <strong>transformación estadística</strong> antes de presentar la información. Esta transformación estadística puede ser un conteo, el cálculo de un promedio, un mínimo o un máximo, entre otras opciones.</p>
<p>Por ejemplo, el siguiente gráfico muestra la cantidad de países por región de la ONU presentes en el conjunto de datos de países. Nótese que este conteo no está presente en ninguna de las variables del conjunto de datos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras con conteo de países por región de la ONU</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>grafico_barras_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_infreq</span>(REGION_UN))) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Cantidad de países: "</span>, <span class="fu">after_stat</span>(count)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    )    </span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Cantidad de países por región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Cantidad de países"</span>) <span class="sc">+</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuente: Natural Earth"</span>) <span class="sc">+</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras plotly</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_barras_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-37d900215393ec38356c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-37d900215393ec38356c">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0,0],"x":[1,2,3,4,5,6],"y":[56,50,45,35,14,1],"text":["Cantidad de países: 56","Cantidad de países: 50","Cantidad de países: 45","Cantidad de países: 35","Cantidad de países: 14","Cantidad de países: 1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":35.865504358655052},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Cantidad de países por región de la ONU <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Africa","Asia","Europe","Americas","Oceania","Antarctica"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Africa","Asia","Europe","Americas","Oceania","Antarctica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Región de la ONU","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.8000000000000003,58.799999999999997],"tickmode":"array","ticktext":["0","20","40"],"tickvals":[0,20,40],"categoryorder":"array","categoryarray":["0","20","40"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Cantidad de países","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c1ed152c6":{"x":{},"text":{},"type":"bar"}},"cur_data":"2e3c1ed152c6","visdat":{"2e3c1ed152c6":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>La función <a href="https://forcats.tidyverse.org/reference/fct_inorder.html">fct_infreq()</a> del paquete <a href="https://forcats.tidyverse.org/index.html">forcats</a> se usa para ordenar las barras. Si se prefiere el orden inverso, puede utilizarse la función <a href="https://forcats.tidyverse.org/reference/fct_rev.html">fct_rev()</a> (ej. <code>fct_rev(fct_infreq(REGION_UN))</code>). Para más información sobre el ordenamiento en gráficos, se recomienda consultar <a href="https://ggplot2.tidyverse.org/articles/faq-reordering.html">FAQ: Reordering - ggplot2</a>.</p>
<p>El cálculo de la cantidad de países por continente o el de la cantidad de diamantes por corte, son ejemplos de transformaciones estadísticas. La <a href="#fig-ggplot2-transformacion-estadistica" class="quarto-xref">Figura&nbsp;<span>9.1</span></a> muestra como se realiza este proceso para el gráfico anterior.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-ggplot2-transformacion-estadistica" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot2-transformacion-estadistica-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/ggplot2-transformacion-estadistica.png" class="img-fluid figure-img" width="652">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot2-transformacion-estadistica-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;9.1: Transformación estadística para un gráfico de barras de ggplot2. Imagen de <a href="https://r4ds.had.co.nz/data-visualisation.html">Hadley Wickham</a>.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Las barras pueden mostrar otras transformaciones estadísticas a través del uso de los argumentos <code>stat</code> y <code>fun.y</code> de <code>geom_bar()</code>. Por ejemplo, <code>stat = "summary"</code> y <code>fun.y = "mean"</code>generan un gráfico que muestra el promedio de esperanza de vida (<code>LIFE_EXPECTANCY</code>) para cada región de la ONU.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras con promedio de esperanza de vida</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para cada región de la ONU</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>grafico_barras_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_infreq</span>(REGION_UN), <span class="at">y =</span> LIFE_EXPECTANCY)) <span class="sc">+</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> <span class="st">"summary"</span>, </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun.y =</span> <span class="st">"mean"</span>,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Promedio de esperanza de vida: "</span>, <span class="fu">round</span>(<span class="fu">after_stat</span>(y), <span class="dv">2</span>)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Promedio de esperanza de vida por región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Promedio de esperanza de vida"</span>) <span class="sc">+</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuente: "</span>) <span class="sc">+</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras plotly</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_barras_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b5375eb7fdc1aaa12382" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b5375eb7fdc1aaa12382">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0,0],"x":[1,2,3,4,5],"y":[63.087155826558266,74.547565953210551,78.646379268292691,73.491221602787462,70.997914634146341],"text":["Promedio de esperanza de vida: 63.09","Promedio de esperanza de vida: 74.55","Promedio de esperanza de vida: 78.65","Promedio de esperanza de vida: 73.49","Promedio de esperanza de vida: 71"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":35.865504358655052},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Promedio de esperanza de vida por región de la ONU <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Africa","Asia","Europe","Americas","Oceania","Antarctica"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Africa","Asia","Europe","Americas","Oceania","Antarctica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Región de la ONU","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.9323189634146347,82.578698231707321],"tickmode":"array","ticktext":["0","20","40","60","80"],"tickvals":[0,20,40,59.999999999999993,80],"categoryorder":"array","categoryarray":["0","20","40","60","80"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Promedio de esperanza de vida","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c1c1469ae":{"x":{},"y":{},"text":{},"type":"bar"}},"cur_data":"2e3c1c1469ae","visdat":{"2e3c1c1469ae":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Nota: </strong> la función <code>fct_infreq()</code> no está ordenando en este caso las columnas. El ordenamiento aún puede conseguirse si se realiza primero el cálculo del promedio y luego se grafica la columna correspondiente, como en el siguiente bloque de código.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cálculo del promedio de esperanza de vida por región</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>promedio_esperanza_vida_por_region <span class="ot">&lt;-</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  paises <span class="sc">|&gt;</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(REGION_UN) <span class="sc">|&gt;</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">LIFE_EXPECTANCY_MEAN =</span> <span class="fu">mean</span>(LIFE_EXPECTANCY, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Despliegue por orden descendente del promedio de esperanza de vida</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>promedio_esperanza_vida_por_region <span class="sc">|&gt;</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(LIFE_EXPECTANCY_MEAN))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  REGION_UN  LIFE_EXPECTANCY_MEAN
  &lt;chr&gt;                     &lt;dbl&gt;
1 Europe                     78.6
2 Asia                       74.5
3 Americas                   73.5
4 Oceania                    71.0
5 Africa                     63.1
6 Antarctica                NaN  </code></pre>
</div>
</div>
<p>Luego se dibuja luego el gráfico con <code>geom_col()</code> y se ordenan las barras con la función <a href="https://rdrr.io/cran/gplots/man/reorder.html">reorder()</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras con promedio de esperanza de vida</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para cada región de la ONU</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>grafico_barras_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  promedio_esperanza_vida_por_region <span class="sc">|&gt;</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(REGION_UN,<span class="sc">-</span>LIFE_EXPECTANCY_MEAN), <span class="at">y =</span> LIFE_EXPECTANCY_MEAN)) <span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Promedio de esperanza de vida: "</span>, <span class="fu">round</span>(<span class="fu">after_stat</span>(y), <span class="dv">2</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    )    </span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Promedio de esperanza de vida por región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Promedio de esperanza de vida"</span>) <span class="sc">+</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuente: Natural Earth"</span>) <span class="sc">+</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras plotly</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_barras_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b321b6292bd8986d6239" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b321b6292bd8986d6239">{"x":{"data":[{"orientation":"v","width":[0.90000000000000036,0.90000000000000036,null,0.90000000000000013,0.89999999999999991,0.90000000000000036],"base":[0,0,null,0,0,0],"x":[5,3,null,2,1,4],"y":[63.087155826558266,73.491221602787462,null,74.547565953210551,78.646379268292691,70.997914634146341],"text":["Promedio de esperanza de vida: 63.09","Promedio de esperanza de vida: 73.49","Promedio de esperanza de vida: NA","Promedio de esperanza de vida: 74.55","Promedio de esperanza de vida: 78.65","Promedio de esperanza de vida: 71"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":38.522208385222093,"l":35.865504358655052},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Promedio de esperanza de vida por región de la ONU <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Europe","Asia","Americas","Oceania","Africa","Antarctica"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Europe","Asia","Americas","Oceania","Africa","Antarctica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Región de la ONU","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.9323189634146347,82.578698231707321],"tickmode":"array","ticktext":["0","20","40","60","80"],"tickvals":[0,20,40,59.999999999999993,80],"categoryorder":"array","categoryarray":["0","20","40","60","80"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"Promedio de esperanza de vida","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c4e33a2fc":{"x":{},"y":{},"text":{},"type":"bar"}},"cur_data":"2e3c4e33a2fc","visdat":{"2e3c4e33a2fc":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>El uso de <code>geom_col()</code> se ampliará en la sección siguiente.</p>
</section>
<section id="barras-sin-transformaciones-estadísticas" class="level4" data-number="9.4.4.2">
<h4 data-number="9.4.4.2" class="anchored" data-anchor-id="barras-sin-transformaciones-estadísticas"><span class="header-section-number">9.4.4.2</span> Barras sin transformaciones estadísticas</h4>
<p>En algunos conjuntos de datos, el valor que se quiere representar en la longitud de las barras ya está presente como una variable en el conjunto de datos, por lo que no es necesario que <code>ggplot2</code> realice una transformación estadística. En estos casos, se utiliza la función <a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col()</a>.</p>
<p><strong>Nota: </strong> para dibujar barras sin transformaciones estadísticas, tambien es posible utilizar la función <code>geom_bar()</code>. En este caso, al argumento <code>stat</code> se le asigna el valor <code>"identity"</code> y al argumento <code>y</code> de <code>aes()</code> la variable que contiene el valor que quiere mostrarse en las barras.</p>
<p>El siguiente gráfico de barras muestra la población de los países de los países de América. Nótese que este valor se puede tomar directamente de la variable <code>POP_EST</code>, después de realizar los filtros correspondientes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras con población de países </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># de América</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>grafico_barras_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(REGION_UN <span class="sc">==</span> <span class="st">"Americas"</span>) <span class="sc">|&gt;</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(ADM0_ISO, POP_EST), <span class="at">y =</span> POP_EST<span class="sc">/</span><span class="dv">1000000</span>)) <span class="sc">+</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"País: "</span>, NAME, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Población (millones de habitantes): "</span>, <span class="fu">round</span>(POP_EST<span class="sc">/</span><span class="dv">1000000</span>, <span class="dv">2</span>)</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.2</span>))) <span class="sc">+</span> <span class="co"># agrega un 20% de espacio al inicio y al final del eje y</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> <span class="co"># para mostrar barras horizontales</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Población de países de América"</span>) <span class="sc">+</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"País"</span>) <span class="sc">+</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Población (millones de habitantes)"</span>) <span class="sc">+</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuente: Natural Earth"</span>) <span class="sc">+</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras plotly</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_barras_ggplot2, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-14937dfe53c05f3e00cb" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-14937dfe53c05f3e00cb">{"x":{"data":[{"orientation":"h","width":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000213,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000013,0.90000000000000036,0.89999999999999991,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[18.952038000000002,11.5131,32.510452999999998,44.938712000000002,0.58136299999999996,0.78276599999999996,5.047561,6.5455019999999999,211.04952700000001,3.4617339999999999,11.263076999999999,10.738958,6.4535530000000003,16.604026000000001,11.333482999999999,9.7461169999999999,17.373661999999999,50.339443000000003,7.0446359999999997,331.59546,37.589261999999998,127.575529,0.39035300000000001,4.2464389999999996,28.515829,0.38948199999999999,1.394973,0.11200300000000001,0.11058900000000001,0.28702499999999997,0.18279000000000001,0.071807999999999997,0.097117999999999996,0.052833999999999999,2.9482789999999999],"y":[27,24,29,31,10,11,16,18,34,14,22,21,17,25,23,20,26,32,19,35,30,33,9,15,28,8,12,5,4,7,6,2,3,1,13],"text":["País: Chile<br />Población (millones de habitantes): 18.95","País: Bolivia<br />Población (millones de habitantes): 11.51","País: Peru<br />Población (millones de habitantes): 32.51","País: Argentina<br />Población (millones de habitantes): 44.94","País: Suriname<br />Población (millones de habitantes): 0.58","País: Guyana<br />Población (millones de habitantes): 0.78","País: Costa Rica<br />Población (millones de habitantes): 5.05","País: Nicaragua<br />Población (millones de habitantes): 6.55","País: Brazil<br />Población (millones de habitantes): 211.05","País: Uruguay<br />Población (millones de habitantes): 3.46","País: Haiti<br />Población (millones de habitantes): 11.26","País: Dominican Rep.<br />Población (millones de habitantes): 10.74","País: El Salvador<br />Población (millones de habitantes): 6.45","País: Guatemala<br />Población (millones de habitantes): 16.6","País: Cuba<br />Población (millones de habitantes): 11.33","País: Honduras<br />Población (millones de habitantes): 9.75","País: Ecuador<br />Población (millones de habitantes): 17.37","País: Colombia<br />Población (millones de habitantes): 50.34","País: Paraguay<br />Población (millones de habitantes): 7.04","País: United States of America<br />Población (millones de habitantes): 331.6","País: Canada<br />Población (millones de habitantes): 37.59","País: Mexico<br />Población (millones de habitantes): 127.58","País: Belize<br />Población (millones de habitantes): 0.39","País: Panama<br />Población (millones de habitantes): 4.25","País: Venezuela<br />Población (millones de habitantes): 28.52","País: Bahamas<br />Población (millones de habitantes): 0.39","País: Trinidad and Tobago<br />Población (millones de habitantes): 1.39","País: Grenada<br />Población (millones de habitantes): 0.11","País: St. Vin. and Gren.<br />Población (millones de habitantes): 0.11","País: Barbados<br />Población (millones de habitantes): 0.29","País: Saint Lucia<br />Población (millones de habitantes): 0.18","País: Dominica<br />Población (millones de habitantes): 0.07","País: Antigua and Barb.<br />Población (millones de habitantes): 0.1","País: St. Kitts and Nevis<br />Población (millones de habitantes): 0.05","País: Jamaica<br />Población (millones de habitantes): 2.95"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":53.858032378580326,"r":13.283520132835205,"b":23.910336239103369,"l":43.171440431714416},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(213,228,235,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Población de países de América <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":21.917808219178081},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-66.319091999999998,397.91455200000001],"tickmode":"array","ticktext":[],"tickvals":[],"categoryorder":"array","categoryarray":[],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":-6.6417600664175991,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.53134080531340799,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Población (millones de habitantes)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,35.600000000000001],"tickmode":"array","ticktext":["KNA","DMA","ATG","VCT","GRD","LCA","BRB","BHS","BLZ","SUR","GUY","TTO","JAM","URY","PAN","CRI","SLV","NIC","PRY","HND","DOM","HTI","CUB","BOL","GTM","ECU","CHL","VEN","PER","CAN","ARG","COL","MEX","BRA","USA"],"tickvals":[1,2,2.9999999999999996,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23.000000000000004,24,25,26,27,28,29,29.999999999999996,31,32,33,34,35],"categoryorder":"array","categoryarray":["KNA","DMA","ATG","VCT","GRD","LCA","BRB","BHS","BLZ","SUR","GUY","TTO","JAM","URY","PAN","CRI","SLV","NIC","PRY","HND","DOM","HTI","CUB","BOL","GTM","ECU","CHL","VEN","PER","CAN","ARG","COL","MEX","BRA","USA"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":-6.6417600664176026,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":1.16230801162308,"zeroline":false,"anchor":"x","title":{"text":"País","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"transparent","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.264840182648406}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c3aa7b675":{"x":{},"y":{},"text":{},"type":"bar"}},"cur_data":"2e3c3aa7b675","visdat":{"2e3c3aa7b675":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="barras-apiladas" class="level4" data-number="9.4.4.3">
<h4 data-number="9.4.4.3" class="anchored" data-anchor-id="barras-apiladas"><span class="header-section-number">9.4.4.3</span> Barras apiladas</h4>
<p>Al usar el argumento <code>fill</code> de <code>aes()</code>, las barras de un gráfico pueden dividirse de acuerdo con una variable adicional, produciendo el efecto de barras apiladas (i.e.&nbsp;unas sobre otras).</p>
<p>En el siguiente bloque de código, se genera un gráfico de barras apiladas que, para el conjunto de datos de países, muestra las cantidades de países por región de la ONU (<code>REGION_UN</code>) subdivididas por nivel de economía (<code>ECONOMY</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras apiladas por región de la ONU y nivel de economía</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>grafico_barras_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> REGION_UN, <span class="at">fill =</span> ECONOMY)) <span class="sc">+</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Cantidad de países por región de la ONU y nivel de economía"</span>) <span class="sc">+</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Cantidad de países"</span>) <span class="sc">+</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Nivel de economía"</span>) <span class="sc">+</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras plotly</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_barras_ggplot2) <span class="sc">|&gt;</span> </span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-38d6ede3a6dbb0f4a887" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-38d6ede3a6dbb0f4a887">{"x":{"data":[{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[33,49,41,13],"x":[2,4,5,6],"y":[2,1,4,1],"text":["count:  2<br />REGION_UN: Americas<br />ECONOMY: 1. Developed region: G7","count:  1<br />REGION_UN: Asia<br />ECONOMY: 1. Developed region: G7","count:  4<br />REGION_UN: Europe<br />ECONOMY: 1. Developed region: G7","count:  1<br />REGION_UN: Oceania<br />ECONOMY: 1. Developed region: G7"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1. Developed region: G7","legendgroup":"1. Developed region: G7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[46,10,12],"x":[4,5,6],"y":[3,31,1],"text":["count:  3<br />REGION_UN: Asia<br />ECONOMY: 2. Developed region: nonG7","count: 31<br />REGION_UN: Europe<br />ECONOMY: 2. Developed region: nonG7","count:  1<br />REGION_UN: Oceania<br />ECONOMY: 2. Developed region: nonG7"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2. Developed region: nonG7","legendgroup":"2. Developed region: nonG7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.90000000000000036],"base":[32,44,9],"x":[2,4,5],"y":[1,2,1],"text":["count:  1<br />REGION_UN: Americas<br />ECONOMY: 3. Emerging region: BRIC","count:  2<br />REGION_UN: Asia<br />ECONOMY: 3. Emerging region: BRIC","count:  1<br />REGION_UN: Europe<br />ECONOMY: 3. Emerging region: BRIC"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"3. Emerging region: BRIC","legendgroup":"3. Emerging region: BRIC","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036],"base":[31,41],"x":[2,4],"y":[1,3],"text":["count:  1<br />REGION_UN: Americas<br />ECONOMY: 4. Emerging region: MIKT","count:  3<br />REGION_UN: Asia<br />ECONOMY: 4. Emerging region: MIKT"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"4. Emerging region: MIKT","legendgroup":"4. Emerging region: MIKT","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036],"base":[51,22,36],"x":[1,2,4],"y":[5,9,5],"text":["count:  5<br />REGION_UN: Africa<br />ECONOMY: 5. Emerging region: G20","count:  9<br />REGION_UN: Americas<br />ECONOMY: 5. Emerging region: G20","count:  5<br />REGION_UN: Asia<br />ECONOMY: 5. Emerging region: G20"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"5. Emerging region: G20","legendgroup":"5. Emerging region: G20","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[34,1,0,10,0,5],"x":[1,2,3,4,5,6],"y":[17,21,1,26,9,7],"text":["count: 17<br />REGION_UN: Africa<br />ECONOMY: 6. Developing region","count: 21<br />REGION_UN: Americas<br />ECONOMY: 6. Developing region","count:  1<br />REGION_UN: Antarctica<br />ECONOMY: 6. Developing region","count: 26<br />REGION_UN: Asia<br />ECONOMY: 6. Developing region","count:  9<br />REGION_UN: Europe<br />ECONOMY: 6. Developing region","count:  7<br />REGION_UN: Oceania<br />ECONOMY: 6. Developing region"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"6. Developing region","legendgroup":"6. Developing region","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0],"x":[1,2,4,6],"y":[34,1,10,5],"text":["count: 34<br />REGION_UN: Africa<br />ECONOMY: 7. Least developed region","count:  1<br />REGION_UN: Americas<br />ECONOMY: 7. Least developed region","count: 10<br />REGION_UN: Asia<br />ECONOMY: 7. Least developed region","count:  5<br />REGION_UN: Oceania<br />ECONOMY: 7. Least developed region"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"7. Least developed region","legendgroup":"7. Least developed region","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Cantidad de países por región de la ONU y nivel de economía","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Africa","Americas","Antarctica","Asia","Europe","Oceania"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Africa","Americas","Antarctica","Asia","Europe","Oceania"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Región de la ONU","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.8000000000000003,58.799999999999997],"tickmode":"array","ticktext":["0","20","40"],"tickvals":[0,20,40],"categoryorder":"array","categoryarray":["0","20","40"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Cantidad de países","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Nivel de economía","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c4cdc47c2":{"x":{},"fill":{},"type":"bar"}},"cur_data":"2e3c4cdc47c2","visdat":{"2e3c4cdc47c2":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>El argumento <code>position = "fill"</code> de <code>geom_bar()</code> también genera barras apiladas, pero le asigna a todas las barras la misma longitud, facilitando así la comparación de proporciones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras apiladas por región de la ONU y nivel de economía</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>grafico_barras_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> REGION_UN, <span class="at">fill =</span> ECONOMY)) <span class="sc">+</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Proporción de niveles de economía en regiones de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Proporción"</span>) <span class="sc">+</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Nivel de economía"</span>) <span class="sc">+</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras plotly</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_barras_ggplot2) <span class="sc">|&gt;</span> </span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-698cf335bedd71d26352" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-698cf335bedd71d26352">{"x":{"data":[{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.94285714285714284,0.97999999999999998,0.91111111111111109,0.9285714285714286],"x":[2,4,5,6],"y":[0.057142857142857162,0.020000000000000018,0.088888888888888906,0.071428571428571397],"text":["count: 0.05714286<br />REGION_UN: Americas<br />ECONOMY: 1. Developed region: G7","count: 0.02000000<br />REGION_UN: Asia<br />ECONOMY: 1. Developed region: G7","count: 0.08888889<br />REGION_UN: Europe<br />ECONOMY: 1. Developed region: G7","count: 0.07142857<br />REGION_UN: Oceania<br />ECONOMY: 1. Developed region: G7"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1. Developed region: G7","legendgroup":"1. Developed region: G7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.92000000000000004,0.22222222222222221,0.8571428571428571],"x":[4,5,6],"y":[0.059999999999999942,0.68888888888888888,0.071428571428571508],"text":["count: 0.06000000<br />REGION_UN: Asia<br />ECONOMY: 2. Developed region: nonG7","count: 0.68888889<br />REGION_UN: Europe<br />ECONOMY: 2. Developed region: nonG7","count: 0.07142857<br />REGION_UN: Oceania<br />ECONOMY: 2. Developed region: nonG7"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2. Developed region: nonG7","legendgroup":"2. Developed region: nonG7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.90000000000000036],"base":[0.91428571428571426,0.88,0.20000000000000001],"x":[2,4,5],"y":[0.028571428571428581,0.040000000000000036,0.022222222222222199],"text":["count: 0.02857143<br />REGION_UN: Americas<br />ECONOMY: 3. Emerging region: BRIC","count: 0.04000000<br />REGION_UN: Asia<br />ECONOMY: 3. Emerging region: BRIC","count: 0.02222222<br />REGION_UN: Europe<br />ECONOMY: 3. Emerging region: BRIC"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"3. Emerging region: BRIC","legendgroup":"3. Emerging region: BRIC","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036],"base":[0.88571428571428568,0.81999999999999995],"x":[2,4],"y":[0.028571428571428581,0.060000000000000053],"text":["count: 0.02857143<br />REGION_UN: Americas<br />ECONOMY: 4. Emerging region: MIKT","count: 0.06000000<br />REGION_UN: Asia<br />ECONOMY: 4. Emerging region: MIKT"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"4. Emerging region: MIKT","legendgroup":"4. Emerging region: MIKT","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036],"base":[0.9107142857142857,0.62857142857142856,0.71999999999999997],"x":[1,2,4],"y":[0.089285714285714302,0.25714285714285712,0.099999999999999978],"text":["count: 0.08928571<br />REGION_UN: Africa<br />ECONOMY: 5. Emerging region: G20","count: 0.25714286<br />REGION_UN: Americas<br />ECONOMY: 5. Emerging region: G20","count: 0.10000000<br />REGION_UN: Asia<br />ECONOMY: 5. Emerging region: G20"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"5. Emerging region: G20","legendgroup":"5. Emerging region: G20","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036],"base":[0.6071428571428571,0.028571428571428571,0,0.20000000000000001,0,0.35714285714285715],"x":[1,2,3,4,5,6],"y":[0.3035714285714286,0.59999999999999998,1,0.52000000000000002,0.20000000000000001,0.49999999999999994],"text":["count: 0.30357143<br />REGION_UN: Africa<br />ECONOMY: 6. Developing region","count: 0.60000000<br />REGION_UN: Americas<br />ECONOMY: 6. Developing region","count: 1.00000000<br />REGION_UN: Antarctica<br />ECONOMY: 6. Developing region","count: 0.52000000<br />REGION_UN: Asia<br />ECONOMY: 6. Developing region","count: 0.20000000<br />REGION_UN: Europe<br />ECONOMY: 6. Developing region","count: 0.50000000<br />REGION_UN: Oceania<br />ECONOMY: 6. Developing region"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"6. Developing region","legendgroup":"6. Developing region","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036],"base":[0,0,0,0],"x":[1,2,4,6],"y":[0.6071428571428571,0.028571428571428571,0.20000000000000001,0.35714285714285715],"text":["count: 0.60714286<br />REGION_UN: Africa<br />ECONOMY: 7. Least developed region","count: 0.02857143<br />REGION_UN: Americas<br />ECONOMY: 7. Least developed region","count: 0.20000000<br />REGION_UN: Asia<br />ECONOMY: 7. Least developed region","count: 0.35714286<br />REGION_UN: Oceania<br />ECONOMY: 7. Least developed region"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"7. Least developed region","legendgroup":"7. Least developed region","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Proporción de niveles de economía en regiones de la ONU","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Africa","Americas","Antarctica","Asia","Europe","Oceania"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Africa","Americas","Antarctica","Asia","Europe","Oceania"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Región de la ONU","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.050000000000000003,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Proporción","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Nivel de economía","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c615ba580":{"x":{},"fill":{},"type":"bar"}},"cur_data":"2e3c615ba580","visdat":{"2e3c615ba580":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="barras-agrupadas" class="level4" data-number="9.4.4.4">
<h4 data-number="9.4.4.4" class="anchored" data-anchor-id="barras-agrupadas"><span class="header-section-number">9.4.4.4</span> Barras agrupadas</h4>
<p>El argumento <code>position = "dodge"</code> de <code>geom_bar()</code> genera barras agrupadas (i.e.&nbsp;unas al lado de otras), facilitando así la comparación de valores individuales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras agrupadas por región de la ONU y nivel de economía</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>grafico_barras_ggplot2 <span class="ot">&lt;-</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>paises <span class="sc">|&gt;</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> REGION_UN, <span class="at">fill =</span> ECONOMY)) <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Cantidad de países por región de la ONU y nivel de economía"</span>) <span class="sc">+</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Región de la ONU"</span>) <span class="sc">+</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Cantidad de países"</span>) <span class="sc">+</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"Nivel de economía"</span>) <span class="sc">+</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de barras plotly</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(grafico_barras_ggplot2) <span class="sc">|&gt;</span> </span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">locale =</span> <span class="st">'es'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-e0713733a3b996149044" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e0713733a3b996149044">{"x":{"data":[{"orientation":"v","width":[0.14999999999999991,0.128571428571429,0.22499999999999964,0.22499999999999964],"base":[0,0,0,0],"x":[1.625,3.6142857142857143,4.6624999999999996,5.6624999999999996],"y":[2,1,4,1],"text":["count:  2<br />REGION_UN: Americas<br />ECONOMY: 1. Developed region: G7","count:  1<br />REGION_UN: Asia<br />ECONOMY: 1. Developed region: G7","count:  4<br />REGION_UN: Europe<br />ECONOMY: 1. Developed region: G7","count:  1<br />REGION_UN: Oceania<br />ECONOMY: 1. Developed region: G7"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1. Developed region: G7","legendgroup":"1. Developed region: G7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.128571428571429,0.22499999999999964,0.22499999999999964],"base":[0,0,0],"x":[3.7428571428571429,4.8875000000000002,5.8875000000000002],"y":[3,31,1],"text":["count:  3<br />REGION_UN: Asia<br />ECONOMY: 2. Developed region: nonG7","count: 31<br />REGION_UN: Europe<br />ECONOMY: 2. Developed region: nonG7","count:  1<br />REGION_UN: Oceania<br />ECONOMY: 2. Developed region: nonG7"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(196,154,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2. Developed region: nonG7","legendgroup":"2. Developed region: nonG7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.14999999999999991,0.128571428571429,0.22499999999999964],"base":[0,0,0],"x":[1.7749999999999999,3.8714285714285714,5.1124999999999998],"y":[1,2,1],"text":["count:  1<br />REGION_UN: Americas<br />ECONOMY: 3. Emerging region: BRIC","count:  2<br />REGION_UN: Asia<br />ECONOMY: 3. Emerging region: BRIC","count:  1<br />REGION_UN: Europe<br />ECONOMY: 3. Emerging region: BRIC"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(83,180,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"3. Emerging region: BRIC","legendgroup":"3. Emerging region: BRIC","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.14999999999999991,0.12857142857142856],"base":[0,0],"x":[1.925,4],"y":[1,3],"text":["count:  1<br />REGION_UN: Americas<br />ECONOMY: 4. Emerging region: MIKT","count:  3<br />REGION_UN: Asia<br />ECONOMY: 4. Emerging region: MIKT"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,192,148,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"4. Emerging region: MIKT","legendgroup":"4. Emerging region: MIKT","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.30000000000000004,0.15000000000000036,0.12857142857142811],"base":[0,0,0],"x":[0.69999999999999996,2.0750000000000002,4.128571428571429],"y":[5,9,5],"text":["count:  5<br />REGION_UN: Africa<br />ECONOMY: 5. Emerging region: G20","count:  9<br />REGION_UN: Americas<br />ECONOMY: 5. Emerging region: G20","count:  5<br />REGION_UN: Asia<br />ECONOMY: 5. Emerging region: G20"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,182,235,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"5. Emerging region: G20","legendgroup":"5. Emerging region: G20","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.29999999999999993,0.15000000000000036,0.90000000000000036,0.12857142857142811,0.22499999999999964,0.22499999999999964],"base":[0,0,0,0,0,0],"x":[1,2.2250000000000001,3,4.2571428571428571,5.3375000000000004,6.1124999999999998],"y":[17,21,1,26,9,7],"text":["count: 17<br />REGION_UN: Africa<br />ECONOMY: 6. Developing region","count: 21<br />REGION_UN: Americas<br />ECONOMY: 6. Developing region","count:  1<br />REGION_UN: Antarctica<br />ECONOMY: 6. Developing region","count: 26<br />REGION_UN: Asia<br />ECONOMY: 6. Developing region","count:  9<br />REGION_UN: Europe<br />ECONOMY: 6. Developing region","count:  7<br />REGION_UN: Oceania<br />ECONOMY: 6. Developing region"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,138,255,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"6. Developing region","legendgroup":"6. Developing region","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.29999999999999982,0.15000000000000036,0.12857142857142811,0.22499999999999964],"base":[0,0,0,0],"x":[1.3,2.375,4.3857142857142861,6.3375000000000004],"y":[34,1,10,5],"text":["count: 34<br />REGION_UN: Africa<br />ECONOMY: 7. Least developed region","count:  1<br />REGION_UN: Americas<br />ECONOMY: 7. Least developed region","count: 10<br />REGION_UN: Asia<br />ECONOMY: 7. Least developed region","count:  5<br />REGION_UN: Oceania<br />ECONOMY: 7. Least developed region"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(251,97,215,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"7. Least developed region","legendgroup":"7. Least developed region","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Cantidad de países por región de la ONU y nivel de economía","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,6.5999999999999996],"tickmode":"array","ticktext":["Africa","Americas","Antarctica","Asia","Europe","Oceania"],"tickvals":[1,2,3,3.9999999999999996,5,6],"categoryorder":"array","categoryarray":["Africa","Americas","Antarctica","Asia","Europe","Oceania"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Región de la ONU","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.7000000000000002,35.700000000000003],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[2.2204460492503131e-16,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Cantidad de países","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Nivel de economía","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"locale":"es"},"source":"A","attrs":{"2e3c6e82b30c":{"x":{},"fill":{},"type":"bar"}},"cur_data":"2e3c6e82b30c","visdat":{"2e3c6e82b30c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
</section>
<section id="recursos-de-interés" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="recursos-de-interés"><span class="header-section-number">9.5</span> Recursos de interés</h2>
<p><em>DT: An R interface to the DataTables library</em>. (s. f.). Recuperado 21 de mayo de 2022, de <a href="https://rstudio.github.io/DT/">https://rstudio.github.io/DT/</a></p>
<p>Healy, Y. H. and C. (s. f.). <em>From data to Viz | Find the graphic you need</em>. Recuperado 20 de marzo de 2022, de <a href="https://www.data-to-viz.com/">https://www.data-to-viz.com/</a></p>
<p>RStudio. (2017). <em>Data visualization with ggplot2::Cheat Sheet</em>. <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization.pdf">https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization.pdf</a></p>
<p>Wickham, H. (2010). <em>A Layered Grammar of Graphics. Journal of Computational and Graphical Statistics, 19</em>(1), 3-28. <a href="https://doi.org/10.1198/jcgs.2009.07098">https://doi.org/10.1198/jcgs.2009.07098</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./08-dplyr.html" class="pagination-link" aria-label="dplyr - gramática para manipulación de datos">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">dplyr - gramática para manipulación de datos</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./10-introduccion-manejo-datos-geoespaciales.html" class="pagination-link" aria-label="Introducción al manejo de datos geoespaciales con R">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introducción al manejo de datos geoespaciales con R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>